!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.FYGE=e():t.FYGE=e()}(window,(function(){return function(t){var e={};function r(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=t,r.c=e,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=64)}([function(t,e,r){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.GC_MODES=e.WRAP_MODES=e.SCALE_MODES=e.DRAW_MODES=e.BLEND_MODES=e.LINE_JOIN=e.LINE_CAP=e.LINE_ALIGNMENT=e.TEXT_lINETYPE=e.VERTICAL_ALIGN=e.TEXT_ALIGN=e.TEXT_GRADIENT=e.PRECISION=e.SHAPES=e.RENDERER_TYPE=e.DEG_TO_RAD=e.RAD_TO_DEG=e.PI_2=e.sin=e.cos=e.osType=e.VERSION=void 0,e.VERSION="2.0.17",e.osType=navigator&&navigator.userAgent&&(i=navigator.userAgent.toLocaleLowerCase(),/android/.test(i)?"android":/iphone|ipod|ipad/.test(i)?"ios":"pc")||my.getSystemInfoSync().platform.toLowerCase();var n=Math.PI,o=n>>1,a=n+o;e.cos=function(t){switch(t){case o:case-a:return 0;case n:case-n:return-1;case a:case-o:return 0;default:return Math.cos(t)}},e.sin=function(t){switch(t){case o:case-a:return 1;case n:case-n:return 0;case a:case-o:return-1;default:return Math.sin(t)}},e.PI_2=2*n,e.RAD_TO_DEG=180/n,e.DEG_TO_RAD=n/180,function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(e.RENDERER_TYPE||(e.RENDERER_TYPE={})),function(t){t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC"}(e.SHAPES||(e.SHAPES={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(e.PRECISION||(e.PRECISION={})),function(t){t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"}(e.TEXT_GRADIENT||(e.TEXT_GRADIENT={})),function(t){t.CENTER="center",t.LEFT="left",t.RIGHT="right"}(e.TEXT_ALIGN||(e.TEXT_ALIGN={})),function(t){t.MIDDLE="middle",t.UP="up",t.DOWN="down"}(e.VERTICAL_ALIGN||(e.VERTICAL_ALIGN={})),function(t){t.SINGLE="single",t.MULTI="multi"}(e.TEXT_lINETYPE||(e.TEXT_lINETYPE={})),function(t){t[t.middle=.5]="middle",t[t.outter=1]="outter",t[t.inner=0]="inner"}(e.LINE_ALIGNMENT||(e.LINE_ALIGNMENT={})),function(t){t.BUTT="butt",t.ROUND="round",t.SQUARE="square"}(e.LINE_CAP||(e.LINE_CAP={})),function(t){t.MITER="miter",t.ROUND="round",t.BEVEL="bevel"}(e.LINE_JOIN||(e.LINE_JOIN={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=21]="SRC_OVER",t[t.SRC_IN=22]="SRC_IN",t[t.SRC_OUT=23]="SRC_OUT",t[t.SRC_ATOP=24]="SRC_ATOP",t[t.DST_OVER=25]="DST_OVER",t[t.DST_IN=26]="DST_IN",t[t.DST_OUT=27]="DST_OUT",t[t.DST_ATOP=28]="DST_ATOP",t[t.ERASE=29]="ERASE",t[t.SUBTRACT=30]="SUBTRACT"}(e.BLEND_MODES||(e.BLEND_MODES={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(e.DRAW_MODES||(e.DRAW_MODES={})),function(t){t[t.LINEAR=0]="LINEAR",t[t.NEAREST=1]="NEAREST"}(e.SCALE_MODES||(e.SCALE_MODES={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(e.WRAP_MODES||(e.WRAP_MODES={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(e.GC_MODES||(e.GC_MODES={}))},function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||e.hasOwnProperty(r)||i(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),e.decodeText=e.ArrayBufferToBase64=e.clamp=e.removeItems=e.isWebGLSupported=e.GlobalPro=e.clearTextureCache=e.destroyTextureCache=e.TextureSheetCache=e.BaseTextureCache=e.TextureCache=e.premultiplyTint=e.sign=e.getUrlFileExtension=e.decomposeDataUri=e.getRGBA=e.rgb2hex=e.string2hex=e.hex2string=e.hex2rgb=e.getCanvasBitmapStyle=e.getGradientColor=e.getBackupCanvasCtx=e.uid=e.premultiplyBlendMode=void 0;var o=r(0),a=r(67),s=r(14);n(r(34),e);var u=r(68);Object.defineProperty(e,"toDisplayDataURL",{enumerable:!0,get:function(){return u.default}});var h=r(73);Object.defineProperty(e,"determineCrossOrigin",{enumerable:!0,get:function(){return h.default}}),n(r(74),e),n(r(75),e),n(r(76),e),n(r(77),e),n(r(14),e),e.premultiplyBlendMode=a.mapPremultipliedBlendModes();var l,c=0;function f(){if(!l){var t=s.createCanvas();t.width=1,t.height=1,l=t.getContext("2d")}return l}function d(t,e){if(0==t.indexOf("0x")&&(t=t.replace("0x","#")),t.length<7&&(t="#000000"),1!=e){var r=parseInt("0x"+t.substr(1,2)),i=parseInt("0x"+t.substr(3,2)),n=parseInt("0x"+t.substr(5,2));t="rgba("+r+","+i+","+n+","+e+")"}return t}e.uid=function(){return++c},e.getBackupCanvasCtx=f,e.getGradientColor=function(t,e){var r,i=f();r=4==t.length?i.createLinearGradient(t[0],t[1],t[2],t[3]):i.createRadialGradient(t[0],t[1],t[2],t[3],t[4],t[5]);for(var n=0,o=e.length;n<o;n++)r.addColorStop(e[n][0],d(e[n][1],e[n][2]));return r},e.getCanvasBitmapStyle=function(t){return f().createPattern(t,"repeat")},e.hex2rgb=function(t,e){return(e=e||[])[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e},e.hex2string=function(t){return t=t.toString(16),"#"+(t="000000".substr(0,6-t.length)+t)},e.string2hex=function(t){return 0==t.indexOf("#")&&(t=t.replace("#","0x")),parseInt(t)},e.rgb2hex=function(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)},e.getRGBA=d;var p=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;e.decomposeDataUri=function(t){var e=p.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}};var v,_=/\.(\w{3,4})(?:$|\?|#)/i;e.getUrlFileExtension=function(t){var e=_.exec(t);if(e)return e[1].toLowerCase()},e.sign=function(t){return 0===t?0:t<0?-1:1},e.premultiplyTint=function(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var r=t>>16&255,i=t>>8&255,n=255&t;return(255*e<<24)+((r=r*e+.5|0)<<16)+((i=i*e+.5|0)<<8)+(n=n*e+.5|0)},e.TextureCache=Object.create(null),e.BaseTextureCache=Object.create(null),e.TextureSheetCache=Object.create(null),e.destroyTextureCache=function(){var t;for(t in e.TextureCache)e.TextureCache[t].destroy();for(t in e.BaseTextureCache)e.BaseTextureCache[t].destroy()},e.clearTextureCache=function(){var t;for(t in e.TextureCache)delete e.TextureCache[t];for(t in e.BaseTextureCache)delete e.BaseTextureCache[t]},e.GlobalPro={stageRenderType:o.RENDERER_TYPE.WEBGL,dpi:1,padding:2},e.isWebGLSupported=function(){if("tb"==s.getEnv())return!0;if(void 0!==v)return v;var t={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var e=s.createCanvas(),r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),i=!(!r||!r.getContextAttributes().stencil);if(r){var n=r.getExtension("WEBGL_lose_context");n&&n.loseContext()}return r=null,v=i}catch(t){return v=!1}},e.removeItems=function(t,e,r){var i,n=t.length;if(!(e>=n||0===r)){var o=n-(r=e+r>n?n-e:r);for(i=e;i<o;++i)t[i]=t[i+r];t.length=o}},e.clamp=function(t,e,r){return Math.max(e,Math.min(r,t))},e.ArrayBufferToBase64=function(t){for(var e,r,i,n="",o=new Uint8Array(t),a=8*t.byteLength,s=0;s<a;s+=6)r=s%8,i=(o[e=s/8|0]||0)<<r>>2,r>2&&(i|=(o[e+1]||0)>>10-r),n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&i);return n+=4==r?"=":6==r?"==":""},e.decodeText=function(t){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(t);for(var e="",r=0,i=t.length;r<i;r++)e+=String.fromCharCode(t[r]);return decodeURIComponent(escape(e))}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(25);Object.defineProperty(e,"Matrix",{enumerable:!0,get:function(){return i.Matrix}});var n=r(19);Object.defineProperty(e,"Point",{enumerable:!0,get:function(){return n.Point}});var o=r(31);Object.defineProperty(e,"ObservablePoint",{enumerable:!0,get:function(){return o.ObservablePoint}});var a=r(32);Object.defineProperty(e,"Rectangle",{enumerable:!0,get:function(){return a.Rectangle}});var s=r(65);Object.defineProperty(e,"Transform",{enumerable:!0,get:function(){return s.default}});var u=r(33);Object.defineProperty(e,"GroupD8",{enumerable:!0,get:function(){return u.default}})},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HashObject=void 0;var i=function(){function t(){this._instanceId=0,this._instanceType="HashObject",this._instanceId=t._object_id++}return Object.defineProperty(t.prototype,"instanceId",{get:function(){return this._instanceId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"instanceType",{get:function(){return this._instanceType},enumerable:!1,configurable:!0}),t._object_id=0,t}();e.HashObject=i},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.Event=void 0;var o=function(t){function e(e){var r=t.call(this)||this;return r.type="",r.target=null,r.data=null,r._pd=!1,r._instanceType="Event",r.type=e,r}return n(e,t),e.prototype.stopPropagation=function(){this._pd=!0},e.prototype.destroy=function(){this.target=null,this.data=null},e.prototype.reset=function(t,e){var r=this;r.target=e,r._pd=!1,r.type=t,r.data=null},e.RESIZE="onResize",e.SCROLL_TO_HEAD="onScrollToHead",e.SCROLL_STOP="onScrollStop",e.SCROLL_START="onScrollStart",e.SCROLL_TO_END="onScrollToEnd",e.INIT_STAGE="onInitStage",e.ADDED_TO_STAGE="onAddedToStage",e.REMOVED_FROM_STAGE="onRemovedFromStage",e.ENTER_FRAME="onEnterFrame",e.END_FRAME="onEndFrame",e.CALL_FRAME="onCallFrame",e.COMPLETE="onComplete",e.PROGRESS="onProgress",e.ERROR="onError",e.ABORT="onAbort",e.START="onStart",e.TIMER="onTimer",e.TIMER_COMPLETE="onTimerComplete",e}(r(3).HashObject);e.Event=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(15),a=r(79),s=r(9),u=r(2),h=r(1),l=function(t){function e(r,i,n,o,a,s){var h=t.call(this)||this;return h._instanceType="Texture",h.noFrame=!1,i||(h.noFrame=!0,i=new u.Rectangle(0,0,1,1)),r instanceof e&&(r=r.baseTexture),h.baseTexture=r,h._frame=i,h.trim=o||null,h.valid=!1,h._uvs=null,h.orig=n||i,h._rotate=Number(a||0),r.hasLoaded||r.source&&r.source.getContext?(h.noFrame&&(i=new u.Rectangle(0,0,r.width,r.height),r.addEventListener("update",h.onBaseTextureUpdated,h)),h.frame=i):r.once("loaded",h.onBaseTextureLoaded,h),h.defaultAnchor=s?new u.Point(s.x,s.y):new u.Point(0,0),h._updateID=0,h.transform=null,h.textureCacheIds=[],h}return n(e,t),e.prototype.update=function(){this.baseTexture.update()},e.prototype.onBaseTextureLoaded=function(t){var e=t.target;this._updateID++,this.noFrame?(this.frame=new u.Rectangle(0,0,e.width,e.height),this.baseTexture.addEventListener("update",this.onBaseTextureUpdated,this)):this.frame=this._frame,this.dispatchEvent("update"),this.dispatchEvent("loaded")},e.prototype.onBaseTextureUpdated=function(t){var e=t.target;this._updateID++,this._frame.width=e.width,this._frame.height=e.height,this.orig.width=this._frame.width,this.orig.height=this._frame.height,this.valid=e.hasLoaded,this.dispatchEvent("update")},e.prototype.destroy=function(){this.baseTexture&&(this.baseTexture.removeEventListener("update",this.onBaseTextureUpdated,this),this.baseTexture.removeEventListener("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){return new e(this.baseTexture,this.frame,this.orig,this.trim,this.rotate,this.defaultAnchor)},e.prototype.updateUvs=function(){this._uvs||(this._uvs=new a.default),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},Object.defineProperty(e.prototype,"frame",{get:function(){return this._frame},set:function(t){this._frame=t,this.noFrame=!1;var e=t.x,r=t.y,i=t.width,n=t.height,o=e+i>this.baseTexture.width,a=r+n>this.baseTexture.height;if(o||a){var s=o&&a?"and":"or",u="X: "+e+" + "+i+" = "+(e+i)+" > "+this.baseTexture.width,h="Y: "+r+" + "+n+" = "+(r+n)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+u+" "+s+" "+h)}this.valid=i&&n&&this.baseTexture.source&&this.baseTexture.hasLoaded,this.trim||this.rotate||(this.orig=t),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotate",{get:function(){return this._rotate},set:function(t){this._rotate!=t&&(this._rotate=t,this.valid&&this.updateUvs())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),e.fromUrl=function(t){var r=h.TextureCache[t];return r||(r=new e(o.default.fromUrl(t)),e.addToCache(r,t)),r},e.fromCanvas=function(t,r){return void 0===r&&(r="canvas"),new e(o.default.fromCanvas(t,r))},e.fromData=function(t){return new e(o.default.fromData(t))},e.fromImage=function(t){var r=t.src,i=h.TextureCache[r];return i||(i=new e(o.default.fromImage(t)),r&&0!==r.indexOf("data:")&&e.addToCache(i,r)),i},e.from=function(t){return"string"==typeof t?e.fromUrl(t):t.data?e.fromData(t):t.getContext?e.fromCanvas(t):e.fromImage(t)},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),h.TextureCache[e]&&console.warn("Texture added to the cache with an id ["+e+"] that already had an entry"),h.TextureCache[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=h.TextureCache[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete h.TextureCache[t],e}}else if(t&&t.textureCacheIds){for(var i=0;i<t.textureCacheIds.length;++i)h.TextureCache[t.textureCacheIds[i]]===t&&delete h.TextureCache[t.textureCacheIds[i]];return t.textureCacheIds.length=0,t}return null},e}(s.EventDispatcher);function c(t){t.destroy=function(){},t.addEventListener=function(){},t.once=function(){},t.dispatchEvent=function(){}}e.default=l,l.EMPTY=new l(new o.default),c(l.EMPTY),c(l.EMPTY.baseTexture);var f={data:function(){for(var t=[],e=0;e<1024;e++)t.push(255);return new Uint8Array(t)}(),width:16,height:16,type:null,path:null};l.WHITE=new l(new o.default(f)),c(l.WHITE),c(l.WHITE.baseTexture)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(101),n=r(0),o=r(1),a={},s=function(){function t(e,r,s){for(var u in this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=r||t.defaultFragmentSrc,this._blendMode=n.BLEND_MODES.NORMAL,this.uniformData=s||i.default(this.vertexSrc,this.fragmentSrc),this.uniforms={},this.uniformData)this.uniforms[u]=this.uniformData[u].value,this.uniformData[u].type&&(this.uniformData[u].type=this.uniformData[u].type.toLowerCase());this.glShaders={},a[this.vertexSrc+this.fragmentSrc]||(a[this.vertexSrc+this.fragmentSrc]=o.uid()),this.glShaderKey=a[this.vertexSrc+this.fragmentSrc],this.padding=4,this.resolution=1,this.enabled=!0,this.autoFit=!0}return Object.defineProperty(t.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this._blendMode=t},enumerable:!1,configurable:!0}),t.prototype.apply=function(t,e,r,i){t.applyFilter(this,e,r,i)},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 projectionMatrix;","uniform mat3 filterMatrix;","varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;","   vTextureCoord = aTextureCoord ;","}"].join("\n")},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return["varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","uniform sampler2D uSampler;","uniform sampler2D filterSampler;","void main(void){","   vec4 masky = texture2D(filterSampler, vFilterCoord);","   vec4 sample = texture2D(uSampler, vTextureCoord);","   vec4 color;","   if(mod(vFilterCoord.x, 1.0) > 0.5)","   {","     color = vec4(1.0, 0.0, 0.0, 1.0);","   }","   else","   {","     color = vec4(0.0, 1.0, 0.0, 1.0);","   }","   gl_FragColor = mix(sample, masky, 0.5);","   gl_FragColor *= sample.a;","}"].join("\n")},enumerable:!1,configurable:!0}),t}();e.default=s},function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||e.hasOwnProperty(r)||i(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0});var o=r(8);Object.defineProperty(e,"Container",{enumerable:!0,get:function(){return o.default}}),n(r(12),e),n(r(66),e);var a=r(13);Object.defineProperty(e,"Sprite",{enumerable:!0,get:function(){return a.default}}),n(r(80),e)},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(12),a=r(32),s=r(4),u=function(t){function e(){var e=t.call(this)||this;return e.mouseChildren=!0,e._instanceType="Container",e.children=[],e}return n(e,t),e.prototype.onChildrenChange=function(t){},e.prototype.addChild=function(t){return this.addChildAt(t,this.children.length),t},e.prototype.addChildren=function(){for(var t=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.forEach((function(e){t.addChild(e)})),e},e.prototype.addChildAt=function(t,e){if(t){var r,i=this,n=i==t.parent;if(t.parent)if(n){r=i.children.length;for(var o=0;o<r;o++)if(i.children[o]==t){i.children.splice(o,1);break}}else t.parent.removeChild(t);return t.parent=i,t.transform._parentID=-1,this._boundsID++,e>=(r=i.children.length)?(i.children[i.children.length]=t,e=r):0==e||e<0?(i.children.unshift(t),e=0):i.children.splice(e,0,t),i.stage&&!n&&t._onDispatchBubbledEvent(s.Event.ADDED_TO_STAGE),this.onChildrenChange(e),t}},e.prototype.swapChildren=function(t,e){if(t!==e){var r=this,i=-1,n=-1,o=r.children.length;if((i="number"==typeof t?t:r.getChildIndex(t))==(n="number"==typeof e?e:r.getChildIndex(e))||i<0||i>=o||n<0||n>=o)return!1;var a=r.children[i];return r.children[i]=r.children[n],r.children[n]=a,this.onChildrenChange(i<n?i:n),!0}},e.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);return-1===e?null:e},e.prototype.setChildIndex=function(t,e){this.addChildAt(t,e)},e.prototype.getChildAt=function(t){return t<0||t>=this.children.length?null:this.children[t]},e.prototype.getChildByName=function(t,r,i){if(void 0===r&&(r=!0),void 0===i&&(i=!1),!t)return null;var n;n="string"==typeof t?new RegExp("^"+t+"$"):t;var o=[];e._getElementsByName(n,this,r,i,o);var a=o.length;return 0==a?null:1==a?o[0]:o},e.prototype.removeChild=function(t){var e=this.children.indexOf(t);return-1===e?null:(this.removeChildAt(e),t)},e.prototype.removeChildAt=function(t){var e,r=this,i=r.children.length-1;if(!(i<0))return(e=t==i?r.children.pop():0==t?r.children.shift():r.children.splice(t,1)[0])._onDispatchBubbledEvent(s.Event.REMOVED_FROM_STAGE),e.parent=null,e.transform._parentID=-1,this._boundsID++,this.onChildrenChange(t),e},e.prototype.removeChildren=function(){for(var t=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.length?(e.forEach((function(e){t.removeChild(e)})),e):this.spliceChildren(0,this.children.length)},e.prototype.removeAllChildren=function(){return this.removeChildren()},e.prototype.removeChildrenAt=function(t,e){void 0===t&&(t=0),void 0===e&&(e=this.children.length);var r=t,i="number"==typeof e?e:this.children.length,n=i-r;if(n>0&&n<=i)return this.spliceChildren(r,n);if(0===n&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.spliceChildren=function(t,e){var r=this.children.splice(t,e);if(!r.length)return[];for(var i=0;i<r.length;++i)r[i].parent=null,r[i].transform&&(r[i].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(i=0;i<r.length;++i)r[i]._onDispatchBubbledEvent(s.Event.REMOVED_FROM_STAGE);return r},e.prototype.updateTransform=function(){t.prototype.updateTransform.call(this);for(var e=0,r=this.children.length;e<r;++e){var i=this.children[e];i.visible&&i.updateTransform()}},e.prototype.calculateBounds=function(){if(this._lastBoundsID!=this._boundsID){this._lastBoundsID=this._boundsID,this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];e.visible&&e.renderable&&(e.calculateBounds(),e.mask?(e.mask.calculateBounds(),e._bounds.x<e.mask._bounds.x&&(e._bounds.x=e.mask._bounds.x),e._bounds.y<e.mask._bounds.y&&(e._bounds.y=e.mask._bounds.y),e._bounds.width>e.mask._bounds.width&&(e._bounds.width=e.mask._bounds.width),e._bounds.height>e.mask._bounds.height&&(e._bounds.height=e.mask._bounds.height),a.Rectangle.createFromRects(this._bounds,e._bounds)):e.filterArea||a.Rectangle.createFromRects(this._bounds,e._bounds))}}},e.prototype._calculateBounds=function(){},e.prototype.hitTestPoint=function(t,e){if(void 0===e&&(e=!1),!this.visible)return null;if(e&&!this.mouseChildren)return null;for(var r,i,n=this.children,o=n.length-1;o>=0;o--)if(!(r=n[o]).isUsedToMask&&(!r.mask||r.mask.hitTestPoint(t,e))&&(i=r.hitTestPoint(t,e)))return i;return null},e.prototype.renderWebGL=function(t){if(this.visible&&!(this._worldAlpha<=0)&&this.renderable)if(this.mask||this.filters&&this.filters.length)this.renderAdvancedWebGL(t);else{this._renderWebGL(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].renderWebGL(t)}},e.prototype.renderAdvancedWebGL=function(t){t.batchManager.flush();var e=this.filters;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var r=0;r<e.length;r++)e[r].enabled&&this._enabledFilters.push(e[r]);this._enabledFilters.length&&t.filterManager.pushFilter(this,this._enabledFilters)}var i=this.mask;i&&t.maskManager.pushMask(this,this.mask),this._renderWebGL(t);r=0;for(var n=this.children.length;r<n;r++)this.children[r].renderWebGL(t);t.batchManager.flush(),i&&t.maskManager.popMask(this,this.mask),e&&this._enabledFilters&&this._enabledFilters.length&&t.filterManager.popFilter()},e.prototype._renderWebGL=function(t){},e.prototype.renderCanvas=function(t){if(this.visible&&!(this._worldAlpha<=0)&&this.renderable){this.mask&&t.maskManager.pushMask(this.mask),this._renderCanvas(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].renderCanvas(t);this.mask&&t.maskManager.popMask(t)}},e.prototype._renderCanvas=function(t){},e.prototype.update=function(){if(this.visible){t.prototype.update.call(this);for(var e=this.children.length-1;e>=0;e--){var r=this.children[e];r.visible&&r.update()}}},e.prototype._onDispatchBubbledEvent=function(e){var r=this,i=r.children.length;if(e!=s.Event.REMOVED_FROM_STAGE||r.stage){t.prototype._onDispatchBubbledEvent.call(this,e);for(var n=0;n<i;n++)r.children[n]._onDispatchBubbledEvent(e)}},e.prototype.destroy=function(){for(var e=this.children.length-1;e>=0;e--)this.children[e].destroy();t.prototype.destroy.call(this),this.mouseChildren=!1},Object.defineProperty(e.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t},enumerable:!1,configurable:!0}),e._getElementsByName=function(t,r,i,n,o){var a=r.children.length;if(a>0)for(var s,u=void 0,h=0;h<a;h++){if((s=(u=r.children[h]).name)&&""!=s&&t.test(s)&&(o[o.length]=u,i))return;n&&null!=u.children&&e._getElementsByName(t,u,i,n,o)}},e}(o.DisplayObject);e.default=u,u.prototype.containerUpdateTransform=u.prototype.updateTransform},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.EventDispatcher=void 0;var o=r(3),a=r(4),s=function(t){function e(){var e=t.call(this)||this;return e.eventTypes={},e.eventTypes1={},e._instanceType="EventDispatcher",e}return n(e,t),e.getMouseEventCount=function(t){void 0===t&&(t="");var r=0;if(""==t)for(var i in e._MECO)0==i.indexOf("onMouse")&&(r+=e._MECO[i]);else e._MECO[t]&&(r=e._MECO[t]);return r},e.prototype.addEventListener=function(t,e,r,i){if(void 0===i&&(i=!0),!t)throw new Error("娣诲姞渚﹀惉鐨則ype鍊间负undefined");if(!e)throw new Error("渚﹀惉鍥炶皟鍑芥暟涓嶈兘涓簄ull");var n=this,o=n.eventTypes;i||(o=n.eventTypes1),o[t]||(o[t]=[]);for(var a=0,s=o[t].length;a<s;a++){var h=o[t][a];if(h.fn===e&&h.context===r)return console.log("宸叉坊鍔犺繃璇ヤ簨浠�"),n}return o[t].unshift(new u(e,r||n)),0==t.indexOf("onMouse")&&n._changeMouseCount(t,!0),n},e.prototype.once=function(t,e,r,i){if(void 0===i&&(i=!0),!t)throw new Error("娣诲姞渚﹀惉鐨則ype鍊间负undefined");if(!e)throw new Error("渚﹀惉鍥炶皟鍑芥暟涓嶈兘涓簄ull");var n=this,o=n.eventTypes;return i||(o=n.eventTypes1),o[t]||(o[t]=[]),o[t].unshift(new u(e,r||n,!0)),0==t.indexOf("onMouse")&&n._changeMouseCount(t,!0),n},e.prototype._changeMouseCount=function(t,r){var i=r?1:-1;e._MECO[t]||(e._MECO[t]=0),e._MECO[t]+=i,e._MECO[t]<0&&(e._MECO[t]=0),e._totalMEC+=i},e.prototype.dispatchEvent=function(t,e,r){void 0===e&&(e=null),void 0===r&&(r=!0);var i=this;"string"==typeof t&&(i._defaultEvent?i._defaultEvent.reset(t,i):i._defaultEvent=new a.Event(t),t=i._defaultEvent);var n=i.eventTypes[t.type];if(r||(n=i.eventTypes1[t.type]),n){var o=n.length;null==t.target&&(t.target=i),null!=e&&(t.data=e);for(var s=o-1;s>=0;s--)if(!t._pd)if(n[s]){var u=n[s],h=t.type;u.fn.call(u.context,t),u.once&&i.removeEventListener(h,u.fn,u.context,r)}else n.splice(s,1);return!0}return!1},e.prototype.hasEventListener=function(t,e){void 0===e&&(e=!0);var r=this;if(e){if(r.eventTypes[t]&&r.eventTypes[t].length>0)return!0}else if(r.eventTypes1[t]&&r.eventTypes1[t].length>0)return!0;return!1},e.prototype.removeAllEventListenerByType=function(t,e){void 0===e&&(e=!0);var r=this;if(e){if(r.eventTypes[t]&&r.eventTypes[t].length>0){if(0==t.indexOf("onMouse"))for(var i=0;i<r.eventTypes[t].length;i++)r._changeMouseCount(t,!1);r.eventTypes[t]=[]}}else if(r.eventTypes1[t]&&r.eventTypes1[t].length>0){if(0==t.indexOf("onMouse"))for(i=0;i<r.eventTypes1[t].length;i++)r._changeMouseCount(t,!1);r.eventTypes1[t]=[]}return r},e.prototype.removeEventListener=function(t,e,r,i){void 0===i&&(i=!0);var n=this,o=n.eventTypes[t];if(i||(o=n.eventTypes1[t]),o)for(var a=r||n,s=o.length-1;s>=0;s--)o[s].fn===e&&o[s].context===a&&(o.splice(s,1),0==t.indexOf("onMouse")&&n._changeMouseCount(t,!1));return n},e.prototype.removeAllEventListener=function(){var t=this;for(var e in t.eventTypes)if(0==e.indexOf("onMouse"))for(var r=0;r<t.eventTypes[e].length;r++)t._changeMouseCount(e,!1);for(var e in t.eventTypes1)if(0==e.indexOf("onMouse"))for(r=0;r<t.eventTypes1[e].length;r++)t._changeMouseCount(e,!1);t.eventTypes1={},t.eventTypes={}},e.prototype.destroy=function(){var t=this;t.removeAllEventListener(),t.eventTypes=null,t.eventTypes1=null},e._MECO={},e._totalMEC=0,e}(o.HashObject);e.EventDispatcher=s;var u=function(t,e,r){void 0===r&&(r=!1),this.fn=t,this.context=e,this.once=r}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(42);Object.defineProperty(e,"GLTexture",{enumerable:!0,get:function(){return i.GLTexture}});var n=r(85);Object.defineProperty(e,"GLBuffer",{enumerable:!0,get:function(){return n.GLBuffer}});var o=r(86);Object.defineProperty(e,"VertexArrayObject",{enumerable:!0,get:function(){return o.VertexArrayObject}});var a=r(88);Object.defineProperty(e,"GLFramebuffer",{enumerable:!0,get:function(){return a.GLFramebuffer}});var s=r(89);Object.defineProperty(e,"GLShader",{enumerable:!0,get:function(){return s.GLShader}});var u=r(41);Object.defineProperty(e,"createContext",{enumerable:!0,get:function(){return u.createContext}});var h=r(40);Object.defineProperty(e,"checkMaxIfStatementsInShader",{enumerable:!0,get:function(){return h.checkMaxIfStatementsInShader}});var l=r(44);Object.defineProperty(e,"defaultValue",{enumerable:!0,get:function(){return l.defaultValue}})},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.newArray=e.setArraySize=e.arrayCopy=e.binarySearch=e.MixDirection=e.MixBlend=e.readCurve=e.Curve=void 0;var i=r(1),n=function(){function t(e){this.curves=new Float32Array((e-1)*t.BEZIER_SIZE)}return t.prototype.getFrameCount=function(){return this.curves.length/t.BEZIER_SIZE+1},t.prototype.setLinear=function(e){this.curves[e*t.BEZIER_SIZE]=t.LINEAR},t.prototype.setStepped=function(e){this.curves[e*t.BEZIER_SIZE]=t.STEPPED},t.prototype.getCurveType=function(e){var r=e*t.BEZIER_SIZE;if(r==this.curves.length)return t.LINEAR;var i=this.curves[r];return i==t.LINEAR?t.LINEAR:i==t.STEPPED?t.STEPPED:t.BEZIER},t.prototype.setCurve=function(e,r,i,n,o){var a=.03*(2*-r+n),s=.03*(2*-i+o),u=.006*(3*(r-n)+1),h=.006*(3*(i-o)+1),l=2*a+u,c=2*s+h,f=.3*r+a+.16666667*u,d=.3*i+s+.16666667*h,p=e*t.BEZIER_SIZE,v=this.curves;v[p++]=t.BEZIER;for(var _=f,y=d,g=p+t.BEZIER_SIZE-1;p<g;p+=2)v[p]=_,v[p+1]=y,f+=l,d+=c,l+=u,c+=h,_+=f,y+=d},t.prototype.getCurvePercent=function(e,r){r=i.clamp(r,0,1);var n=this.curves,o=e*t.BEZIER_SIZE,a=n[o];if(a==t.LINEAR)return r;if(a==t.STEPPED)return 0;for(var s=0,u=++o,h=o+t.BEZIER_SIZE-1;o<h;o+=2)if((s=n[o])>=r){var l=void 0,c=void 0;return o==u?(l=0,c=0):(l=n[o-2],c=n[o-1]),c+(n[o+1]-c)*(r-l)/(s-l)}var f=n[o-1];return f+(1-f)*(r-s)/(1-s)},t.LINEAR=0,t.STEPPED=1,t.BEZIER=2,t.BEZIER_SIZE=19,t}();e.Curve=n,e.readCurve=function(t,e,r){if(t.hasOwnProperty("curve"))if("stepped"===t.curve)e.setStepped(r);else if("[object Array]"===Object.prototype.toString.call(t.curve)){var i=t.curve;e.setCurve(r,i[0],i[1],i[2],i[3])}else e.setCurve(r,t.curve,t.c2||0,t.c3||1,t.c4||1)},function(t){t[t.setup=0]="setup",t[t.first=1]="first",t[t.replace=2]="replace",t[t.add=3]="add"}(e.MixBlend||(e.MixBlend={})),function(t){t[t.in=0]="in",t[t.out=1]="out"}(e.MixDirection||(e.MixDirection={})),e.binarySearch=function(t,e,r){void 0===r&&(r=1);var i=0,n=t.length/r-2;if(0==n)return r;for(var o=n>>>1;;){if(t[(o+1)*r]<=e?i=o+1:n=o,i==n)return(i+1)*r;o=i+n>>>1}},e.arrayCopy=function(t,e,r,i,n){for(var o=e,a=i;o<e+n;o++,a++)r[a]=t[o]},e.setArraySize=function(t,e,r){void 0===r&&(r=0);var i=t.length;if(i==e)return t;if(t.length=e,i<e)for(var n=i;n<e;n++)t[n]=r;return t},e.newArray=function(t,e){for(var r=new Array(t),i=0;i<t;i++)r[i]=e;return r}},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.DisplayObject=void 0;var o=r(9),a=r(2),s=r(4),u=r(0),h=function(t){function e(){var e=t.call(this)||this;return e.mouseEnable=!0,e._instanceType="DisplayObject",e.tempDisplayObjectParent=null,e.transform=new a.Transform,e._alpha=1,e.visible=!0,e.renderable=!0,e.parent=null,e._worldAlpha=1,e.filterArea=null,e._filters=null,e._enabledFilters=null,e._localBoundsSelf=new a.Rectangle,e._bounds=new a.Rectangle,e._boundsID=0,e._lastBoundsID=-1,e._mask=null,e.destroyed=!1,e}return n(e,t),Object.defineProperty(e.prototype,"filters",{get:function(){return this._filters&&this._filters.slice()},set:function(t){this._filters=t&&t.slice()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_tempDisplayObjectParent",{get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new e),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),e.prototype.updateTransform=function(){this.transform.updateWorldMatrix(this.parent.transform),this._worldAlpha=this.alpha*this.parent._worldAlpha},e.prototype.hitTestPoint=function(t,r){void 0===r&&(r=!1);var i=this;if(!i.visible)return null;if(r&&!i.mouseEnable)return null;if(r){if(i._localBoundsSelf.isPointIn(i.globalToLocal(t,e._bp)))return i}else if(i._localBoundsSelf.isPointIn(t))return i;return null},e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateWorldMatrix(this.parent.transform)):this.transform.updateWorldMatrix(this._tempDisplayObjectParent.transform)},e.prototype.getBounds=function(t,r){return void 0===t&&(t=!1),void 0===r&&(r=e.temBounds),t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this.calculateBounds(),r.copy(this._bounds)},e.prototype.getLocalBounds=function(t){void 0===t&&(t=e.temBounds);var r=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var n=this.getBounds(!1,t);return this.parent=i,this.transform=r,this.parent&&this.updateTransform(),n},e.prototype.calculateBounds=function(){this._lastBoundsID!=this._boundsID&&(this._lastBoundsID=this._boundsID)},e.prototype.globalToLocal=function(t,r){return void 0===r&&(r=null),this.worldMatrix.transformPointInverse(t.x,t.y,r||e._bp)},e.prototype.localToGlobal=function(t,r){void 0===r&&(r=null);var i=this.worldMatrix.transformPoint(t.x,t.y,r||e._bp);return this.stage?this.stage.globalToLocal(i,r||e._bp):i},e.prototype._onDispatchBubbledEvent=function(t){var e=this;(t!=s.Event.REMOVED_FROM_STAGE||e.stage)&&(t==s.Event.REMOVED_FROM_STAGE?(e.dispatchEvent(t),e.stage=null):t==s.Event.ADDED_TO_STAGE&&(e.stage=e.parent.stage,e.dispatchEvent(t)))},e.prototype.renderWebGL=function(t){},e.prototype.renderCanvas=function(t){},e.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},e.prototype.setTransform=function(t,e,r,i,n,o,a,s,u){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=1),void 0===i&&(i=1),void 0===n&&(n=0),void 0===o&&(o=0),void 0===a&&(a=0),void 0===s&&(s=0),void 0===u&&(u=0),this.position.x=t,this.position.y=e,this.scale.x=r||1,this.scale.y=i||1,this.rotation=n,this.skew.x=o,this.skew.y=a,this.anchor.x=s,this.anchor.y=u,this},e.prototype.destroy=function(){this.removeAllEventListener(),this.parent&&this.parent.removeChild(this),this.transform.destroy(),this.transform=null,this._localBoundsSelf=null,this._bounds=null,this.tempDisplayObjectParent=null,this._mask=null,this.filterArea=null,this._filters=null,this._enabledFilters=null,this.mouseEnable=!1,this.destroyed=!0},Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(t){this._alpha!=t&&(this._alpha=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(t){this.transform.position.x=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(t){this.transform.position.y=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldMatrix",{get:function(){return this.transform.worldMatrix},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localMatrix",{get:function(){return this.transform.localMatrix},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.transform.position},set:function(t){this.transform.position.copy(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.transform.scale},set:function(t){this.transform.scale.copy(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleX",{get:function(){return this.transform.scale.x},set:function(t){this.transform.scale.x=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleY",{get:function(){return this.transform.scale.y},set:function(t){this.transform.scale.y=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this.transform.anchor},set:function(t){this.transform.anchor.copy(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchorX",{get:function(){return this.transform.anchor.x},set:function(t){this.transform.anchor.x=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchorY",{get:function(){return this.transform.anchor.y},set:function(t){this.transform.anchor.y=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skew",{get:function(){return this.transform.skew},set:function(t){this.transform.skew.copy(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skewX",{get:function(){return this.transform.skew.x*u.RAD_TO_DEG},set:function(t){this.transform.skew.x=t*u.DEG_TO_RAD},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skewY",{get:function(){return this.transform.skew.y*u.RAD_TO_DEG},set:function(t){this.transform.skew.y=t*u.DEG_TO_RAD},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.transform.rotation*u.RAD_TO_DEG},set:function(t){this.transform.rotation=t*u.DEG_TO_RAD},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldVisible",{get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(t){this._mask!=t&&(this._mask&&(this._mask.renderable=!0,this._mask.isUsedToMask=!1),this._mask=t,this._mask&&(this._mask.renderable=!1,this._mask.isUsedToMask=!0,this._boundsID++))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t},enumerable:!1,configurable:!0}),e.prototype.update=function(){this.hasEventListener(s.Event.ENTER_FRAME)&&this.dispatchEvent(s.Event.ENTER_FRAME)},e._bp=new a.Point,e._p1=new a.Point,e._p2=new a.Point,e._p3=new a.Point,e._p4=new a.Point,e.temBounds=new a.Rectangle,e}(o.EventDispatcher);e.DisplayObject=h,h.prototype.displayObjectUpdateTransform=h.prototype.updateTransform,h.prototype.displayObjectHitTestPoint=h.prototype.hitTestPoint},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(2),a=r(1),s=r(0),u=r(5),h=r(8),l=r(12),c=new Uint16Array([0,1,2,0,2,3]),f=function(t){function e(e){var r=t.call(this)||this;return r._blendMode=s.BLEND_MODES.NORMAL,r._instanceType="Sprite",r._anchorTexture=new o.ObservablePoint(r._onAnchorUpdate,r,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),r._texture=null,r._width=0,r._height=0,r._tint=null,r._tintRGB=null,r.tint=16777215,r._cachedTint=16777215,r._uvs=null,r.texture=e||u.default.EMPTY,r._vertexData=new Float32Array(8),r._vertexTrimmedData=null,r._transformID=-1,r._textureID=-1,r._transformTrimmedID=-1,r._textureTrimmedID=-1,r._indices=c,r.pluginName="sprite",r}return n(e,t),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){},enumerable:!1,configurable:!0}),e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._texture.valid&&(this._uvs=this._texture._uvs.uvsFloat32),this._width&&(this.scale.x=a.sign(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=a.sign(this.scale.y)*this._height/this._texture.orig.height),this.updateLocalBoundsSelf()},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1,this.updateLocalBoundsSelf()},e.prototype.updateLocalBoundsSelf=function(){var t=this._texture.orig.width,e=this._texture.orig.height;this._localBoundsSelf.x=-t*this.anchorTexture.x,this._localBoundsSelf.y=-e*this.anchorTexture.y,this._localBoundsSelf.width=t,this._localBoundsSelf.height=e},e.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID||this._textureID!==this._texture._updateID){this._transformID=this.transform._worldID,this._textureID=this._texture._updateID;var t=this._texture,e=this.transform.worldMatrix,r=e.a,i=e.b,n=e.c,o=e.d,a=e.tx,s=e.ty,u=this._vertexData,h=t.trim,l=t.orig,c=this._anchorTexture,f=0,d=0,p=0,v=0;h?(f=(d=h.x-c._x*l.width)+h.width,p=(v=h.y-c._y*l.height)+h.height):(f=(d=-c._x*l.width)+l.width,p=(v=-c._y*l.height)+l.height),u[0]=r*d+n*v+a,u[1]=o*v+i*d+s,u[2]=r*f+n*v+a,u[3]=o*v+i*f+s,u[4]=r*f+n*p+a,u[5]=o*p+i*f+s,u[6]=r*d+n*p+a,u[7]=o*p+i*d+s}},e.prototype.calculateTrimmedVertices=function(){if(this._vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this._vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this._vertexTrimmedData,r=t.orig,i=this._anchorTexture,n=this.transform.worldMatrix,o=n.a,a=n.b,s=n.c,u=n.d,h=n.tx,l=n.ty,c=-i._x*r.width,f=c+r.width,d=-i._y*r.height,p=d+r.height;e[0]=o*c+s*d+h,e[1]=u*d+a*c+l,e[2]=o*f+s*d+h,e[3]=u*d+a*f+l,e[4]=o*f+s*p+h,e[5]=u*p+a*f+l,e[6]=o*c+s*p+h,e[7]=u*p+a*c+l},e.prototype._renderWebGL=function(t){this.calculateVertices(),t.batchManager.setObjectRenderer(t.plugins.batch),t.plugins.batch.render(this)},e.prototype._renderCanvas=function(t){t.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),o.Rectangle.createFromVertexData(this._bounds,this._vertexData)):(this.calculateTrimmedVertices(),o.Rectangle.createFromVertexData(this._bounds,this._vertexTrimmedData))},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(e||(e=l.DisplayObject.temBounds),e.copy(this._localBoundsSelf),e):t.prototype.getLocalBounds.call(this,e)},e.prototype.hitTestPoint=function(e,r){return void 0===r&&(r=!1),this.visible?(i=t.prototype.hitTestPoint.call(this,e,r))?i:(i=this.displayObjectHitTestPoint(e,r))||null:null;var i},e.prototype.destroy=function(){t.prototype.destroy.call(this),this._texture.removeEventListener("update",this._onTextureUpdate,this),this._anchorTexture=null,this._texture=null,this._indices=null,this._uvs=null,this._vertexData=null,this._vertexTrimmedData=null,this.tintedTexture&&(this.tintedTexture=null)},Object.defineProperty(e.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=a.sign(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=a.sign(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchorTexture",{get:function(){return this._anchorTexture},set:function(t){this._anchorTexture.copy(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture===u.default.EMPTY?null:this._texture},set:function(t){this._texture!==t&&(this._texture==u.default.EMPTY||null==this._texture||this._texture.baseTexture.hasLoaded||this._texture.removeEventListener("update",this._onTextureUpdate,this),this._texture=t||u.default.EMPTY,this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,t?t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this):this.updateLocalBoundsSelf())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){t!==this._tint&&(this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16))},enumerable:!1,configurable:!0}),e.fromUrl=function(t){return new e(u.default.fromUrl(t))},e.fromFrame=function(t){var r=a.TextureCache[t];return r||console.warn("TextureCache涓笉瀛樺湪绾圭悊frameId"),new e(r)},e}(h.default);e.default=f},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCancelAnimationFrame=e.getRequestAnimationFrame=e.createImage=e.destroyCanvasContent=e.initedByCanvas=e.createCanvas=e.getEnv=void 0;var i,n="web";window&&(window.my=null),e.getEnv=function(){return n},e.createCanvas=function(){return document&&document.createElement("canvas")||my._createOffscreenCanvas()},e.initedByCanvas=function(t){i={createImage:t.createImage.bind(t),requestAnimationFrame:t.requestAnimationFrame.bind(t),cancelAnimationFrame:t.cancelAnimationFrame.bind(t)},n="tb"},e.destroyCanvasContent=function(){i&&(i.createImage=null,i.requestAnimationFrame=null,i.cancelAnimationFrame=null,i=null)},e.createImage=function(){return i&&i.createImage()||new Image},e.getRequestAnimationFrame=function(){return i&&i.requestAnimationFrame||window.requestAnimationFrame.bind(window)},e.getCancelAnimationFrame=function(){return i&&i.cancelAnimationFrame||window.cancelAnimationFrame.bind(window)}},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(9),a=r(1),s=r(0),u=r(21),h=function(t){function e(e,r){void 0===e&&(e=null),void 0===r&&(r=s.SCALE_MODES.LINEAR);var i=t.call(this)||this;if(i._touchedId=0,i.width=100,i.height=100,i.scaleMode=r,i.hasLoaded=!1,i._isLoading=!1,i.source=null,i.imageType=null,i.premultipliedAlpha=!0,i.imageUrl=null,i.isPowerOfTwo=!1,i.mipmap=!0,i.wrapMode=s.WRAP_MODES.CLAMP,i._glTextures={},i._enabledId=0,i.textureCacheIds=[],e)if(e.data)i._sourceChange(e);else if(e.getContext)i._sourceChange(e);else if(e.complete)i._sourceChange(e),i.dispatchEvent("loaded");else{var n=i;e.onload=function(){n._sourceChange(e),n.dispatchEvent("loaded")}}return i}return n(e,t),e.prototype.update=function(){this.width=this.source.width,this.height=this.source.height,this.hasLoaded=!(!this.width||!this.height),this.isPowerOfTwo=a.isPow2(this.width)&&a.isPow2(this.height),this.dispatchEvent("update")},e.prototype._sourceChange=function(t){this.source=t,this.imageUrl=t.src||t.path||null,this.imageType=this.source.type||null,this.hasLoaded=!0,this.update(),this.dispatchEvent("loaded")},e.prototype.destroy=function(){this.imageUrl&&(delete a.TextureCache[this.imageUrl],this.imageUrl=null),this.source=null,this.dispose(),e.removeFromCache(this),this.textureCacheIds=null},e.prototype.dispose=function(){this.dispatchEvent("dispose")},e.fromUrl=function(t){if(a.BaseTextureCache[t])return a.BaseTextureCache[t];var r=new e;return u.GlobalLoader.loadImage((function(i,n){i&&(r._sourceChange(n),0!==t.indexOf("data:")&&e.addToCache(r,t))}),t),r},e.fromData=function(t){return new e(t)},e.fromCanvas=function(t,r){void 0===r&&(r="canvas"),t._canvasId||(t._canvasId=r+"_"+a.uid());var i=a.BaseTextureCache[t._canvasId];return i||(i=new e(t),e.addToCache(i,t._canvasId)),i},e.fromImage=function(t){var r=t.src,i=a.BaseTextureCache[r];return i||(i=new e(t),r&&0!==r.indexOf("data:")&&e.addToCache(i,r)),i},e.from=function(t){return"string"==typeof t?e.fromUrl(t):t.data?e.fromData(t):t.getContext?e.fromCanvas(t):e.fromImage(t)},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),a.BaseTextureCache[e]&&console.warn("BaseTexture added to the cache with an id ["+e+"] that already had an entry"),a.BaseTextureCache[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=a.BaseTextureCache[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete a.BaseTextureCache[t],e}}else if(t&&t.textureCacheIds){for(var i=0;i<t.textureCacheIds.length;++i)delete a.BaseTextureCache[t.textureCacheIds[i]];return t.textureCacheIds.length=0,t}return null},e}(o.EventDispatcher);e.default=h},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultFilterMatrix=e.defaultVert=void 0,e.defaultVert="precision highp float;attribute vec2 aVertexPosition;attribute vec2 aTextureCoord;uniform mat3 projectionMatrix;varying vec2 vTextureCoord;void main(void){gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);vTextureCoord = aTextureCoord;}",e.defaultFilterMatrix="precision highp float;attribute vec2 aVertexPosition;attribute vec2 aTextureCoord;uniform mat3 projectionMatrix;uniform mat3 filterMatrix;varying vec2 vTextureCoord;varying vec2 vFilterCoord;void main(void){gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;vTextureCoord = aTextureCoord;}"},function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||e.hasOwnProperty(r)||i(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0});var o=r(5);Object.defineProperty(e,"Texture",{enumerable:!0,get:function(){return o.default}});var a=r(15);Object.defineProperty(e,"BaseTexture",{enumerable:!0,get:function(){return a.default}}),n(r(138),e)},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.BaseTrack=void 0;var o=r(3),a=r(11),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.setValue=function(t,e,r,i){void 0===e&&(e=1),void 0===r&&(r=a.MixBlend.replace),void 0===i&&(i=a.MixDirection.in)},e.prototype.resetValue=function(){},e.prototype.destroy=function(){},e}(o.HashObject);e.BaseTrack=s},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.Point=void 0;var o=function(t){function e(e,r){void 0===e&&(e=0),void 0===r&&(r=0);var i=t.call(this)||this;i.x=0,i.y=0;var n=i;return n._instanceType="Point",n.x=e,n.y=r,i}return n(e,t),e.prototype.destroy=function(){},e.distance=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.length;return 4==r?Math.sqrt((t[0]-t[2])*(t[0]-t[2])+(t[1]-t[3])*(t[1]-t[3])):2==r?Math.sqrt((t[0].x-t[1].x)*(t[0].x-t[1].x)+(t[0].y-t[1].y)*(t[0].y-t[1].y)):void 0},e.prototype.set=function(t,e){this.x=t,this.y=e},e}(r(3).HashObject);e.Point=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasRenderer=void 0;var o=r(35),a=r(69),s=r(70),u=r(0),h=r(36),l=r(71),c=r(1),f=r(72),d=function(t){function e(e,r,i){var n=t.call(this)||this;return n.type=u.RENDERER_TYPE.CANVAS,n._instanceType="CanvasRenderer",n.rootContext=e,n.maskManager=new a.default(n),n.plugins={sprite:null,graphics:null},n.plugins.sprite=new s.default(n),n.plugins.graphics=new o.CanvasGraphicsRenderer(n),n.plugins.mesh=new f.CanvasMeshRenderer(n),n.blendModes=c.mapCanvasBlendModes(),n._activeBlendMode=null,n._outerBlend=!1,n.resize(r,i),n}return n(e,t),e.prototype.render=function(t,e,r){this.dispatchEvent("prerender");var i=!e;e?((e=e.baseTexture||e)._canvasRenderTarget?(e._canvasRenderTarget.clear(),e._canvasRenderTarget.resize(e.width,e.height)):(e._canvasRenderTarget=new l.default(e.width,e.height),e.source=e._canvasRenderTarget.canvas,e.valid=!0),this.context=e._canvasRenderTarget.context):this.context=this.rootContext;var n=this.context;e||(this._lastObjectRendered=t),t.update();var o=t.parent,a=this._tempDisplayObjectParent.transform.worldMatrix;r?(a.copy(r),this._tempDisplayObjectParent.transform._worldID=-1):a.identity(),t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=o,n.save(),n.setTransform(1,0,0,1,0,0),n.globalAlpha=1,this._activeBlendMode=u.BLEND_MODES.NORMAL,this._outerBlend=!1,n.globalCompositeOperation=this.blendModes[u.BLEND_MODES.NORMAL],i&&(this.transparent?n.clearRect(0,0,this.width,this.height):(n.fillStyle=this._backgroundColorString,n.fillRect(0,0,this.width,this.height))),t.renderCanvas(this),n.restore(),this.dispatchEvent("postrender")},e.prototype.setBlendMode=function(t,e){void 0===e&&(e=!1);var r=t===u.BLEND_MODES.SRC_IN||t===u.BLEND_MODES.SRC_OUT||t===u.BLEND_MODES.DST_IN||t===u.BLEND_MODES.DST_ATOP;!e&&r&&(t=u.BLEND_MODES.NORMAL),this._activeBlendMode!==t&&(this._activeBlendMode=t,this._outerBlend=r,this.context.globalCompositeOperation=this.blendModes[t])},e.prototype.destroy=function(){this.destroyPlugins(),t.prototype.destroy.call(this),this.context=null,this.maskManager.destroy(),this.maskManager=null},e.prototype.destroyPlugins=function(){this.plugins.sprite.destroy(),this.plugins.graphics.destroy()},e}(h.SystemRenderer);e.CanvasRenderer=d},function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||e.hasOwnProperty(r)||i(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(r(78),e)},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.MouseEvent=void 0;var o=function(t){function e(e){var r=t.call(this,e)||this;return r.clientX=0,r.clientY=0,r.stageX=0,r.stageY=0,r.localX=0,r.localY=0,r.currentTarget=null,r.identifier=0,r._instanceType="MouseEvent",r}return n(e,t),e.prototype.updateAfterEvent=function(){this.target.stage._cp=!0},e.prototype.destroy=function(){this.currentTarget=null,t.prototype.destroy.call(this)},e.MOUSE_DOWN="onMouseDown",e.MOUSE_UP="onMouseUp",e.CLICK="onMouseClick",e.MOUSE_MOVE="onMouseMove",e.MOUSE_OVER="onMouseOver",e.MOUSE_OUT="onMouseOut",e}(r(4).Event);e.MouseEvent=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.Mesh=void 0;var o=r(2),a=r(54),s=r(8),u=r(5),h=r(0),l=r(51),c=r(7),f=new o.Point,d=new a.Polygon,p=function(t){function e(e,r,i,n){var o=t.call(this)||this;return o._blendMode=h.BLEND_MODES.NORMAL,o._texture=e||u.default.EMPTY,o._uvs=i||new Float32Array([0,0,1,0,1,1,0,1]),o._vertices=r||new Float32Array([0,0,100,0,100,100,0,100]),o._indices=n||new Uint16Array([0,1,3,2]),o._vertexDirty=0,o._vertexId=-1,o._localBoundsSelfId=-1,o.blendMode=h.BLEND_MODES.NORMAL,o.canvasPadding=0,o._tint=null,o._tintRGB=null,o.tint=16777215,o._uvTransform=new l.default(o._texture),o._needRefresh=!0,o}return n(e,t),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){},enumerable:!1,configurable:!0}),e.prototype._renderWebGL=function(t){this.refresh(),this.calculateVertices(),t.batchManager.setObjectRenderer(t.plugins.batch),t.plugins.batch.render(this)},e.prototype._renderCanvas=function(t){this.refresh(),t.plugins.mesh.render(this)},e.prototype._onTextureUpdate=function(){this._uvTransform.texture=this._texture,this._needRefresh=!0},e.prototype.multiplyUvs=function(){this._uvTransform.multiplyUvs(this._uvs)},e.prototype.refresh=function(t){void 0===t&&(t=!1),this._texture&&this._texture.valid&&(this._uvTransform.update(t)||this._needRefresh||t)&&this._refresh()},e.prototype._refresh=function(){},e.prototype.calculateVertices=function(){if(!(this._vertexId===this._vertexDirty&&this._transformID===this.transform._worldID||(this._vertexId=this._vertexDirty,this._transformID=this.transform._worldID,this._vertices.length<=2))){this._vertexData||(this._vertexData=new Float32Array(this._vertices.length));for(var t=this.transform.worldMatrix,e=t.a,r=t.b,i=t.c,n=t.d,o=t.tx,a=t.ty,s=this._vertexData,u=0;u<s.length/2;u++){var h=this._vertices[2*u],l=this._vertices[2*u+1];s[2*u]=e*h+i*l+o,s[2*u+1]=r*h+n*l+a}}},e.prototype._calculateBounds=function(){this.updateLocalBoundsSelf();var t=this._localBoundsSelf,e=this.transform.worldMatrix;e.transformPoint(t.x,t.y,c.DisplayObject._p1),e.transformPoint(t.x+t.width,t.y,c.DisplayObject._p2),e.transformPoint(t.x+t.width,t.y+t.height,c.DisplayObject._p3),e.transformPoint(t.x,t.y+t.height,c.DisplayObject._p4),o.Rectangle.createFromPoints(this._bounds,c.DisplayObject._p1,c.DisplayObject._p2,c.DisplayObject._p3,c.DisplayObject._p4)},e.prototype.updateLocalBoundsSelf=function(){this._localBoundsSelfId!=this._vertexDirty&&(this._localBoundsSelfId=this._vertexDirty,this._vertices.length<=2&&this._localBoundsSelf.clear(),o.Rectangle.createFromVertexData(this._localBoundsSelf,this._vertices))},e.prototype.hitTestPoint=function(e,r){return void 0===r&&(r=!1),this.visible?(i=t.prototype.hitTestPoint.call(this,e,r))?i:r&&!this.mouseEnable?null:(this.updateLocalBoundsSelf(),(i=this.displayObjectHitTestPoint(e,r))?this.hitTestPointAccuratly(e,r):null):null;var i},e.prototype.hitTestPointAccuratly=function(t,e){e?this.globalToLocal(t,f):f.set(t.x,t.y);for(var r=this._vertices,i=d.points,n=this._indices,o=this._indices.length,a=0;a+2<o;a+=3){var s=2*n[a],u=2*n[a+1],h=2*n[a+2];if(i[0]=r[s],i[1]=r[s+1],i[2]=r[u],i[3]=r[u+1],i[4]=r[h],i[5]=r[h+1],d.isPointIn(f))return this}return null},Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){t!==this._tint&&(this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16))},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){t.prototype.destroy.call(this),this._texture.removeEventListener("update",this._onTextureUpdate,this),this._uvs=null,this._vertices=null,this._indices=null,this._vertexData=null},e}(s.default);e.Mesh=p},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SpineColor=void 0;var i=function(){function t(t,e,r,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),this.r=t,this.g=e,this.b=r,this.a=i}return t.prototype.set=function(t,e,r,i){return this.r=t,this.g=e,this.b=r,this.a=i,this.clamp(),this},t.prototype.setFromColor=function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this},t.prototype.setFromString=function(t){return t="#"==t.charAt(0)?t.substr(1):t,this.r=parseInt(t.substr(0,2),16)/255,this.g=parseInt(t.substr(2,2),16)/255,this.b=parseInt(t.substr(4,2),16)/255,this.a=(8!=t.length?255:parseInt(t.substr(6,2),16))/255,this},t.prototype.add=function(t,e,r,i){return this.r+=t,this.g+=e,this.b+=r,this.a+=i,this.clamp(),this},t.prototype.clamp=function(){return this.r<0?this.r=0:this.r>1&&(this.r=1),this.g<0?this.g=0:this.g>1&&(this.g=1),this.b<0?this.b=0:this.b>1&&(this.b=1),this.a<0?this.a=0:this.a>1&&(this.a=1),this},t.fromString=function(e){return(new t).setFromString(e)},t.WHITE=new t(1,1,1,1),t.RED=new t(1,0,0,1),t.GREEN=new t(0,1,0,1),t.BLUE=new t(0,0,1,1),t.MAGENTA=new t(1,0,1,1),t}();e.SpineColor=i},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.Matrix=void 0;var o=r(19),a=r(3),s=r(0),u=function(t){function e(e,r,i,n,o,a){void 0===e&&(e=1),void 0===r&&(r=0),void 0===i&&(i=0),void 0===n&&(n=1),void 0===o&&(o=0),void 0===a&&(a=0);var s=t.call(this)||this;s.a=1,s.b=0,s.c=0,s.d=1,s.tx=0,s.ty=0,s.array=null,s.prepend=function(t){var e=this,r=t.a,i=t.b,n=t.c,o=t.d,a=t.tx,s=t.ty,u=e.a,h=e.c,l=e.tx;return e.a=r*u+n*e.b,e.b=i*u+o*e.b,e.c=r*h+n*e.d,e.d=i*h+o*e.d,e.tx=r*l+n*e.ty+a,e.ty=i*l+o*e.ty+s,this};var u=s;return u._instanceType="Matrix",u.a=e,u.b=r,u.c=i,u.d=n,u.tx=o,u.ty=a,s}return n(e,t),e.prototype.clone=function(){var t=this;return new e(t.a,t.b,t.c,t.d,t.tx,t.ty)},e.prototype.copy=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},e.prototype.transformPoint=function(t,e,r){void 0===r&&(r=null);var i=this;return r||(r=new o.Point),r.x=t*i.a+e*i.c+i.tx,r.y=t*i.b+e*i.d+i.ty,r},e.prototype.transformPointInverse=function(t,e,r){void 0===r&&(r=null);r||(r=new o.Point);var i=1/(this.a*this.d+this.c*-this.b);return r.x=this.d*i*t+-this.c*i*e+(this.ty*this.c-this.tx*this.d)*i,r.y=this.a*i*e+-this.b*i*t+(-this.ty*this.a+this.tx*this.b)*i,r},e.prototype.setFrom=function(t){var e=this;e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e.tx=t.tx,e.ty=t.ty},e.prototype.identity=function(){var t=this;t.a=t.d=1,t.b=t.c=t.tx=t.ty=0},e.prototype.invert=function(){var t=this,e=t.a,r=t.b,i=t.c,n=t.d,o=t.tx,a=t.ty;if(0==r&&0==i)return 0==e||0==n?t.a=t.d=t.tx=t.ty=0:(e=t.a=1/e,n=t.d=1/n,t.tx=-e*o,t.ty=-n*a),t;var s=e*n-r*i;if(0==s)return t.identity(),t;s=1/s;var u=t.a=n*s;return r=t.b=-r*s,i=t.c=-i*s,n=t.d=e*s,t.tx=-(u*o+i*a),t.ty=-(r*o+n*a),t},e.prototype.createBox=function(t,e,r,i,n,o,a,u,h){var l=this;if(0!=n?o=a=n%360:(o%=360,a%=360),0==o&&0==a)l.a=r,l.b=l.c=0,l.d=i;else{o*=s.DEG_TO_RAD,a*=s.DEG_TO_RAD;var c=s.cos(o),f=s.sin(o);o==a?(l.a=c*r,l.b=f*r):(l.a=s.cos(a)*r,l.b=s.sin(a)*r),l.c=-f*i,l.d=c*i}l.tx=t+u-(u*l.a+h*l.c),l.ty=e+h-(u*l.b+h*l.d)},e.prototype.append=function(t){var e=this.a,r=this.b,i=this.c,n=this.d;this.a=t.a*e+t.b*i,this.b=t.a*r+t.b*n,this.c=t.c*e+t.d*i,this.d=t.c*r+t.d*n,this.tx=t.tx*e+t.ty*i+this.tx,this.ty=t.tx*r+t.ty*n+this.ty},e.isEqual=function(t,e){return t.tx==e.tx&&t.ty==e.ty&&t.a==e.a&&t.b==e.b&&t.c==e.c&&t.d==e.d},e.prototype.concat=function(t){var e=this,r=e.a,i=e.b,n=e.c,o=e.d,a=e.tx,s=e.ty,u=t.a,h=t.b,l=t.c,c=t.d,f=t.tx,d=t.ty;e.a=r*u+i*l,e.b=r*h+i*c,e.c=n*u+o*l,e.d=n*h+o*c,e.tx=a*u+s*l+f,e.ty=a*h+s*c+d},e.prototype.rotate=function(t){var e=this,r=Math.sin(t),i=Math.cos(t),n=e.a,o=e.b,a=e.c,s=e.d,u=e.tx,h=e.ty;e.a=n*i-o*r,e.b=n*r+o*i,e.c=a*i-s*r,e.d=a*r+s*i,e.tx=u*i-h*r,e.ty=u*r+h*i},e.prototype.scale=function(t,e){var r=this;r.a*=t,r.d*=e,r.c*=t,r.b*=e,r.tx*=t,r.ty*=e},e.prototype.translate=function(t,e){this.tx+=t,this.ty+=e},e.prototype.set=function(t,e,r,i,n,o){return this.a=t,this.b=e,this.c=r,this.d=i,this.tx=n,this.ty=o,this},e.prototype.getRotation=function(){return Math.round(Math.atan2(this.b,this.a)*s.RAD_TO_DEG)},e.prototype.toArray=function(t,e){void 0===t&&(t=!1),this.array||(this.array=new Float32Array(9));var r=e||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r},e.prototype.decompose=function(t){var e=this.a,r=this.b,i=this.c,n=this.d,o=-Math.atan2(-i,n),a=Math.atan2(r,e),u=Math.abs(o+a);return u<1e-5||Math.abs(s.PI_2-u)<1e-5?(t.rotation=a,e<0&&n>=0&&(t.rotation+=t.rotation<=0?Math.PI:-Math.PI),t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=o,t.skew.y=a),t.scale.x=Math.sqrt(e*e+r*r),t.scale.y=Math.sqrt(i*i+n*n),t.position.x=this.tx,t.position.y=this.ty,t},Object.defineProperty(e,"IDENTITY",{get:function(){return new e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"TEMP_MATRIX",{get:function(){return new e},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){},e}(a.HashObject);e.Matrix=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(2),n=r(0),o=r(10),a=function(){function t(t,e,r,a,s){void 0===e&&(e=0),void 0===r&&(r=0),void 0===a&&(a=n.SCALE_MODES.LINEAR),void 0===s&&(s=!1),this.gl=t,this.frameBuffer=null,this.texture=null,this.clearColor=[0,0,0,0],this.size=new i.Rectangle(0,0,1,1),this.projectionMatrix=new i.Matrix,this.transform=null,this.frame=null,this.defaultFrame=new i.Rectangle,this.destinationFrame=null,this.sourceFrame=null,this.stencilBuffer=null,this.stencilMaskStack=[],this.filterData=null,this.filterPoolKey="",this.scaleMode=a,this.root=s,this.root?(this.frameBuffer=new o.GLFramebuffer(t,100,100),this.frameBuffer.framebuffer=null):(this.frameBuffer=o.GLFramebuffer.createRGBA(t,100,100),this.scaleMode===n.SCALE_MODES.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture),this.setFrame(),this.resize(e,r)}return t.prototype.clear=function(t){var e=t||this.clearColor;this.frameBuffer.clear(e[0],e[1],e[2],e[3])},t.prototype.attachStencilBuffer=function(){this.root||this.frameBuffer.enableStencil()},t.prototype.setFrame=function(t,e){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||this.destinationFrame},t.prototype.activate=function(){var t=this.gl;this.frameBuffer.bind(),this.calculateProjection(this.destinationFrame,this.sourceFrame),this.transform&&this.projectionMatrix.append(this.transform),this.destinationFrame!==this.sourceFrame?(t.enable(t.SCISSOR_TEST),t.scissor(0|this.destinationFrame.x,0|this.destinationFrame.y,0|this.destinationFrame.width,0|this.destinationFrame.height)):t.disable(t.SCISSOR_TEST),t.viewport(0|this.destinationFrame.x,0|this.destinationFrame.y,0|this.destinationFrame.width,0|this.destinationFrame.height)},t.prototype.calculateProjection=function(t,e){var r=this.projectionMatrix;e=e||t,r.identity(),this.root?(r.a=1/t.width*2,r.d=-1/t.height*2,r.tx=-1-e.x*r.a,r.ty=1-e.y*r.d):(r.a=1/t.width*2,r.d=1/t.height*2,r.tx=-1-e.x*r.a,r.ty=-1-e.y*r.d)},t.prototype.resize=function(t,e){if(t|=0,e|=0,this.size.width!==t||this.size.height!==e){this.size.width=t,this.size.height=e,this.defaultFrame.width=t,this.defaultFrame.height=e,this.frameBuffer.resize(t,e);var r=this.frame||this.size;this.calculateProjection(r)}},t.prototype.destroy=function(){this.frameBuffer.destroy(),this.frameBuffer=null,this.texture=null},t}();e.default=a},function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||e.hasOwnProperty(r)||i(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(r(4),e),n(r(9),e),n(r(115),e),n(r(22),e)},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.TextField=void 0;var o=r(0),a=r(5),s=r(1),u=r(13),h=function(t){function e(){var e=t.call(this)||this;e._textAlpha=1,e._textAlign=o.TEXT_ALIGN.LEFT,e._verticalAlign=o.VERTICAL_ALIGN.UP,e._textWidth=0,e._textHeight=0,e._lineSpacing=14,e._lineType=o.TEXT_lINETYPE.SINGLE,e._text="",e._font="Arial",e._size=12,e._fillColor="#ffffff",e._strokeColor="#ffffff",e._stroke=0,e._italic=!1,e._bold=!1,e._border=!1,e.realLines=[],e._instanceType="TextField";var r=s.createCanvas();return r.width=r.height=3,e.texture=a.default.fromCanvas(r,"textCanvas"),e.canvas=r,e.context=r.getContext("2d"),a.default.addToCache(e.texture,e.texture.baseTexture.textureCacheIds[0]),e.dirty=!0,e}return n(e,t),Object.defineProperty(e.prototype,"textAlpha",{get:function(){return this._textAlpha},set:function(t){this._textAlpha!=t&&(this._textAlpha=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textAlign",{get:function(){return this._textAlign},set:function(t){this._textAlign!=t&&(this._textAlign=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"verticalAlign",{get:function(){return this._verticalAlign},set:function(t){this._verticalAlign!=t&&(this._verticalAlign=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textWidth",{get:function(){return this._textWidth?this._textWidth:(this.updateText(),this.width-20)},set:function(t){this._textWidth!=t&&(this._textWidth=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textHeight",{get:function(){return this._textHeight?this._textHeight:(this.updateText(),this.height-20)},set:function(t){this._textHeight!=t&&(this._textHeight=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineSpacing",{get:function(){return this._lineSpacing},set:function(t){this._lineSpacing!=t&&(this._lineSpacing=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineType",{get:function(){return this._lineType},set:function(t){this._lineType!=t&&(this._lineType=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){this._text!=t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"font",{get:function(){return this._font},set:function(t){this._font!=t&&(this._font=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._size},set:function(t){this._size!=t&&(this._size=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fillColor",{get:function(){return this._fillColor},set:function(t){this._fillColor!=t&&(this._fillColor=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"strokeColor",{get:function(){return this._strokeColor},set:function(t){this._strokeColor!=t&&(this._strokeColor=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stroke",{get:function(){return this._stroke},set:function(t){this._stroke!=t&&(this._stroke=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"italic",{get:function(){return this._italic},set:function(t){this._italic!=t&&(this._italic=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bold",{get:function(){return this._bold},set:function(t){this._bold!=t&&(this._bold=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"border",{get:function(){return this._border},set:function(t){this._border!=t&&(this._border=t,this.dirty=!0)},enumerable:!1,configurable:!0}),e.prototype._prepContext=function(t){var e=this,r=e.size||12;r+="px ",r+=e.font,e._bold&&(r="bold "+r),e._italic&&(r="italic "+r),t.font=r,t.textAlign=e._textAlign||o.TEXT_ALIGN.LEFT,t.textBaseline="top",t.fillStyle=s.getRGBA(e._fillColor,e._textAlpha)},e.prototype.getTextWidth=function(t){void 0===t&&(t=0);var e=this;return e.updateText(),e.context.measureText(e.realLines[t]).width},Object.defineProperty(e.prototype,"lines",{get:function(){return this.realLines.length},enumerable:!1,configurable:!0}),e.prototype._getMeasuredWidth=function(t){if("web"==s.getEnv())return this.context.measureText(t).width;for(var e=new RegExp("[涓€-榫+"),r=/[\u3002|\uff1f|\uff01|\uff0c|\u3001|\uff1b|\uff1a|\u201c|\u201d|\u2018|\u2019|\uff08|\uff09|\u300a|\u300b|\u3008|\u3009|\u3010|\u3011|\u300e|\u300f|\u300c|\u300d|\ufe43|\ufe44|\u3014|\u3015|\u2026|\u2014|\uff5e|\ufe4f|\uffe5]/,i=(new RegExp("[A-Za-z]+"),this.size),n=0,o=0;o<t.length;o++){var a=t[o];e.test(a)||r.test(a)?n+=i:n+=4*i/7}return n},e.prototype.updateText=function(){var t=this;if(t.dirty){if(t.dirty=!1,t._boundsID++,!t._text)return t.canvas.width=0,t.canvas.height=0,t._localBoundsSelf.clear(),t.anchorTexture={x:0,y:0},void t.texture.update();t._text+="";var e=t.canvas,r=t.context,i=t._text.toString().split(/(?:\r\n|\r|\n)/),n=[];t.realLines=n,t._prepContext(r);var a=t._textWidth;if(t._text.indexOf("\n")<0&&t._text.indexOf("\r")<0&&t._text.indexOf("\r\n")<0&&t.lineType==o.TEXT_lINETYPE.SINGLE){n[n.length]=i[0];var u=i[0],h=t._getMeasuredWidth(u);if(h>(a=a||h))for(var l=t._getMeasuredWidth(u[0]),c=u[0],f=0,d=u.length,p=1;p<d;p++){if((l+=f=t._getMeasuredWidth(u[p]))>a){n[0]=c;break}c+=u[p]}}else{if(!a)for(var v=0,_=i.length;v<_;v++){(u=i[v])&&(a=Math.max(t._getMeasuredWidth(u),a))}for(v=0,_=i.length;v<_;v++){if(u=i[v]){for(l=t._getMeasuredWidth(u[0]),c=u[0],f=0,d=u.length,p=1;p<d;p++)(l+=f=t._getMeasuredWidth(u[p]))>a?(n[n.length]=c,c=u[p],l=f):c+=u[p];n[n.length]=c}}}var y=t.size*n.length+t._lineSpacing*(n.length-1),g=t._textHeight||y,m=a,x=0;t._textAlign==o.TEXT_ALIGN.CENTER?x=.5*m:t._textAlign==o.TEXT_ALIGN.RIGHT&&(x=m);var b=m+20,T=g+20;e.width=b,e.height=T,r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,e.width,e.height),t.border&&(r.beginPath(),r.strokeStyle="#000",r.lineWidth=1,r.strokeRect(10.5,10.5,m,g),r.closePath()),r.setTransform(1,0,0,1,x+10,10),t._prepContext(r);var E=t._lineSpacing+t.size,O=0;t._textHeight&&(t._verticalAlign==o.VERTICAL_ALIGN.MIDDLE?O=.5*(t._textHeight-y):t._verticalAlign==o.VERTICAL_ALIGN.DOWN&&(O=t._textHeight-y)),"tb"==s.getEnv()&&(O-=4);for(v=0;v<n.length;v++){t.stroke&&(r.strokeStyle=t.strokeColor,r.lineWidth=2*t.stroke,r.strokeText(n[v],0,O+v*E)),r.fillText(n[v],0,O+v*E)}t.offsetX=-10,t.offsetY=-10,this.anchorTexture={x:10.5/b,y:10/T},t.texture.update(),t._onTextureUpdate()}},e.prototype.calculateBounds=function(){this.updateText(),t.prototype.calculateBounds.call(this)},e.prototype._renderCanvas=function(e){this.updateText(),t.prototype._renderCanvas.call(this,e)},e.prototype._renderWebGL=function(e){this.updateText(),t.prototype._renderWebGL.call(this,e)},e.prototype.destroy=function(){this.canvas=null,this.context=null,t.prototype.destroy.call(this)},e}(u.default);e.TextField=h},function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||e.hasOwnProperty(r)||i(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(r(142),e);var o=r(59);Object.defineProperty(e,"Tween",{enumerable:!0,get:function(){return o.default}})},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.VertexAttachment=e.Attachment=void 0;var o=function(t){this.name=t};e.Attachment=o;var a=function(t){function e(r){var i=t.call(this,r)||this;return i.id=(65535&e.nextID++)<<11,i.worldVerticesLength=0,i.deformAttachment=i,i}return n(e,t),e.prototype.applyDeform=function(t){return this==t},e.prototype.computeWorldVerticesOld=function(t,e,r){this.computeWorldVertices(t,0,this.worldVerticesLength,e,0,2,r)},e.prototype.computeWorldVertices=function(t,e,r,i,n,o,a){r=n+(r>>1)*o;var s=t.deform,u=this.vertices,h=this.bones;if(null!=h){for(var l=0,c=0,f=0;f<e;f+=2){l+=(v=h[l])+1,c+=v}if(0==s.length)for(S=n,E=3*c;S<r;S+=o){var d=0,p=0,v=h[l++];for(v+=l;l<v;l++,E+=3){m=a[h[l]].matrix,P=u[E],A=u[E+1];var _=u[E+2];d+=(P*m.a+A*m.c+m.tx)*_,p+=(P*m.b+A*m.d+m.ty)*_}i[S]=d,i[S+1]=p}else for(var y=s,g=(S=n,E=3*c,c<<1);S<r;S+=o){d=0,p=0,v=h[l++];for(v+=l;l<v;l++,E+=3,g+=2){m=a[h[l]].matrix,P=u[E]+y[g],A=u[E+1]+y[g+1],_=u[E+2];d+=(P*m.a+A*m.c+m.tx)*_,p+=(P*m.b+A*m.d+m.ty)*_}i[S]=d,i[S+1]=p}}else{s.length>0&&(u=s);for(var m,x=(m=t.bone.matrix).tx,b=m.ty,T=m.a,E=m.c,O=m.b,M=m.d,w=e,S=n;S<r;w+=2,S+=o){var P=u[w],A=u[w+1];i[S]=P*T+A*E+x,i[S+1]=P*O+A*M+b}}},e.nextID=0,e}(o);e.VertexAttachment=a},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.ObservablePoint=void 0;var o=function(t){function e(e,r,i,n){void 0===i&&(i=0),void 0===n&&(n=0);var o=t.call(this)||this;return o._instanceType="ObservablePoint",o._x=i,o._y=n,o.cb=e,o.scope=r,o}return n(e,t),e.prototype.set=function(t,e){void 0===t&&(t=0),void 0===e&&(e=t);var r=t||0,i=e||0;this._x===r&&this._y===i||(this._x=r,this._y=i,this.cb.call(this.scope))},e.prototype.copy=function(t){this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope))},Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){},e}(r(3).HashObject);e.ObservablePoint=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.Rectangle=void 0;var o=r(3),a=r(19),s=r(0),u=function(t){function e(e,r,i,n){void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),void 0===n&&(n=0);var o=t.call(this)||this;o.x=0,o.y=0,o.width=0,o.height=0;var a=o;return a._instanceType="Rectangle",a.x=e,a.y=r,a.height=n,a.width=i,o.type=s.SHAPES.RECT,o}return n(e,t),e.prototype.clear=function(){this.x=0,this.y=0,this.width=0,this.height=0},e.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},Object.defineProperty(e.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),e.prototype.isPointIn=function(t){var e=this;return t.x>=e.x&&t.x<=e.x+e.width&&t.y>=e.y&&t.y<=e.y+e.height},e.prototype.fit=function(t){var e=Math.max(this.x,t.x),r=Math.min(this.x+this.width,t.x+t.width),i=Math.max(this.y,t.y),n=Math.min(this.y+this.height,t.y+t.height);this.x=e,this.width=Math.max(r-e,0),this.y=i,this.height=Math.max(n-i,0)},e.prototype.pad=function(t,e){t=t||0,e=e||(0!==e?t:0),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e},e.createFromRects=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(0==t.length)return null;if(1==t.length)return t[0];for(var r=t[0],i=r.x,n=r.y,o=r.width,a=r.height,s=void 0,u=void 0,h=void 0,l=void 0,c=1;c<t.length;c++)(t[c].width||t[c].height)&&(s=i+o,h=n+a,u=t[c].x+t[c].width,l=t[c].y+t[c].height,(i>t[c].x||0==i&&0==o)&&(i=t[c].x),(n>t[c].y||0==n&&0==a)&&(n=t[c].y),s<u&&(s=u),h<l&&(h=l),r.x=i,r.y=n,r.width=s-i,r.height=h-n);return r},e.createFromPoints=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];for(var i=e[0].x,n=e[0].y,o=e[0].x,a=e[0].y,s=1;s<e.length;s++)null!=e[s]&&(i>e[s].x&&(i=e[s].x),n>e[s].y&&(n=e[s].y),o<e[s].x&&(o=e[s].x),a<e[s].y&&(a=e[s].y));return t.x=i,t.y=n,t.width=o-i,t.height=a-n,t},e.createFromVertexData=function(t,e,r){var i=new a.Point,n=e[0],o=e[1],s=e[0],u=e[1];r&&(r.transformPoint(n,o,i),n=s=i.x,o=u=i.y);for(var h=2;h<e.length;h+=2)null!=e[h]&&(i.set(e[h],e[h+1]),r&&r.transformPoint(i.x,i.y,i),n>i.x&&(n=i.x),o>i.y&&(o=i.y),s<i.x&&(s=i.x),u<i.y&&(u=i.y));return t.x=n,t.y=o,t.width=s-n,t.height=u-o,t},e.createRectfrom2Point=function(t,e,r){var i=e.x,n=e.y,o=e.x,a=e.y;return i>r.x&&(i=r.x),n>r.y&&(n=r.y),o<r.x&&(o=r.x),a<r.y&&(a=r.y),t.x=i,t.y=n,t.width=o-i,t.height=a-n,t},e.testRectCross=function(t,e){var r,i,n,o;return r=t.x+t.width/2,i=t.y+t.height/2,n=e.x+e.width/2,o=e.y+e.height/2,Math.abs(r-n)<=t.width/2+e.width/2&&Math.abs(i-o)<=t.height/2+e.height/2},e.prototype.destroy=function(){},e}(o.HashObject);e.Rectangle=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(25),n=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],o=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],a=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],s=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],u=[],h=[];function l(t){return t<0?-1:t>0?1:0}!function(){for(var t=0;t<16;t++){var e=[];h.push(e);for(var r=0;r<16;r++)for(var c=l(n[t]*n[r]+a[t]*o[r]),f=l(o[t]*n[r]+s[t]*o[r]),d=l(n[t]*a[r]+a[t]*s[r]),p=l(o[t]*a[r]+s[t]*s[r]),v=0;v<16;v++)if(n[v]===c&&o[v]===f&&a[v]===d&&s[v]===p){e.push(v);break}}for(t=0;t<16;t++){var _=new i.Matrix;_.set(n[t],o[t],a[t],s[t],0,0),u.push(_)}}();var c={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(t){return n[t]},uY:function(t){return o[t]},vX:function(t){return a[t]},vY:function(t){return s[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return h[t][e]},sub:function(t,e){return h[t][c.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?c.S:c.N:2*Math.abs(e)<=Math.abs(t)?t>0?c.E:c.W:e>0?t>0?c.SE:c.SW:t>0?c.NE:c.NW},matrixAppendRotationInv:function(t,e,r,i){void 0===r&&(r=0),void 0===i&&(i=0);var n=u[c.inv(e)];n.tx=r,n.ty=i,t.append(n)}};e.default=c},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.nextCombination=e.deinterleave3=e.interleave3=e.deinterleave2=e.interleave2=e.reverse=e.parity=e.prevPow2=e.nextPow2=e.countTrailingZeros=e.popCount=e.log10=e.log2=e.isPow2=e.max=e.min=e.abs=e.INT_MIN=e.INT_MAX=e.INT_BITS1=void 0;function i(t){var e=32;return(t&=-t)&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}e.INT_BITS1=32,e.INT_MAX=2147483647,e.INT_MIN=-1<<31,e.abs=function(t){var e=t>>31;return(t^e)-e},e.min=function(t,e){return e^(t^e)&-(t<e)},e.max=function(t,e){return t^(t^e)&-(t<e)},e.isPow2=function(t){return!(t&t-1||!t)},e.log2=function(t){var e,r;return t>>>=e=Number(t>65535)<<4,t>>>=r=Number(t>255)<<3,e|=r,t>>>=r=Number(t>15)<<2,e|=r,(e|=r=Number(t>3)<<1)|(t>>>=r)>>1},e.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},e.popCount=function(t){return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},e.countTrailingZeros=i,e.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1},e.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},e.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1};var n=new Array(256);!function(t){for(var e=0;e<256;++e){var r=e,i=e,n=7;for(r>>>=1;r;r>>>=1)i<<=1,i|=1&r,--n;t[e]=i<<n&255}}(n),e.reverse=function(t){return n[255&t]<<24|n[t>>>8&255]<<16|n[t>>>16&255]<<8|n[t>>>24&255]},e.interleave2=function(t,e){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))<<1},e.deinterleave2=function(t,e){return(t=65535&((t=16711935&((t=252645135&((t=858993459&((t=t>>>e&1431655765)|t>>>1))|t>>>2))|t>>>4))|t>>>16))<<16>>16},e.interleave3=function(t,e,r){return t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2),(t|=(e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2))<<1)|(r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2))<<2},e.deinterleave3=function(t,e){return(t=1023&((t=4278190335&((t=251719695&((t=3272356035&((t=t>>>e&1227133513)|t>>>2))|t>>>4))|t>>>8))|t>>>16))<<22>>22},e.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>i(t)+1}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.judgeCcw=e.holePath=e.CanvasGraphicsRenderer=void 0;var i=r(0),n=function(){function t(t){this.renderer=t}return t.prototype.render=function(t){var e=this.renderer,r=e.context,n=t._worldAlpha,s=t.transform.worldMatrix;r.setTransform(s.a,s.b,s.c,s.d,s.tx,s.ty),e.setBlendMode(t.blendMode);for(var u=0;u<t.graphicsData.length;u++){var h=t.graphicsData[u],l=h.shape,c=h.fillStyle,f=h.lineStyle,d=c.color,p=f.color;r.lineWidth=f.width;var v=!0;if(h.type===i.SHAPES.POLY){r.beginPath();var _=l.points;r.moveTo(_[0],_[1]);for(var y=1;y<_.length/2;++y)r.lineTo(_[2*y],_[2*y+1]);v=!a(_)}else if(h.type===i.SHAPES.RECT){if(!h.holes.length){c.visible&&(r.globalAlpha=c.alpha*n,r.fillStyle="#"+("00000"+(0|d).toString(16)).substr(-6),r.fillRect(l.x,l.y,l.width,l.height)),f.visible&&(r.globalAlpha=f.alpha*n,r.strokeStyle="#"+("00000"+(0|p).toString(16)).substr(-6),r.strokeRect(l.x,l.y,l.width,l.height));continue}r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(l.x+l.width,l.y),r.lineTo(l.x+l.width,l.y+l.height),r.lineTo(l.x,l.y+l.height),r.lineTo(l.x,l.y)}else if(h.type===i.SHAPES.CIRC)r.beginPath(),r.arc(l.x,l.y,l.radius,0,2*Math.PI,!1);else if(h.type===i.SHAPES.ELIP){var g=2*l.width,m=2*l.height,x=l.x-g/2,b=l.y-m/2;r.beginPath();var T=g/2*.5522848,E=m/2*.5522848,O=x+g,M=b+m,w=x+g/2,S=b+m/2;r.moveTo(x,S),r.bezierCurveTo(x,S-E,w-T,b,w,b),r.bezierCurveTo(w+T,b,O,S-E,O,S),r.bezierCurveTo(O,S+E,w+T,M,w,M),r.bezierCurveTo(w-T,M,x,S+E,x,S)}else if(h.type===i.SHAPES.RREC){var P=l.x,A=l.y,C=l.width,D=l.height,R=l.radius,I=Math.min(C,D)/2|0;R=R>I?I:R,r.beginPath(),r.moveTo(P,A+R),r.quadraticCurveTo(P,A,P+R,A),r.lineTo(P+C-R,A),r.quadraticCurveTo(P+C,A,P+C,A+R),r.lineTo(P+C,A+D-R),r.quadraticCurveTo(P+C,A+D,P+C-R,A+D),r.lineTo(P+R,A+D),r.quadraticCurveTo(P,A+D,P,A+D-R),r.lineTo(P,A+R)}for(var L=0;L<h.holes.length;L++)o(h.holes[L],r,v);c.visible&&(r.globalAlpha=c.alpha*n,r.fillStyle="#"+("00000"+(0|d).toString(16)).substr(-6),r.fill()),f.visible&&(l.closed&&r.closePath(),r.globalAlpha=f.alpha*n,r.strokeStyle="#"+("00000"+(0|p).toString(16)).substr(-6),r.stroke())}},t.prototype.destroy=function(){this.renderer=null},t}();function o(t,e,r){void 0===r&&(r=!0);var n=t.type,o=t.shape;switch(n){case i.SHAPES.POLY:var s=o.points;if(r==a(s)){e.moveTo(s[0],s[1]);for(var u=1;u<s.length/2;++u)e.lineTo(s[2*u],s[2*u+1])}else{e.moveTo(s[s.length-2],s[s.length-1]);for(u=s.length/2-2;u>=0;--u)e.lineTo(s[2*u],s[2*u+1])}s[0]===s[s.length-2]&&s[1]===s[s.length-1]||e.closePath();break;case i.SHAPES.RECT:e.moveTo(o.x,o.y),r?(e.lineTo(o.x,o.y+o.height),e.lineTo(o.x+o.width,o.y+o.height),e.lineTo(o.x+o.width,o.y),e.lineTo(o.x,o.y)):(e.lineTo(o.x+o.width,o.y),e.lineTo(o.x+o.width,o.y+o.height),e.lineTo(o.x,o.y+o.height),e.lineTo(o.x,o.y));break;case i.SHAPES.CIRC:e.moveTo(o.x+o.radius,o.y),e.arc(o.x,o.y,o.radius,0,2*Math.PI,r);break;case i.SHAPES.ELIP:var h=2*o.width,l=2*o.height,c=o.x-h/2,f=o.y-l/2,d=h/2*.5522848,p=l/2*.5522848,v=c+h,_=f+l,y=c+h/2,g=f+l/2;e.moveTo(c,g),r?(e.bezierCurveTo(y-d,_,c,g+p,y,_),e.bezierCurveTo(v,g+p,y+d,_,v,g),e.bezierCurveTo(y+d,f,v,g-p,y,f),e.bezierCurveTo(c,g-p,y-d,f,c,g)):(e.bezierCurveTo(c,g-p,y-d,f,y,f),e.bezierCurveTo(y+d,f,v,g-p,v,g),e.bezierCurveTo(v,g+p,y+d,_,y,_),e.bezierCurveTo(y-d,_,c,g+p,c,g));break;case i.SHAPES.RREC:var m=o.x,x=o.y,b=o.width,T=o.height,E=o.radius,O=Math.min(b,T)/2|0;E=E>O?O:E,e.moveTo(m,x+E),r?(e.lineTo(m,x+T-E),e.quadraticCurveTo(m,x+T,m+E,x+T),e.lineTo(m+b-E,x+T),e.quadraticCurveTo(m+b,x+T,m+b,x+T-E),e.lineTo(m+b,x+E),e.quadraticCurveTo(m+b,x,m+b-E,x),e.lineTo(m+E,x),e.quadraticCurveTo(m,x,m,x+E)):(e.quadraticCurveTo(m,x,m+E,x),e.lineTo(m+b-E,x),e.quadraticCurveTo(m+b,x,m+b,x+E),e.lineTo(m+b,x+T-E),e.quadraticCurveTo(m+b,x+T,m+b-E,x+T),e.lineTo(m+E,x+T),e.quadraticCurveTo(m,x+T,m,x+T-E),e.lineTo(m,x+E))}}function a(t){var e=[];t[0]===t[t.length-2]&&(t[1],t[t.length-1]);for(var r=0;r<t.length-2;r+=2)e.push(t[r+2]-t[r],t[r+3]-t[r+1]);t[0]===t[t.length-2]&&t[1]===t[t.length-1]||e.push(t[0]-t[t.length-2],t[1]-t[t.length-1]);var i=0;for(r=0;r<e.length-2;r+=2)i=i+e[r]*e[r+3]-e[r+1]*e[r+2];return!((i=i+e[e.length-2]*e[1]-e[e.length-1]*e[0])>0)}e.CanvasGraphicsRenderer=n,e.holePath=o,e.judgeCcw=a},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.SystemRenderer=void 0;var o=r(1),a=r(0),s=r(8),u=function(t){function e(){var e=t.call(this)||this;return e.transparent=!0,e._backgroundColor=0,e._backgroundColorRgba=[0,0,0,0],e._backgroundColorString="#000000",e.backgroundColor=e._backgroundColor,e._tempDisplayObjectParent=new s.default,e._lastObjectRendered=e._tempDisplayObjectParent,e}return n(e,t),e.prototype.resize=function(t,e){this.width=t,this.height=e},e.prototype.render=function(t,e,r){},e.prototype.destroy=function(){this.type=a.RENDERER_TYPE.UNKNOWN,this.transparent=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(t){this._backgroundColor!==t&&(this._backgroundColor=t,this._backgroundColorString=o.hex2string(t),o.hex2rgb(t,this._backgroundColorRgba))},enumerable:!1,configurable:!0}),e}(r(9).EventDispatcher);e.SystemRenderer=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.canUseNewCanvasBlendModes=void 0;var i=r(14),n=null;function o(t){var e=i.createCanvas();e.width=6,e.height=1;var r=e.getContext("2d");return r.fillStyle=t,r.fillRect(0,0,6,1),e}e.canUseNewCanvasBlendModes=function(){if(null!=n)return n;if("undefined"==typeof document)return n=!1;var t=o("#ff00ff"),e=o("#ffff00"),r=i.createCanvas();r.width=6,r.height=1;var a=r.getContext("2d");a.globalCompositeOperation="multiply",a.drawImage(t,0,0),a.drawImage(e,2,0);var s=a.getImageData(2,0,1,1);if(!s)return n=!1;var u=s.data;return n=255===u[0]&&0===u[1]&&0===u[2]}},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.WebglRenderer=void 0;var o=r(81),a=r(36),s=r(0),u=r(10),h=r(26),l=r(96),c=r(97),f=r(0),d=r(98),p=r(99),v=r(100),_=r(110),y=r(111),g=0,m=function(t){function e(r,i,n){var o=t.call(this)||this;o.plugins={},o._instanceType="WebglRenderer",o.type=s.RENDERER_TYPE.WEBGL;return o._backgroundColorRgba[3]=o.transparent?0:1,o.gl=r,o.CONTEXT_UID=g++,o.maskManager=new v.default(o),o.stencilManager=new _.default(o),o.batchManager=new p.default(o),o.textureManager=null,o.initPlugins(e.__plugins),o.state=new d.default(o.gl),o.renderingToScreen=!0,o._activeShader=null,o._activeVao=null,o._activeRenderTarget=null,o._initContext(),o.resize(i,n),o}return n(e,t),e.prototype._initContext=function(){var t=this.gl;t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext(),this._activeShader=null,this._activeVao=null,this.textureManager=new l.default(this),this.filterManager=new y.default(this),this.textureGC=new c.default(this),this.state.resetToDefault(),this.rootRenderTarget=new h.default(t,1,1,f.SCALE_MODES.LINEAR,!0),this.rootRenderTarget.clearColor=this._backgroundColorRgba,this.bindRenderTarget(this.rootRenderTarget),this.dispatchEvent("onContextChange")},e.prototype.render=function(t,e,r){if(this.dispatchEvent("onPreRender"),this.renderingToScreen=!e,this.gl&&!this.gl.isContextLost()){e||(this._lastObjectRendered=t),t.update();var i=t.parent;t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=i,this.bindRenderTexture(e,r),this.batchManager.currentRenderer.start(),this._activeRenderTarget.clear(),t.renderWebGL(this),this.batchManager.currentRenderer.flush(),this.dispatchEvent("onPostRender")}},e.prototype.clear=function(t){this._activeRenderTarget.clear(t)},e.prototype.setTransform=function(t){this._activeRenderTarget.transform=t},e.prototype.clearRenderTexture=function(t,e){var r=t.baseTexture._glRenderTargets[this.CONTEXT_UID];return r&&r.clear(e),this},e.prototype.bindShader=function(t,e){return void 0===e&&(e=!0),this._activeShader!==t&&(this._activeShader=t,t.bind(),!1!==e&&(t.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0))),this},e.prototype.createVao=function(){return new u.VertexArrayObject(this.gl,this.state.attribState)},e.prototype.bindVao=function(t,e){return void 0===e&&(e=!1),this._activeVao===t?(e&&t.bind(),this):(t?t.bind():this._activeVao&&this._activeVao.unbind(),this._activeVao=t,this)},e.prototype.reset=function(){this.batchManager.reset(),this.bindVao(null),this._activeShader=null,this._activeRenderTarget=this.rootRenderTarget;for(var t=0;t<this.textureManager.boundTextures.length;t++)this.textureManager.boundTextures[t]=this.textureManager.emptyTextures[t];return this.rootRenderTarget.activate(),this.state.resetToDefault(),this},e.prototype.bindRenderTexture=function(t,e){var r;if(t){var i=t.baseTexture;i._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(i,0),this.textureManager.unbindTexture(i),(r=i._glRenderTargets[this.CONTEXT_UID]).setFrame(t.frame)}else r=this.rootRenderTarget;return r.transform=e,this.bindRenderTarget(r),this},e.prototype.bindRenderTarget=function(t){return t!==this._activeRenderTarget&&(this._activeRenderTarget=t,t.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=t.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(t.stencilMaskStack)),this},e.prototype.setBlendMode=function(t){this.state.setBlendMode(t)},e.prototype.resize=function(e,r){t.prototype.resize.call(this,e,r),this.rootRenderTarget.resize(e,r),this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))},e.prototype.destroy=function(){this.destroyPlugins(),this.textureManager.destroy(),t.prototype.destroy.call(this),this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.maskManager=null,this.filterManager=null,this.textureManager=null,this.handleContextLost=null,this.handleContextRestored=null},e.prototype.handleContextRestored=function(){this.textureManager.removeAll(),this.filterManager.destroy(!0),this._initContext(),this.resize(this.width,this.height)},e.prototype.handleContextLost=function(t){t.preventDefault()},e.prototype.initPlugins=function(t){for(var e in t)this.plugins[e]=new t[e](this)},e.prototype.destroyPlugins=function(){for(var t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null;this.plugins=null},e.registerPlugin=function(t,r){e.__plugins=e.__plugins||{},e.__plugins[t]=r},e}(a.SystemRenderer);e.WebglRenderer=m,m.registerPlugin("batch",o.default)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this.renderer=t,this.renderer.addEventListener("onContextChange",this.onContextChange,this)}return t.prototype.onContextChange=function(){},t.prototype.start=function(){},t.prototype.stop=function(){this.flush()},t.prototype.flush=function(){},t.prototype.render=function(t){},t.prototype.destroy=function(){this.renderer.removeEventListener("onContextChange",this.onContextChange,this),this.renderer=null},t}();e.default=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.checkMaxIfStatementsInShader=void 0;var i=r(41),n=r(1),o=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function a(t){for(var e="",r=0;r<t;++r)r>0&&(e+="\nelse "),r<t-1&&(e+="if(test == "+r+".0){}");return e}e.checkMaxIfStatementsInShader=function(t,e){var r=!e;if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");if(r){var s=n.createCanvas();s.width=1,s.height=1,e=i.createContext(s)}for(var u=e.createShader(e.FRAGMENT_SHADER);;){var h=o.replace(/%forloop%/gi,a(t));if(e.shaderSource(u,h),e.compileShader(u),e.getShaderParameter(u,e.COMPILE_STATUS))break;t=t/2|0}return r&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").loseContext(),t}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createContext=void 0,e.createContext=function(t,e){var r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e);if(!r)throw new Error("This browser does not support webGL. Try using the canvas renderer");return r}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GLTexture=void 0;var i=function(){function t(t,e,r,i,o){this.uploadData=function(t,e,r){this.bind();var i=this.gl;if(t instanceof Float32Array){if(!n){if(!i.getExtension("OES_texture_float"))throw new Error("floating point textures not available");n=!0}this.type=i.FLOAT}else this.type=this.type||i.UNSIGNED_BYTE;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),e!==this.width||r!==this.height?i.texImage2D(i.TEXTURE_2D,0,this.format,e,r,0,this.format,this.type,t||null):i.texSubImage2D(i.TEXTURE_2D,0,0,0,e,r,this.format,this.type,t||null),this.width=e,this.height=r},this.gl=t,this.texture=t.createTexture(),this.mipmap=!1,this.premultiplyAlpha=!1,this.width=e||-1,this.height=r||-1,this.format=i||t.RGBA,this.type=o||t.UNSIGNED_BYTE}return t.prototype.upload=function(t){this.bind();var e=this.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var r=t.videoWidth||t.width,i=t.videoHeight||t.height;i!==this.height||r!==this.width?e.texImage2D(e.TEXTURE_2D,0,this.format,this.format,this.type,t):e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.format,this.type,t),this.width=r,this.height=i},t.prototype.bind=function(t){var e=this.gl;void 0!==t&&e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,this.texture)},t.prototype.unbind=function(){var t=this.gl;t.bindTexture(t.TEXTURE_2D,null)},t.prototype.minFilter=function(t){var e=this.gl;this.bind(),this.mipmap?e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR_MIPMAP_LINEAR:e.NEAREST_MIPMAP_NEAREST):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR:e.NEAREST)},t.prototype.magFilter=function(t){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t?e.LINEAR:e.NEAREST)},t.prototype.enableMipmap=function(){var t=this.gl;this.bind(),this.mipmap=!0,t.generateMipmap(t.TEXTURE_2D)},t.prototype.enableLinearScaling=function(){this.minFilter(!0),this.magFilter(!0)},t.prototype.enableNearestScaling=function(){this.minFilter(!1),this.magFilter(!1)},t.prototype.enableWrapClamp=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)},t.prototype.enableWrapRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)},t.prototype.enableWrapMirrorRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.MIRRORED_REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.MIRRORED_REPEAT)},t.prototype.destroy=function(){this.gl.deleteTexture(this.texture)},t.fromSource=function(e,r,i){var n=new t(e);return n.premultiplyAlpha=i||!1,n.upload(r),n},t.fromData=function(e,r,i,n){var o=new t(e);return o.uploadData(r,i,n),o},t}();e.GLTexture=i;var n=!1},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mapType=void 0,e.mapType=function(t,e){if(!i){var r=Object.keys(n);i={};for(var o=0;o<r.length;++o){var a=r[o];i[t[a]]=n[a]}}return i[e]};var i=null,n={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D"}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultValue=void 0,e.defaultValue=function(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"sampler2D":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return!1;case"bvec2":return i(2*e);case"bvec3":return i(3*e);case"bvec4":return i(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}};var i=function(t){for(var e=new Array(t),r=0;r<e.length;r++)e[r]=!1;return e}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(6);Object.defineProperty(e,"Filter",{enumerable:!0,get:function(){return i.default}});var n=r(102);Object.defineProperty(e,"FXAAFilter",{enumerable:!0,get:function(){return n.default}});var o=r(103);Object.defineProperty(e,"NoiseFilter",{enumerable:!0,get:function(){return o.default}});var a=r(104);Object.defineProperty(e,"DisplacementFilter",{enumerable:!0,get:function(){return a.default}});var s=r(105);Object.defineProperty(e,"BlurFilter",{enumerable:!0,get:function(){return s.default}});var u=r(46);Object.defineProperty(e,"BlurXFilter",{enumerable:!0,get:function(){return u.default}});var h=r(50);Object.defineProperty(e,"BlurYFilter",{enumerable:!0,get:function(){return h.default}});var l=r(106);Object.defineProperty(e,"ColorMatrixFilter",{enumerable:!0,get:function(){return l.default}});var c=r(107);Object.defineProperty(e,"AlphaFilter",{enumerable:!0,get:function(){return c.default}});var f=r(108);Object.defineProperty(e,"SpriteMaskFilter",{enumerable:!0,get:function(){return f.default}});var d=r(109);Object.defineProperty(e,"BlurFilterNew",{enumerable:!0,get:function(){return d.default}})},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(47),a=r(48),s=r(49),u=function(t){function e(e,r,i,n){var s=this;n=n||5;var u=o.default(n,!0),h=a.default(n);return(s=t.call(this,u,h)||this).resolution=i||1,s._quality=0,s.quality=r||4,s.strength=e||8,s.firstRun=!0,s}return n(e,t),Object.defineProperty(e.prototype,"blur",{get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t},enumerable:!1,configurable:!0}),e.prototype.apply=function(t,e,r,i){if(this.firstRun){var n=t.renderer.gl,u=s.default(n);this.vertexSrc=o.default(u,!0),this.fragmentSrc=a.default(u),this.firstRun=!1}if(this.uniforms.strength=1/r.size.width*(r.size.width/e.size.width),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,i);else{for(var h=t.getRenderTarget(!0),l=e,c=h,f=0;f<this.passes-1;f++){t.applyFilter(this,l,c,!0);var d=c;c=l,l=d}t.applyFilter(this,l,r,i),t.returnRenderTarget(h)}},e}(r(6).default);e.default=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform float strength;","uniform mat3 projectionMatrix;","varying vec2 vBlurTexCoords[%size%];","void main(void)","{","gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);","%blur%","}"].join("\n");e.default=function(t,e){var r,n=Math.ceil(t/2),o=i,a="";r=e?"vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";for(var s=0;s<t;s++){var u=r.replace("%index%",s);a+=u=u.replace("%sampleIndex%",s-(n-1)+".0"),a+="\n"}return o=(o=o.replace("%blur%",a)).replace("%size%",t)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},n=["precision mediump float;","varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");e.default=function(t){for(var e,r=i[t],o=r.length,a=n,s="",u=0;u<t;u++){var h="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",u+"");e=u,u>=o&&(e=t-u-1),s+=h=h.replace("%value%",r[e]),s+="\n"}return a=(a=a.replace("%blur%",s)).replace("%size%",t)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){for(var e=t.getParameter(t.MAX_VARYING_VECTORS),r=15;r>e;)r-=2;return r}},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(47),a=r(48),s=r(49),u=function(t){function e(e,r,i,n){var s=this;n=n||5;var u=o.default(n,!1),h=a.default(n);return(s=t.call(this,u,h)||this).resolution=i||1,s._quality=0,s.quality=r||4,s.strength=e||8,s.firstRun=!0,s}return n(e,t),Object.defineProperty(e.prototype,"blur",{get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t},enumerable:!1,configurable:!0}),e.prototype.apply=function(t,e,r,i){if(this.firstRun){var n=t.renderer.gl,u=s.default(n);this.vertexSrc=o.default(u,!1),this.fragmentSrc=a.default(u),this.firstRun=!1}if(this.uniforms.strength=1/r.size.height*(r.size.height/e.size.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,i);else{for(var h=t.getRenderTarget(!0),l=e,c=h,f=0;f<this.passes-1;f++){t.applyFilter(this,l,c,!0);var d=c;c=l,l=d}t.applyFilter(this,l,r,i),t.returnRenderTarget(h)}},e}(r(6).default);e.default=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(2),n=new i.Matrix,o=function(){function t(t,e){void 0===e&&(e=.5),this._texture=t,this.mapCoord=new i.Matrix,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._lastTextureID=-1,this.clampOffset=0,this.clampMargin=e}return Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t,this._lastTextureID=-1},enumerable:!1,configurable:!0}),t.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var r=this.mapCoord,i=0;i<t.length;i+=2){var n=t[i],o=t[i+1];e[i]=n*r.a+o*r.c+r.tx,e[i+1]=n*r.b+o*r.d+r.ty}return e},t.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._lastTextureID===e._updateID)return!1;this._lastTextureID=e._updateID;var r=e._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var i=e.orig,o=e.trim;o&&(n.set(i.width/o.width,0,0,i.height/o.height,-o.x/o.width,-o.y/o.height),this.mapCoord.append(n));var a=e.baseTexture,s=this.uClampFrame,u=this.clampMargin,h=this.clampOffset;return s[0]=(e._frame.x+u+h)/a.width,s[1]=(e._frame.y+u+h)/a.height,s[2]=(e._frame.x+e._frame.width-u+h)/a.width,s[3]=(e._frame.y+e._frame.height-u+h)/a.height,this.uClampOffset[0]=h/a.width,this.uClampOffset[1]=h/a.height,!0},t}();e.default=o},function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||e.hasOwnProperty(r)||i(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0});var o=r(53);Object.defineProperty(e,"Graphics",{enumerable:!0,get:function(){return o.default}}),n(r(132),e)},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o,a=r(116),s=r(117),u=r(2),h=r(54),l=r(1),c=r(0),f=r(12),d=r(5),p=r(20),v=r(123),_=r(124),y=r(125),g=r(126),m=r(127),x=r(56),b=r(128),T=r(129),E=r(8),O=new u.Matrix,M=new u.Point,w=(new Float32Array(4),new Float32Array(4),new Float32Array(3)),S=[],P={};P[c.SHAPES.POLY]=v.default,P[c.SHAPES.CIRC]=_.default,P[c.SHAPES.ELIP]=_.default,P[c.SHAPES.RECT]=y.default,P[c.SHAPES.RREC]=g.default;var A=function(t){function e(){var e=t.call(this)||this;return e._blendMode=c.BLEND_MODES.NORMAL,e.batchTint=-1,e.hitTestByPixel=!0,e.cacheAsBitmap=!0,e._instanceType="Graphics",e._fillStyle=new x.default,e._lineStyle=new b.default,e.tint=16777215,e.batchTint=-1,e._matrix=null,e._holeMode=!1,e._currentPath=null,e.graphicsData=[],e.isUsedToMask=!1,e.boundsPadding=0,e.dirty=0,e.boundsDirty=-1,e.cacheDirty=-1,e.verts=[],e.indices=[],e.batches=[],e.geoBatches=[],e.uvs=[],e.batchDirty=-1,e.shapeIndex=0,e.vertexData=null,e._transformID=-1,e}return n(e,t),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"matrix",{get:function(){return this._matrix},set:function(t){},enumerable:!1,configurable:!0}),e.prototype.clone=function(){var t=new e;t.renderable=this.renderable,t._fillStyle=this._fillStyle,t._lineStyle=this._lineStyle,t.isUsedToMask=this.isUsedToMask,t.boundsPadding=this.boundsPadding,t.dirty=0;for(var r=0;r<this.graphicsData.length;++r)t.graphicsData.push(this.graphicsData[r].clone());return t._currentPath=null,t.updateLocalBoundsSelf(),t},e.prototype.lineStyle=function(t,e,r,i,n){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=1),void 0===i&&(i=.5),void 0===n&&(n=!1),this.lineTextureStyle(t,d.default.WHITE,e,r,null,i,n),this},e.prototype.lineTextureStyle=function(t,e,r,i,n,o,a){void 0===t&&(t=0),void 0===e&&(e=d.default.WHITE),void 0===r&&(r=16777215),void 0===i&&(i=1),void 0===n&&(n=null),void 0===o&&(o=.5),void 0===a&&(a=!1),this._currentPath&&this.startPoly();var s=t>0&&i>0;return s?(n&&(n=n.clone()).invert(),this._lineStyle.color=r,this._lineStyle.width=t,this._lineStyle.alpha=i,this._lineStyle.matrix=n,this._lineStyle.texture=e,this._lineStyle.alignment=o,this._lineStyle.native=a,this._lineStyle.visible=s):this._lineStyle.reset(),this},e.prototype.startPoly=function(){if(this._currentPath){var t=this._currentPath.points,e=this._currentPath.points.length;e>2&&(this.drawShape(this._currentPath),this._currentPath=new h.Polygon,this._currentPath.closed=!1,this._currentPath.points.push(t[e-2],t[e-1]))}else this._currentPath=new h.Polygon,this._currentPath.closed=!1},e.prototype.finishPoly=function(){this._currentPath&&(this._currentPath.points.length>2?(this.drawShape(this._currentPath),this._currentPath=null):this._currentPath.points.length=0)},e.prototype.moveTo=function(t,e){return this.startPoly(),this._currentPath.points[0]=t,this._currentPath.points[1]=e,this},e.prototype.lineTo=function(t,e){this._currentPath||this.moveTo(0,0);var r=this._currentPath.points,i=r[r.length-2],n=r[r.length-1];return i===t&&n===e||r.push(t,e),this},e.prototype._initCurve=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._currentPath?0===this._currentPath.points.length&&(this._currentPath.points=[t,e]):this.moveTo(t,e)},e.prototype.quadraticCurveTo=function(t,e,r,i){this._initCurve();var n=this._currentPath.points;0===n.length&&this.moveTo(0,0);for(var o=0,a=0,s=n[n.length-2],u=n[n.length-1],h=T.GRAPHICS_CURVES.segmentsCount(T.quadraticCurveLength(s,u,t,e,r,i)),l=1;l<=h;++l){var c=l/h;o=s+(t-s)*c,a=u+(e-u)*c,n.push(o+(t+(r-t)*c-o)*c,a+(e+(i-e)*c-a)*c)}return this},e.prototype.bezierCurveTo=function(t,e,r,i,n,o){this._initCurve();var a=this._currentPath.points,s=a[a.length-2],u=a[a.length-1];a.length-=2;var h=T.GRAPHICS_CURVES.segmentsCount(T.bezierCurveLength(s,u,t,e,r,i,n,o));return T.bezierCurveTo(s,u,t,e,r,i,n,o,h,a),this},e.prototype.arcTo=function(t,e,r,i,n){this._initCurve(t,e);var o=this._currentPath.points,a=o[o.length-2],s=o[o.length-1]-e,u=a-t,h=i-e,l=r-t,c=Math.abs(s*l-u*h);if(c<1e-8||0===n)o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e);else{var f=s*s+u*u,d=h*h+l*l,p=s*h+u*l,v=n*Math.sqrt(f)/c,_=n*Math.sqrt(d)/c,y=v*p/f,g=_*p/d,m=v*l+_*u,x=v*h+_*s,b=u*(_+y),T=s*(_+y),E=l*(v+g),O=h*(v+g),M=Math.atan2(T-x,b-m),w=Math.atan2(O-x,E-m);this.arc(m+t,x+e,n,M,w,u*h>l*s)}return this},e.prototype.arc=function(t,e,r,i,n,o){if(void 0===o&&(o=!1),i===n)return this;!o&&n<=i?n+=c.PI_2:o&&i<=n&&(i+=c.PI_2);var a=n-i;if(0===a)return this;var s=t+Math.cos(i)*r,u=e+Math.sin(i)*r,h=this._currentPath?this._currentPath.points:null;if(h){var l=Math.abs(h[h.length-2]-s),f=Math.abs(h[h.length-1]-u);l<.001&&f<.001||h.push(s,u)}else this.moveTo(s,u),h=this._currentPath.points;for(var d=T.GRAPHICS_CURVES.segmentsCount(Math.abs(a)*r,40*Math.ceil(Math.abs(a)/c.PI_2)),p=a/(2*d),v=2*p,_=Math.cos(p),y=Math.sin(p),g=d-1,m=g%1/g,x=0;x<=g;++x){var b=p+i+v*(x+m*x),E=Math.cos(b),O=-Math.sin(b);h.push((_*E+y*O)*r+t,(_*-O+y*E)*r+e)}return this},e.prototype.beginFill=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=1),"string"==typeof t&&(t=l.string2hex(t)),this.beginTextureFill(d.default.WHITE,t,e)},e.prototype.beginTextureFill=function(t,e,r,i){void 0===t&&(t=d.default.WHITE),void 0===e&&(e=16777215),void 0===r&&(r=1),void 0===i&&(i=null),this._currentPath&&this.startPoly();var n=r>0;return n?(this._fillStyle.color=e,this._fillStyle.alpha=r,this._fillStyle.texture=t,this._fillStyle.matrix=i,this._fillStyle.visible=n):(this._fillStyle.reset(),this._fillStyle.alphaBlock=!0),this},e.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},e.prototype.endStroke=function(){return this.finishPoly(),this._lineStyle.reset(),this},e.prototype.closePath=function(){var t=this._currentPath;return this._currentPath&&t.close(),this},e.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},e.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},e.prototype.drawRect=function(t,e,r,i){return this.drawShape(new u.Rectangle(t,e,r,i))},e.prototype.drawRoundedRect=function(t,e,r,i,n){return this.drawShape(new h.RoundedRectangle(t,e,r,i,n))},e.prototype.drawCircle=function(t,e,r){return this.drawShape(new h.Circle(t,e,r))},e.prototype.drawEllipse=function(t,e,r,i){return this.drawShape(new h.Ellipse(t,e,r,i))},e.prototype.drawPolygon=function(t){var e=t,r=!0;if(e instanceof h.Polygon&&(r=e.closed,e=e.points),!Array.isArray(e)){e=new Array(arguments.length);for(var i=0;i<e.length;++i)e[i]=arguments[i]}var n=new h.Polygon(e);return n.closed=r,this.drawShape(n),this},e.prototype.drawStar=function(t,e,r,i,n,o){void 0===o&&(o=0),n=n||i/2;for(var a=-1*Math.PI/2+o,s=2*r,u=c.PI_2/s,h=[],l=0;l<s;l++){var f=l%2?n:i,d=l*u+a;h.push(t+f*Math.cos(d),e+f*Math.sin(d))}return this.drawPolygon(h)},e.prototype.drawShape=function(t){if(this._holeMode){if(!this.graphicsData.length)return this;e=new a.default(t,null,null,this._matrix);this.graphicsData[this.graphicsData.length-1].holes.push(e),this.dirty++}else{var e=new a.default(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix);this.graphicsData.push(e),this.dirty++}return this},e.prototype.clear=function(){if(this.graphicsData.length>0){this.boundsDirty=-1,this.dirty++,this.graphicsData.length=0,this.verts.length=0,this.uvs.length=0,this.indices.length=0,this.shapeIndex=0;for(var t=0;t<this.geoBatches.length;t++){var e=this.geoBatches[t];e.start=0,e.attribStart=0,e.style=null,S.push(e)}this.geoBatches.length=0,this.batches.length=0}return this._currentPath=null,this._matrix=null,this._holeMode=!1,this._currentPath=null,this},e.prototype.isFastRect=function(){return!1},e.prototype._renderWebGL=function(t){if(this.finishPoly(),this.updateBatch(),t.batchManager.setObjectRenderer(t.plugins.batch),this.batches.length){this.calculateVertices(),this.calculateTints();for(var e=0;e<this.batches.length;e++){var r=this.batches[e];r._worldAlpha=this._worldAlpha*r.graAlpha,t.plugins.batch.render(r)}}},e.prototype.updateBatch=function(){if(this.batchDirty!==this.dirty&&0!==this.graphicsData.length){this.batchDirty=this.dirty;var t,e=this.uvs;(t=this.geoBatches.pop())||((t=S.pop()||new C).style=t.style||this.graphicsData[0].fillStyle||this.graphicsData[0].lineStyle);var r=t.style.texture.baseTexture,i=t.style.color+t.style.alpha;this.geoBatches.push(t);for(var n=this.shapeIndex;n<this.graphicsData.length;n++){this.shapeIndex++;var o=this.graphicsData[n],a=P[o.type],s=o.fillStyle,u=o.lineStyle;a.build(o),o.matrix&&this.transformPoints(o.points,o.matrix);for(var h=0;h<2;h++){var f=0===h?s:u;if(f.visible){var d=f.texture.baseTexture;if(r!==d||f.color+f.alpha!==i){d.wrapMode=c.WRAP_MODES.REPEAT,r=d,i=f.color+f.alpha;var p=this.indices.length,_=this.verts.length/2;t.size=p-t.start,t.attribSize=_-t.attribStart,t.size>0&&(t=S.pop()||new C,this.geoBatches.push(t)),t.style=f,t.start=p,t.attribStart=_}var y=this.verts.length/2;0===h?o.holes.length?(this.proccessHoles(o.holes),v.default.triangulate(o,this)):a.triangulate(o,this):m.default(o,this);var g=this.verts.length/2-y;this.addUvs(this.verts,e,f.texture,y,g,f.matrix)}}}var x=this.indices.length,b=this.verts.length/2;t.size=x-t.start,t.attribSize=b-t.attribStart;for(var T=new Uint16Array(this.indices),E=new Float32Array(this.uvs),O=0;O<this.geoBatches.length;O++){var M=this.geoBatches[O];for(h=0;h<M.size;h++){var w=M.start+h;T[w]=T[w]-M.attribStart}}this._transformID=-1,this.batchTint=-1,this.batches=[],this.vertexData=new Float32Array(this.verts);for(var A=this.blendMode,D=0;D<this.geoBatches.length;D++){var R=this.geoBatches[D],I=R.style.color,L=new Float32Array(this.vertexData.buffer,4*R.attribStart*2,2*R.attribSize),j=new Float32Array(E.buffer,4*R.attribStart*2,2*R.attribSize);M={_vertexData:L,_indices:new Uint16Array(T.buffer,2*R.start,R.size),_uvs:j,_tintRGB:I,_texture:R.style.texture,_worldAlpha:1,_blendMode:A,graAlpha:R.style.alpha,_batchRGB:l.hex2rgb(I)};this.batches[D]=M}}},e.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var t=l.hex2rgb(this.tint,w),e=0;e<this.batches.length;e++){var r=this.batches[e],i=r._batchRGB,n=(t[0]*i[0]*255<<16)+(t[1]*i[1]*255<<8)+(0|t[2]*i[2]*255);r._tintRGB=(n>>16)+(65280&n)+((255&n)<<16)}}},e.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID;for(var t=this.transform.worldMatrix,e=t.a,r=t.b,i=t.c,n=t.d,o=t.tx,a=t.ty,s=this.verts,u=this.vertexData,h=0,l=0;l<s.length;l+=2){var c=s[l],f=s[l+1];u[h++]=e*c+i*f+o,u[h++]=n*f+r*c+a}}},e.prototype.transformPoints=function(t,e){for(var r=0;r<t.length/2;r++){var i=t[2*r],n=t[2*r+1];t[2*r]=e.a*i+e.c*n+e.tx,t[2*r+1]=e.b*i+e.d*n+e.ty}},e.prototype._renderCanvas=function(t){if(this.finishPoly(),this.cacheAsBitmap){if(this.cacheDirty!=this.dirty){this.cacheDirty=this.dirty;var e=this.mask;this.mask=null,this.cacheAsBitmap=!1;var r=this.alpha;this.alpha=1;var i=this.children;this.children=[],this.generateCanvasTexture(),this.mask=e,this.alpha=r,this.cacheAsBitmap=!0,this.children=i,this.parent&&(this.transform._parentID=-1,this.updateTransform())}t.plugins.sprite.render(this)}else t.plugins.graphics.render(this)},e.prototype._calculateBounds=function(){this.updateLocalBoundsSelf();var t=this._localBoundsSelf,e=this.transform.worldMatrix;e.transformPoint(t.x,t.y,f.DisplayObject._p1),e.transformPoint(t.x+t.width,t.y,f.DisplayObject._p2),e.transformPoint(t.x+t.width,t.y+t.height,f.DisplayObject._p3),e.transformPoint(t.x,t.y+t.height,f.DisplayObject._p4),u.Rectangle.createFromPoints(this._bounds,f.DisplayObject._p1,f.DisplayObject._p2,f.DisplayObject._p3,f.DisplayObject._p4)},e.prototype.hitTestPoint=function(e,r){return void 0===r&&(r=!1),this.visible?(i=t.prototype.hitTestPoint.call(this,e,r))?i:r&&!this.mouseEnable?null:(this.updateLocalBoundsSelf(),(i=this.displayObjectHitTestPoint(e,r))?this.hitTestByPixel?this.hitTestPointAccuratly(e,r):i:null):null;var i},e.prototype.hitTestPointAccuratly=function(t,e){e?this.worldMatrix.transformPointInverse(t.x,t.y,M):M.set(t.x,t.y);for(var r=this.graphicsData,i=0;i<r.length;++i){var n=r[i];if((n.fillStyle.visible||n.fillStyle.alphaBlock)&&(n.shape&&n.shape.isPointIn(M))){if(n.holes)for(var o=0;o<n.holes.length;o++){if(n.holes[o].shape.isPointIn(M))return null}return this}}return null},e.prototype.updateLocalBoundsSelf=function(){if(this.boundsDirty!=this.dirty){this.boundsDirty=this.dirty;var t=1/0,e=-1/0,r=1/0,i=-1/0;if(this.graphicsData.length)for(var n=void 0,o=0,a=0,s=0,h=0,l=0;l<this.graphicsData.length;l++){var f=this.graphicsData[l],d=f.type,p=f.lineStyle,v=(f.matrix||u.Matrix.IDENTITY,0);if(p&&p.visible){var _=p.alignment;v=p.width,d===c.SHAPES.POLY?v*=.5+Math.abs(.5-_):v*=Math.max(0,_)}if(n=f.shape,d===c.SHAPES.RECT||d===c.SHAPES.RREC)o=n.x-v/2,a=n.y-v/2,t=o<t?o:t,e=o+(s=n.width+v)>e?o+s:e,r=a<r?a:r,i=a+(h=n.height+v)>i?a+h:i;else if(d===c.SHAPES.CIRC)o=n.x,a=n.y,t=o-(s=n.radius+v/2)<t?o-s:t,e=o+s>e?o+s:e,r=a-(h=n.radius+v/2)<r?a-h:r,i=a+h>i?a+h:i;else if(d===c.SHAPES.ELIP)o=n.x,a=n.y,t=o-(s=n.width+v/2)<t?o-s:t,e=o+s>e?o+s:e,r=a-(h=n.height+v/2)<r?a-h:r,i=a+h>i?a+h:i;else for(var y=n.points,g=0,m=0,x=0,b=0,T=0,E=0,O=0,M=0,w=0;w+2<y.length;w+=2)o=y[w],a=y[w+1],g=y[w+2],m=y[w+3],x=Math.abs(g-o),b=Math.abs(m-a),h=v,(s=Math.sqrt(x*x+b*b))<1e-9||(t=(O=(g+o)/2)-(T=(h/s*b+x)/2)<t?O-T:t,e=O+T>e?O+T:e,r=(M=(m+a)/2)-(E=(h/s*x+b)/2)<r?M-E:r,i=M+E>i?M+E:i)}else t=0,e=0,r=0,i=0;var S=this.boundsPadding;this._localBoundsSelf.x=t-S,this._localBoundsSelf.y=r-S,this._localBoundsSelf.width=e-t+2*S,this._localBoundsSelf.height=i-r+2*S}},e.prototype.generateCanvasTexture=function(t){void 0===t&&(t=c.SCALE_MODES.LINEAR),this.updateLocalBoundsSelf();var e=this._localBoundsSelf;return this._canvasBuffer?this._canvasBuffer.resize(e.width,e.height):this._canvasBuffer=s.default.create(e.width,e.height,t),o||(o=new p.CanvasRenderer(null,0,0)),this.transform.updateLocalMatrix(),O.copy(this.transform.localMatrix),O.invert(),O.tx-=e.x,O.ty-=e.y,o.render(this,this._canvasBuffer,O),this._texture||(this._texture=d.default.fromCanvas(this._canvasBuffer.baseTexture._canvasRenderTarget.canvas,"graphics")),this._texture.baseTexture.update(),this.offsetX=e.x,this.offsetY=e.y,this._texture},e.prototype.destroy=function(){t.prototype.destroy.call(this);for(var e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this._matrix=null,this._currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this.vertexData=null,this.geoBatches.length=0,this.geoBatches=null,this.batches.length=0,this.batches=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.updateLocalBoundsSelf(),Math.abs(this.scale.x)*this._localBoundsSelf.width},set:function(t){this.updateLocalBoundsSelf();var e=this._localBoundsSelf.width;if(0!==e){var r=l.sign(this.scale.x)||1;this.scale.x=r*t/e}else this.scale.x=1;this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.updateLocalBoundsSelf(),Math.abs(this.scale.y)*this._localBoundsSelf.height},set:function(t){this.updateLocalBoundsSelf();var e=this._localBoundsSelf.height;if(0!==e){var r=l.sign(this.scale.y)||1;this.scale.y=r*t/e}else this.scale.y=1;this._height=t},enumerable:!1,configurable:!0}),e.prototype.proccessHoles=function(t){for(var e=0;e<t.length;e++){var r=t[e];P[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}},e.prototype.addUvs=function(t,e,r,i,n,o){for(var a=0,s=e.length,u=r.frame;a<n;){var h=t[2*(i+a)],l=t[2*(i+a)+1];if(o){var c=o.a*h+o.c*l+o.tx;l=o.b*h+o.d*l+o.ty,h=c}a++;var f=r.frame;e.push(h/f.width,l/f.height)}var d=r.baseTexture;(u.width<d.width||u.height<d.height)&&this.adjustUvs(e,r,s,n)},e.prototype.adjustUvs=function(t,e,r,i){for(var n=e.baseTexture,o=1e-6,a=r+2*i,s=e.frame,u=s.width/n.width,h=s.height/n.height,l=s.x/s.width,c=s.y/s.height,f=Math.floor(t[r]+o),d=Math.floor(t[r+1]+o),p=r+2;p<a;p+=2)f=Math.min(f,Math.floor(t[p]+o)),d=Math.min(d,Math.floor(t[p+1]+o));l-=f,c-=d;for(p=r;p<a;p+=2)t[p]=(t[p]+l)*u,t[p+1]=(t[p+1]+c)*h},e}(E.default);e.default=A;var C=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(119);Object.defineProperty(e,"Circle",{enumerable:!0,get:function(){return i.default}});var n=r(120);Object.defineProperty(e,"Ellipse",{enumerable:!0,get:function(){return n.default}});var o=r(121);Object.defineProperty(e,"Polygon",{enumerable:!0,get:function(){return o.default}});var a=r(122);Object.defineProperty(e,"RoundedRectangle",{enumerable:!0,get:function(){return a.default}})},function(t,e,r){"use strict";function i(t,e,r){r=r||2;var i,s,u,h,l,d,v,_=e&&e.length,y=_?e[0]*r:t.length,g=n(t,0,y,r,!0),m=[];if(!g||g.next===g.prev)return m;if(_&&(g=function(t,e,r,i){var a,s,u,h,l,d=[];for(a=0,s=e.length;a<s;a++)u=e[a]*i,h=a<s-1?e[a+1]*i:t.length,(l=n(t,u,h,i,!1))===l.next&&(l.steiner=!0),d.push(p(l));for(d.sort(c),a=0;a<d.length;a++)f(d[a],r),r=o(r,r.next);return r}(t,e,g,r)),t.length>80*r){i=u=t[0],s=h=t[1];for(var x=r;x<y;x+=r)(l=t[x])<i&&(i=l),(d=t[x+1])<s&&(s=d),l>u&&(u=l),d>h&&(h=d);v=0!==(v=Math.max(u-i,h-s))?1/v:0}return a(g,m,r,i,s,v),m}function n(t,e,r,i,n){var o,a;if(n===M(t,e,r,i)>0)for(o=e;o<r;o+=i)a=T(o,t[o],t[o+1],a);else for(o=r-i;o>=e;o-=i)a=T(o,t[o],t[o+1],a);return a&&g(a,a.next)&&(E(a),a=a.next),a}function o(t,e){if(!t)return t;e||(e=t);var r,i=t;do{if(r=!1,i.steiner||!g(i,i.next)&&0!==y(i.prev,i,i.next))i=i.next;else{if(E(i),(i=e=i.prev)===i.next)break;r=!0}}while(r||i!==e);return e}function a(t,e,r,i,n,c,f){if(t){!f&&c&&function(t,e,r,i){var n=t;do{null===n.z&&(n.z=d(n.x,n.y,e,r,i)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==t);n.prevZ.nextZ=null,n.prevZ=null,function(t){var e,r,i,n,o,a,s,u,h=1;do{for(r=t,t=null,o=null,a=0;r;){for(a++,i=r,s=0,e=0;e<h&&(s++,i=i.nextZ);e++);for(u=h;s>0||u>0&&i;)0!==s&&(0===u||!i||r.z<=i.z)?(n=r,r=r.nextZ,s--):(n=i,i=i.nextZ,u--),o?o.nextZ=n:t=n,n.prevZ=o,o=n;r=i}o.nextZ=null,h*=2}while(a>1)}(n)}(t,i,n,c);for(var p,v,_=t;t.prev!==t.next;)if(p=t.prev,v=t.next,c?u(t,i,n,c):s(t))e.push(p.i/r),e.push(t.i/r),e.push(v.i/r),E(t),t=v.next,_=v.next;else if((t=v)===_){f?1===f?a(t=h(t,e,r),e,r,i,n,c,2):2===f&&l(t,e,r,i,n,c):a(o(t),e,r,i,n,c,1);break}}}function s(t){var e=t.prev,r=t,i=t.next;if(y(e,r,i)>=0)return!1;for(var n=t.next.next;n!==t.prev;){if(v(e.x,e.y,r.x,r.y,i.x,i.y,n.x,n.y)&&y(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function u(t,e,r,i){var n=t.prev,o=t,a=t.next;if(y(n,o,a)>=0)return!1;for(var s=n.x<o.x?n.x<a.x?n.x:a.x:o.x<a.x?o.x:a.x,u=n.y<o.y?n.y<a.y?n.y:a.y:o.y<a.y?o.y:a.y,h=n.x>o.x?n.x>a.x?n.x:a.x:o.x>a.x?o.x:a.x,l=n.y>o.y?n.y>a.y?n.y:a.y:o.y>a.y?o.y:a.y,c=d(s,u,e,r,i),f=d(h,l,e,r,i),p=t.prevZ,_=t.nextZ;p&&p.z>=c&&_&&_.z<=f;){if(p!==t.prev&&p!==t.next&&v(n.x,n.y,o.x,o.y,a.x,a.y,p.x,p.y)&&y(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,_!==t.prev&&_!==t.next&&v(n.x,n.y,o.x,o.y,a.x,a.y,_.x,_.y)&&y(_.prev,_,_.next)>=0)return!1;_=_.nextZ}for(;p&&p.z>=c;){if(p!==t.prev&&p!==t.next&&v(n.x,n.y,o.x,o.y,a.x,a.y,p.x,p.y)&&y(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;_&&_.z<=f;){if(_!==t.prev&&_!==t.next&&v(n.x,n.y,o.x,o.y,a.x,a.y,_.x,_.y)&&y(_.prev,_,_.next)>=0)return!1;_=_.nextZ}return!0}function h(t,e,r){var i=t;do{var n=i.prev,o=i.next.next;!g(n,o)&&m(n,i,i.next,o)&&x(n,o)&&x(o,n)&&(e.push(n.i/r),e.push(i.i/r),e.push(o.i/r),E(i),E(i.next),i=t=o),i=i.next}while(i!==t);return i}function l(t,e,r,i,n,s){var u=t;do{for(var h=u.next.next;h!==u.prev;){if(u.i!==h.i&&_(u,h)){var l=b(u,h);return u=o(u,u.next),l=o(l,l.next),a(u,e,r,i,n,s),void a(l,e,r,i,n,s)}h=h.next}u=u.next}while(u!==t)}function c(t,e){return t.x-e.x}function f(t,e){if(e=function(t,e){var r,i=e,n=t.x,o=t.y,a=-1/0;do{if(o<=i.y&&o>=i.next.y&&i.next.y!==i.y){var s=i.x+(o-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(s<=n&&s>a){if(a=s,s===n){if(o===i.y)return i;if(o===i.next.y)return i.next}r=i.x<i.next.x?i:i.next}}i=i.next}while(i!==e);if(!r)return null;if(n===a)return r.prev;var u,h=r,l=r.x,c=r.y,f=1/0;i=r.next;for(;i!==h;)n>=i.x&&i.x>=l&&n!==i.x&&v(o<c?n:a,o,l,c,o<c?a:n,o,i.x,i.y)&&((u=Math.abs(o-i.y)/(n-i.x))<f||u===f&&i.x>r.x)&&x(i,t)&&(r=i,f=u),i=i.next;return r}(t,e)){var r=b(e,t);o(r,r.next)}}function d(t,e,r,i,n){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*n)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*n)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function p(t){var e=t,r=t;do{(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next}while(e!==t);return r}function v(t,e,r,i,n,o,a,s){return(n-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(i-s)-(r-a)*(e-s)>=0&&(r-a)*(o-s)-(n-a)*(i-s)>=0}function _(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&m(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}(t,e)&&x(t,e)&&x(e,t)&&function(t,e){var r=t,i=!1,n=(t.x+e.x)/2,o=(t.y+e.y)/2;do{r.y>o!=r.next.y>o&&r.next.y!==r.y&&n<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(i=!i),r=r.next}while(r!==t);return i}(t,e)}function y(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function g(t,e){return t.x===e.x&&t.y===e.y}function m(t,e,r,i){return!!(g(t,e)&&g(r,i)||g(t,i)&&g(r,e))||y(t,e,r)>0!=y(t,e,i)>0&&y(r,i,t)>0!=y(r,i,e)>0}function x(t,e){return y(t.prev,t,t.next)<0?y(t,e,t.next)>=0&&y(t,t.prev,e)>=0:y(t,e,t.prev)<0||y(t,t.next,e)<0}function b(t,e){var r=new O(t.i,t.x,t.y),i=new O(e.i,e.x,e.y),n=t.next,o=e.prev;return t.next=e,e.prev=t,r.next=n,n.prev=r,i.next=r,r.prev=i,o.next=i,i.prev=o,i}function T(t,e,r,i){var n=new O(t,e,r);return i?(n.next=i.next,n.prev=i,i.next.prev=n,i.next=n):(n.prev=n,n.next=n),n}function E(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function O(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function M(t,e,r,i){for(var n=0,o=e,a=r-i;o<r;o+=i)n+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return n}Object.defineProperty(e,"__esModule",{value:!0}),e.earcut=void 0,e.earcut=i,i.deviation=function(t,e,r,i){var n=e&&e.length,o=n?e[0]*r:t.length,a=Math.abs(M(t,0,o,r));if(n)for(var s=0,u=e.length;s<u;s++){var h=e[s]*r,l=s<u-1?e[s+1]*r:t.length;a-=Math.abs(M(t,h,l,r))}var c=0;for(s=0;s<i.length;s+=3){var f=i[s]*r,d=i[s+1]*r,p=i[s+2]*r;c+=Math.abs((t[f]-t[p])*(t[d+1]-t[f+1])-(t[f]-t[d])*(t[p+1]-t[f+1]))}return 0===a&&0===c?0:Math.abs((c-a)/a)},i.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},i=0,n=0;n<t.length;n++){for(var o=0;o<t[n].length;o++)for(var a=0;a<e;a++)r.vertices.push(t[n][o][a]);n>0&&(i+=t[n-1].length,r.holes.push(i))}return r}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(5),n=function(){function t(){this.reset()}return t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.alphaBlock=this.alphaBlock,e},t.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=i.default.WHITE,this.matrix=null,this.visible=!1,this.alphaBlock=!1},t.prototype.destroy=function(){this.texture=null,this.matrix=null},t}();e.default=n},function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||e.hasOwnProperty(r)||i(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(r(23),e),n(r(133),e),n(r(58),e),n(r(134),e)},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.calculatePlaneIndices=e.Plane=void 0;var o=function(t){function e(e,r,i){void 0===r&&(r=10),void 0===i&&(i=10);var n=t.call(this,e)||this;return n.verticesX=r||10,n.verticesY=i||10,n.refresh(),n}return n(e,t),e.prototype._refresh=function(){for(var t=this.texture,e=this.verticesX*this.verticesY,r=[],i=[],n=this.verticesX-1,o=this.verticesY-1,s=t.width/n,u=t.height/o,h=0;h<e;h++){var l=h%this.verticesX,c=h/this.verticesX|0;r.push(l*s,c*u),i.push(l/n,c/o)}this._vertices=new Float32Array(r),this._uvs=new Float32Array(i),this._indices=a(this.verticesX,this.verticesY),this._vertexDirty++,this.multiplyUvs()},e}(r(23).Mesh);function a(t,e){for(var r=t-1,i=r*(e-1),n=[],o=0;o<i;o++){var a=o%r,s=o/r|0,u=s*t+a,h=s*t+a+1,l=(s+1)*t+a,c=(s+1)*t+a+1;n.push(u,h,l),n.push(h,c,l)}return new Uint16Array(n)}e.Plane=o,e.calculatePlaneIndices=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e,r){this._target=null,this._useTicks=!1,this.ignoreGlobalPause=!1,this.loop=!1,this.pluginData=null,this._steps=null,this.paused=!1,this.duration=0,this._prevPos=-1,this.position=null,this._prevPosition=0,this._stepPosition=0,this.passive=!1,this.initialize(t,e,r)}return t.get=function(e,r,i,n){return void 0===i&&(i=null),void 0===n&&(n=!1),n&&t.removeTweens(e),new t(e,r,i)},t.removeTweens=function(e){if(e.tween_count){for(var r=t._tweens,i=r.length-1;i>=0;i--)r[i]._target==e&&(r[i].paused=!0,r.splice(i,1));e.tween_count=0}},t.removeTweenSelf=function(e){if(e&&e._target&&e._target.tween_count){e.paused=!0;var r=t._tweens,i=r.indexOf(e);i>-1&&r.splice(i,1),e._target.tween_count--}},t.pauseTweens=function(e){if(e.tween_count)for(var r=t._tweens,i=r.length-1;i>=0;i--)r[i]._target==e&&(r[i].paused=!0)},t.resumeTweens=function(e){if(e.tween_count)for(var r=t._tweens,i=r.length-1;i>=0;i--)r[i]._target==e&&(r[i].paused=!1)},t.tick=function(e,r){void 0===r&&(r=!1);var i=e-t._lastTime;t._lastTime=e;for(var n=t._tweens.concat(),o=n.length-1;o>=0;o--){var a=n[o];r&&!a.ignoreGlobalPause||a.paused||a.$tick(a._useTicks?1:i)}return!1},t.flush=function(){var e=Date.now(),r=t._lastTime?e-t._lastTime:16.67;t._lastTime=e;for(var i=t._tweens.concat(),n=i.length-1;n>=0;n--){var o=i[n];o.paused||o.$tick(o._useTicks?1:r)}},t._register=function(e,r){var i=e._target,n=t._tweens;if(r)i&&(i.tween_count=i.tween_count>0?i.tween_count+1:1),n.push(e),t._inited||(t._inited=!0);else{i&&i.tween_count--;for(var o=n.length;o--;)if(n[o]==e)return void n.splice(o,1)}},t.removeAllTweens=function(){for(var e=t._tweens,r=0,i=e.length;r<i;r++){var n=e[r];n.paused=!0,n._target.tween_count=0}e.length=0},t.prototype.initialize=function(e,r,i){this._target=e,r&&(this._useTicks=r.useTicks,this.ignoreGlobalPause=r.ignoreGlobalPause,this.loop=r.loop,r.onChange?this.onChange=r.onChange.bind(r.onChangeObj):this.onChange=null,r.override&&t.removeTweens(e)),this.pluginData=i||{},this._curQueueProps={},this._initQueueProps={},this._steps=[],r&&r.paused?this.paused=!0:t._register(this,!0),r&&null!=r.position&&this.setPosition(r.position,t.NONE)},t.prototype.setPosition=function(t,e){void 0===e&&(e=1),t<0&&(t=0);var r=t,i=!1;if(r>=this.duration)if(this.loop){var n=r%this.duration;r=r>0&&0===n?this.duration:n}else r=this.duration,i=!0;if(r==this._prevPos)return i;i&&this.setPaused(!0);var o=this._prevPos;if(this.position=this._prevPos=r,this._prevPosition=t,this._target&&this._steps.length>0){for(var a=this._steps.length,s=-1,u=0;u<a&&!("step"==this._steps[u].type&&(s=u,this._steps[u].t<=r&&this._steps[u].t+this._steps[u].d>=r));u++);for(u=0;u<a;u++)if("action"==this._steps[u].type)0!=e&&(this._useTicks?this._runAction(this._steps[u],r,r):1==e&&r<o?(o!=this.duration&&this._runAction(this._steps[u],o,this.duration),this._runAction(this._steps[u],0,r,!0)):this._runAction(this._steps[u],o,r));else if("step"==this._steps[u].type&&s==u){var h=this._steps[s];this._updateTargetProps(h,Math.min((this._stepPosition=r-h.t)/h.d,1))}}return this.onChange&&this.onChange(),i},t.prototype._runAction=function(t,e,r,i){void 0===i&&(i=!1);var n=e,o=r;e>r&&(n=r,o=e);var a=t.t;(a==o||a>n&&a<o||i&&a==e)&&t.f.apply(t.o,t.p)},t.prototype._updateTargetProps=function(e,r){var i,n,o,a,s,u;if(e||1!=r){if(this.passive=!!e.v,this.passive)return;e.e&&(r=e.e(r,0,1,1)),i=e.p0,n=e.p1}else this.passive=!1,i=n=this._curQueueProps;for(var h in this._initQueueProps){null==(a=i[h])&&(i[h]=a=this._initQueueProps[h]),null==(s=n[h])&&(n[h]=s=a),o=a==s||0==r||1==r||"number"!=typeof a?1==r?s:a:a+(s-a)*r;var l=!1;if(u=t._plugins[h])for(var c=0,f=u.length;c<f;c++){var d=u[c].tween(this,h,o,i,n,r,!!e&&i==n,!e);d==t.IGNORE?l=!0:o=d}l||(this._target[h]=o)}},t.prototype.setPaused=function(e){return this.paused==e||(this.paused=e,t._register(this,!e)),this},t.prototype._cloneProps=function(t){var e={};for(var r in t)e[r]=t[r];return e},t.prototype._addStep=function(t){return t.d>0&&(t.type="step",this._steps.push(t),t.t=this.duration,this.duration+=t.d),this},t.prototype._appendQueueProps=function(e){var r,i,n,o,a;for(var s in e)if(void 0===this._initQueueProps[s]){if(i=this._target[s],r=t._plugins[s])for(n=0,o=r.length;n<o;n++)i=r[n].init(this,s,i);this._initQueueProps[s]=this._curQueueProps[s]=void 0===i?null:i}else i=this._curQueueProps[s];for(var s in e){if(i=this._curQueueProps[s],r=t._plugins[s])for(a=a||{},n=0,o=r.length;n<o;n++)r[n].step&&r[n].step(this,s,i,e[s],a);this._curQueueProps[s]=e[s]}return a&&this._appendQueueProps(a),this._curQueueProps},t.prototype._addAction=function(t){return t.t=this.duration,t.type="action",this._steps.push(t),this},t.prototype._set=function(t,e){for(var r in t)e[r]=t[r]},t.prototype.wait=function(t,e){if(null==t||t<=0)return this;var r=this._cloneProps(this._curQueueProps);return this._addStep({d:t,p0:r,p1:r,v:e})},t.prototype.to=function(t,e,r){return void 0===r&&(r=void 0),(isNaN(e)||e<0)&&(e=0),this._addStep({d:e||0,p0:this._cloneProps(this._curQueueProps),e:r,p1:this._cloneProps(this._appendQueueProps(t))}),this.set(t)},t.prototype.by=function(t,e,r){for(var i in void 0===e&&(e=0),void 0===r&&(r=void 0),t)t[i]+=this._curQueueProps[i]||this._target[i];return this.to(t,e,r)},t.prototype.call=function(t,e,r){return void 0===e&&(e=void 0),void 0===r&&(r=void 0),this._addAction({f:t,p:r||[],o:e||this._target})},t.prototype.set=function(t,e){return void 0===e&&(e=null),this._appendQueueProps(t),this._addAction({f:this._set,o:this,p:[t,e||this._target]})},t.prototype.play=function(t){return t||(t=this),this.call(t.setPaused,t,[!1])},t.prototype.pause=function(t){return t||(t=this),this.call(t.setPaused,t,[!0])},t.prototype.$tick=function(t){this.paused||this.setPosition(this._prevPosition+t)},t.NONE=0,t.LOOP=1,t.REVERSE=2,t._tweens=[],t.IGNORE={},t._plugins={},t._inited=!1,t._lastTime=0,t}();e.default=i},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollPage=void 0;var o=r(8),a=r(53),s=r(22),u=r(4),h=r(29),l=function(t){function e(e,r,i,n,h){void 0===n&&(n=!0),void 0===h&&(h=!1);var l=t.call(this)||this;l.isVertical=!0,l.viewWidth=0,l.viewHeight=0,l._tweenId=0,l.maxDistance=1040,l.distance=0,l.minDis=2,l.maskObj=new a.default,l.view=new o.default,l.lastValue=0,l.speed=0,l.addSpeed=0,l.isStop=!0,l.maxSpeed=100,l.fSpeed=20,l.paramXY="y",l.stopTimes=-1,l.isMouseDownState=0,l.autoScroll=!1,l.isSpringBack=!0;var c=l;return c._instanceType="ScrollPage",c.addChild(c.maskObj),c.addChild(c.view),h||(c.view.mask=c.maskObj,c.maskObj.isUsedToMask=!1),c.maskObj.alpha=0,c.maxDistance=i,c.setViewRect(e,r,n),c.addEventListener(u.Event.ADDED_TO_STAGE,(function(t){c.stage.addEventListener(s.MouseEvent.MOUSE_MOVE,c.onMouseEvent,c),c.stage.addEventListener(s.MouseEvent.MOUSE_UP,c.onMouseEvent,c)})),c.addEventListener(u.Event.REMOVED_FROM_STAGE,(function(t){c.stage.removeEventListener(s.MouseEvent.MOUSE_MOVE,c.onMouseEvent,c),c.stage.removeEventListener(s.MouseEvent.MOUSE_UP,c.onMouseEvent,c)})),c.addEventListener(s.MouseEvent.MOUSE_DOWN,c.onMouseEvent,c,!1),c.addEventListener(u.Event.ENTER_FRAME,(function(){var t=c.view;if(!c.autoScroll){if(!c.isSpringBack){if(t[c.paramXY]>0)return c.addSpeed=0,c.speed=0,c.isStop=!0,void(t[c.paramXY]=0);if(t[c.paramXY]<c.distance-c.maxDistance)return c.addSpeed=0,c.speed=0,c.isStop=!0,t[c.paramXY]=c.distance-c.maxDistance,void(c.distance>c.maxDistance&&(t[c.paramXY]=0))}if(c.isStop)c.stopTimes>=0&&(c.stopTimes++,c.stopTimes>=15&&(c.speed=0,(t[c.paramXY]>0||t[c.paramXY]<c.distance-c.maxDistance)&&(c.isStop=!1,c.stopTimes=-1,c.isMouseDownState=0)));else if(Math.abs(c.speed)>0)t[c.paramXY]+=c.speed,t[c.paramXY]>0||t[c.paramXY]<c.distance-c.maxDistance?c.speed+=c.addSpeed*c.fSpeed:c.speed+=c.addSpeed,c.speed*c.addSpeed>0&&(c.dispatchEvent(u.Event.SCROLL_STOP),c.speed=0);else if(0!=c.addSpeed){if(t[c.paramXY]>0||t[c.paramXY]<c.distance-c.maxDistance){var e=0;t[c.paramXY]<c.distance-c.maxDistance&&c.distance<c.maxDistance&&(e=c.distance-c.maxDistance),t[c.paramXY]+=.4*(e-t[c.paramXY]),Math.abs(e-t[c.paramXY])<.1&&(c.isStop=!0,c.addSpeed>0?c.dispatchEvent(u.Event.SCROLL_TO_END):c.dispatchEvent(u.Event.SCROLL_TO_HEAD))}}else c.isStop=!0}})),l}return n(e,t),e.prototype.setViewRect=function(t,e,r){var i=this;i.maskObj.clear(),i.maskObj.beginFill("#000000"),i.maskObj.drawRect(0,0,t,e),i.viewWidth=t,i.viewHeight=e,i.maskObj.endFill(),i.isVertical=r,r?(i.distance=i.viewHeight,i.paramXY="y"):(i.distance=i.viewWidth,i.paramXY="x"),i.isVertical=r},e.prototype.onMouseEvent=function(t){var e=this,r=e.view;if(t.type==s.MouseEvent.MOUSE_DOWN)t.stopPropagation(),e.isStop||(e.isStop=!0),e.autoScroll&&(e.autoScroll=!1,h.Tween.removeTweens(e.view)),e.isVertical?e.lastValue=t.stageY:e.lastValue=t.stageX,e.speed=0,e.isMouseDownState=1;else if(t.type==s.MouseEvent.MOUSE_MOVE){if(0==e.isMouseDownState)return;1==e.isMouseDownState&&e.dispatchEvent(u.Event.SCROLL_START),e.isMouseDownState=2;var i=void 0;if(i=e.isVertical?t.stageY:t.stageX,e.speed=i-e.lastValue,e.speed>e.minDis?(e.addSpeed=-2,e.speed>e.maxSpeed&&(e.speed=e.maxSpeed)):e.speed<-e.minDis?(e.speed<-e.maxSpeed&&(e.speed=-e.maxSpeed),e.addSpeed=2):e.speed=0,0!=e.speed){var n=1;(r[e.paramXY]>0||r[e.paramXY]<e.distance-e.maxDistance)&&(n=.2),r[e.paramXY]+=(i-e.lastValue)*n}e.lastValue=i,e.stopTimes=0}else e.isStop=!1,e.stopTimes=-1,0==e.speed&&2==e.isMouseDownState&&e.dispatchEvent(u.Event.SCROLL_STOP),e.isMouseDownState=0},e.prototype.scrollTo=function(t,e){var r;void 0===e&&(e=0);var i=this,n="x"==i.paramXY?i.viewWidth:i.viewHeight;t<0?t=0:t>i.maxDistance-n&&(t=i.maxDistance-n),Math.abs(i.view[i.paramXY]+t)>2&&(i.autoScroll=!0,i.isStop=!0,i.isMouseDownState=0,h.Tween.get(i.view).to((r={},r[i.paramXY]=-t,r),e).call((function(){i.view[i.paramXY]=-t,i.autoScroll=!1})),0==i.speed&&i.dispatchEvent(u.Event.SCROLL_START))},e.prototype.destroy=function(){h.Tween.removeTweens(this.view);var e=this;e.maskObj.destroy(),e.view.destroy(),e.maskObj=null,e.view=null,t.prototype.destroy.call(this)},e}(o.default);e.ScrollPage=l},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getBezierEasing=void 0,e.getBezierEasing=function(){var t={};var e="function"==typeof Float32Array;function r(t,e){return 1-3*e+3*t}function i(t,e){return 3*e-6*t}function n(t){return 3*t}function o(t,e,o){return((r(e,o)*t+i(e,o))*t+n(e))*t}function a(t,e,o){return 3*r(e,o)*t*t+2*i(e,o)*t+n(e)}function s(t){this._p=t,this._mSampleValues=e?new Float32Array(11):new Array(11),this._precomputed=!1,this.get=this.get.bind(this)}return s.prototype={get:function(t){var e=this._p[0],r=this._p[1],i=this._p[2],n=this._p[3];return this._precomputed||this._precompute(),e===r&&i===n?t:0===t?0:1===t?1:o(this._getTForX(t),r,n)},_precompute:function(){var t=this._p[0],e=this._p[1],r=this._p[2],i=this._p[3];this._precomputed=!0,t===e&&r===i||this._calcSampleValues()},_calcSampleValues:function(){for(var t=this._p[0],e=this._p[2],r=0;r<11;++r)this._mSampleValues[r]=o(.1*r,t,e)},_getTForX:function(t){for(var e=this._p[0],r=this._p[2],i=this._mSampleValues,n=0,s=1;10!==s&&i[s]<=t;++s)n+=.1;var u=n+.1*((t-i[--s])/(i[s+1]-i[s])),h=a(u,e,r);return h>=.001?function(t,e,r,i){for(var n=0;n<4;++n){var s=a(e,r,i);if(0===s)return e;e-=(o(e,r,i)-t)/s}return e}(t,u,e,r):0===h?u:function(t,e,r,i,n){var a,s,u=0;do{(a=o(s=e+(r-e)/2,i,n)-t)>0?r=s:e=s}while(Math.abs(a)>1e-7&&++u<10);return s}(t,n,n+.1,e,r)}},function(e,r,i,n,o){var a=o||("bez_"+e+"_"+r+"_"+i+"_"+n).replace(/\./g,"p");if(t[a])return t[a];var u=new s([e,r,i,n]);return t[a]=u,u}}()},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.Spine=void 0;var o,a=r(7),s=r(150),u=r(151),h=r(152),l=r(153),c=r(154),f=r(2),d=r(57),p=r(1),v=r(155),_=r(156),y=r(157),g=r(158),m=r(159),x=r(11),b=r(160);!function(t){t.region="region",t.mesh="mesh",t.clipping="clipping",t.linkedmesh="linkedmesh",t.path="path",t.point="point"}(o||(o={}));var T=[0,0,0],E=function(t){function e(e,r,i){void 0===i&&(i=!1);var n=t.call(this)||this;if(n.data=e,n.textures=r,n._instanceType="Spine",n.scaleY=-1,e.bones){n.boneContainer=n.addChild(new a.Container),n.bones=[];for(var o=0;o<e.bones.length;o++){var f=new s.Bone(e.bones[o],i?n.boneContainer:null);if(n.bones.push(f),f.data.parent){var d=n.findBone(f.data.parent);d&&d.addChild(f)}else n.boneContainer.addChild(f)}}if(e.slots){n.slotContainer=n.addChildAt(new a.Container,0),n.slots=[];for(var p=0;p<e.slots.length;p++){var T=e.slots[p];f=n.findBone(T.bone);n.slots.push(n.slotContainer.addChild(new u.Slot(f,T,n)))}n.drawOrder=n.slots.slice()}if(e.skins){n.skins=[];var E=e.skins;for(var O in"[object Array]"===Object.prototype.toString.call(e.skins)&&(E={},e.skins.forEach((function(t){E[t.name]=t.attachments}))),E){var M=E[O],w=new h.Skin(O);for(var S in M){var P=n.findSlotIndex(S);if(-1==P)throw new Error("Slot not found: "+S);var A=M[S];for(var C in A){var D=n.readAttachment(A[C],w,P,C,null);null!=D&&w.addAttachment(P,C,D)}}n.skins.push(w),"default"==w.name&&(n.defaultSkin=w)}}if(e.animations){var R=[];for(var I in e.animations){var L=[],j=0,B=e.animations[I];if(B.bones)for(var N in B.bones){var F=B.bones[N];f=n.findBone(N);for(var k in F){var U=new v.SpineBoneAniTrack(f,k,F[k]);L.push(U),j=Math.max(j,U.times[U.times.length-1].time)}}if(B.slots)for(var V in B.slots){var X=B.slots[V],G=n.findSlotIndex(V),W=n.slots[G];for(var H in X){var Y=X[H],z=Y[Y.length-1].time;"attachment"==H?(L.push(new g.AttachmentAniTrack(W,Y,n)),j=Math.max(j,z||0)):"color"==H&&(L.push(new _.SpineColorAniTrack(W,Y)),j=Math.max(j,z||0))}}if(B.deform)for(var q in B.deform){var Z=B.deform[q],K=n.findSkin(q);for(var S in Z){var Q=Z[S],J=n.findSlotIndex(S);W=n.slots[J];for(var $ in Q){var tt=Q[$],et=K.getAttachment(J,$),rt=new y.SpineDeformAniTrack(W,et,tt);L.push(rt),j=Math.max(j,rt.frameTimes[rt.frameTimes.length-1])}}}var it=B.drawOrder;if(it){var nt=new m.DrawOrderAniTrack(n.slots,n.drawOrder,it.map((function(t){return{time:t.time||0,drawOrder:function(){var e=t.offsets;if(!e)return null;for(var r=n.slots.length,i=x.newArray(r,-1),o=x.newArray(r-e.length,0),a=0,s=0,u=0;u<e.length;u++){for(var h=e[u],l=n.findSlotIndex(h.slot);a!=l;)o[s++]=a++;i[a+h.offset]=a++}for(;a<r;)o[s++]=a++;for(u=r-1;u>=0;u--)-1==i[u]&&(i[u]=o[--s]);return i}()}})));L.push(nt),j=Math.max(j,nt.times[nt.times.length-1].time)}var ot=new b.SpineAniClip(L,j);ot.name=I,R.push(ot)}n.animationManager=new b.SpineAniManager(R)}if(e.slots)for(var at=0;at<n.slots.length;at++){if((W=n.slots[at]).data.attachment){var st=n.defaultSkin.getAttachment(at,W.data.attachment);if(W.setAttachment(st),st instanceof l.RegionAttachment){var ut=st.name,ht=n.createSprite(W,st,ut);W.currentSprite=ht,W.currentSpriteName=ut,W.addChild(ht)}else if(st instanceof c.MeshAttachment){var lt=n.createMesh(W,st);W.currentMesh=lt,W.currentMeshName=st.name,W.addChild(lt)}}}return n}return n(e,t),e.prototype.findBone=function(t){for(var e=this.bones,r=0,i=e.length;r<i;r++){var n=e[r];if(n.name==t)return n}return null},e.prototype.sortBone=function(t){if(!t.sorted){var e=t.parent;e&&this.sortBone(e),t.sorted=!0,this.orderCalculations.push(t)}},e.prototype.findSlot=function(t){for(var e=this.slots,r=0;r<e.length;r++)if(e[r].name==t)return e[r];return null},e.prototype.findSlotIndex=function(t){for(var e=this.slots,r=0;r<e.length;r++)if(e[r].name==t)return r;return-1},e.prototype.findSkin=function(t){for(var e=this.skins,r=0,i=e.length;r<i;r++){var n=e[r];if(n.name==t)return n}return null},e.prototype.getAttachment=function(t,e){var r;if(this.skin&&(r=this.skin.getAttachment(t,e)))return r;if(this.defaultSkin&&(r=this.defaultSkin.getAttachment(t,e)))return r;return null},e.prototype.update=function(){var e=Date.now(),r=this.lastTime?.001*(e-this.lastTime):.01667;this.lastTime=e,this.animationManager.update(r),t.prototype.update.call(this)},e.prototype.updateTransform=function(){this.transform.updateWorldMatrix(this.parent.transform),this._worldAlpha=this.alpha*this.parent._worldAlpha,this.boneContainer&&this.boneContainer.updateTransform(),this.updateSlots(),this.updateDrawOrder(),this.slotContainer.updateTransform()},e.prototype.updateSlots=function(){for(var t=0,e=this.slots.length;t<e;t++){var r=this.slots[t],i=r.attachment;if(i){var n=i.color;if(i instanceof l.RegionAttachment){if(r.currentMesh&&(r.currentMesh.visible=!1,r.currentMesh=null,r.currentMeshName=void 0),!r.currentSpriteName||r.currentSpriteName!==i.name){var o=i.name;if(r.currentSprite&&(r.currentSprite.visible=!1),r.sprites=r.sprites||{},void 0!==r.sprites[o])r.sprites[o].visible=!0;else{var a=this.createSprite(r,i,o);r.addChild(a)}r.currentSprite=r.sprites[o],r.currentSpriteName=o}var s=r.transform;r.bone.matrix.decompose(s),s._localID++,T[0]=r.color.r*n.r,T[1]=r.color.g*n.g,T[2]=r.color.b*n.b,r.currentSprite.tint=p.rgb2hex(T)}else{if(!(i instanceof c.MeshAttachment)){r.visible=!1;continue}r.currentSprite&&(r.currentSprite.visible=!1,r.currentSprite=null,r.currentSpriteName=void 0,(s=new f.Transform)._parentID=-1,s._worldID=r.transform._worldID,r.transform=s);if(!r.currentMeshName||r.currentMeshName!==i.name){var u=i.name;if(r.currentMesh&&(r.currentMesh.visible=!1),r.meshes=r.meshes||{},void 0!==r.meshes[u])r.meshes[u].visible=!0;else{var h=this.createMesh(r,i);r.addChild(h)}r.currentMesh=r.meshes[u],r.currentMeshName=u}i.computeWorldVerticesOld(r,r.currentMesh._vertices,this.bones),r.currentMesh._vertexDirty++,T[0]=r.color.r*n.r,T[1]=r.color.g*n.g,T[2]=r.color.b*n.b,r.currentMesh.tint=p.rgb2hex(T)}r.visible=!0,r.alpha=r.color.a}else r.visible=!1}},e.prototype.updateDrawOrder=function(){for(var t=this.drawOrder,e=0,r=t.length;e<r;e++){var i=this.slots.indexOf(t[e]),n=this.slots[i];this.slotContainer.children[e]=n}},e.prototype.readAttachment=function(t,e,r,i,n){switch(i=t.name||i,t.type||o.region){case o.region:var a=new l.RegionAttachment(i,t.x,t.y,t.scaleX,t.scaleY,t.rotation,t.width,t.height,this.textures[t.path||i]);return t.color&&a.color.setFromString(t.color),a;case"mesh":var s=new c.MeshAttachment(i);s.texture=this.textures[t.path||i];var u=t.uvs;return this.readVertices(t,s,u.length),s.triangles=t.triangles,s.regionUVs=new Float32Array(u),s.hullLength=2*t.hull||0,s}return null},e.prototype.readVertices=function(t,e,r){e.worldVerticesLength=r;var i=t.vertices;if(r!=i.length){for(var n=new Array,o=new Array,a=0,s=i.length;a<s;){var u=i[a++];o.push(u);for(var h=a+4*u;a<h;a+=4)o.push(i[a]),n.push(i[a+1]),n.push(i[a+2]),n.push(i[a+3])}e.bones=o,e.vertices=new Float32Array(n)}else{var l=new Float32Array(i);e.vertices=l}},e.prototype.createSprite=function(t,e,r){var i=new a.Sprite(e.texture);return i.rotation=e.rotation||0,i.anchorTexture.set(.5,.5),i.position.x=e.x,i.position.y=e.y,i.alpha=e.color.a,i.scaleX=e.scaleX*e.width/e.texture.width,i.scaleY=-e.scaleY*e.height/e.texture.height,t.sprites=t.sprites||{},t.sprites[r]=i,i},e.prototype.createMesh=function(t,e){var r=new d.Mesh(e.texture,new Float32Array(e.regionUVs.length),e.regionUVs,new Uint16Array(e.triangles));return r.canvasPadding&&(r.canvasPadding=1.5),r.refresh(!0),r.multiplyUvs(),t.meshes=t.meshes||{},t.meshes[e.name]=r,r},e.prototype.clone=function(){return new e(this.data,this.textures)},e.prototype.setSkin=function(t){var e=this.findSkin(t);e&&this.skin!=e&&(this.addSkin(e)||(e==this.defaultSkin?this.resetSkin():(this.resetSkin(),this.addSkin(e))))},e.prototype.resetSkin=function(){this.skin=this.defaultSkin,this.slots.forEach((function(t){t.setToSetupPose()}))},e.prototype.addSkin=function(t){if(this.skin&&this.skin!=this.defaultSkin)return!1;for(var e=this.slots,r=0,i=e.length;r<i;r++){var n=e[r],o=n.data.attachment;if(o){var a=t.getAttachment(r,o);a&&n.setAttachment(a)}}return this.skin=t,!0},Object.defineProperty(e.prototype,"skinNames",{get:function(){return this.skins&&this.skins.length?this.skins.map((function(t){return t.name})):[]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"aniNames",{get:function(){var t=this.animationManager;return t&&t.animationClips&&t.animationClips.length?t.animationClips.map((function(t){return t.name})):[]},enumerable:!1,configurable:!0}),e}(a.Container);e.Spine=E},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTexturesByAtlas=e.loadAtlas=void 0;var i=r(21),n=r(1),o=r(17),a=r(2);function s(t,e){for(var r={},i=new u(e),n=new Array(4),s=null;;){var h=i.readLine();if(null==h)break;if(0==(h=h.trim()).length);else if(s){var l="true"==i.readValue()?6:0;i.readTuple(n);var c=parseInt(n[0]),f=parseInt(n[1]);i.readTuple(n);var d=parseInt(n[0]),p=parseInt(n[1]);4==i.readTuple(n)&&4==i.readTuple(n)&&i.readTuple(n);var v=parseInt(n[0]),_=parseInt(n[1]);i.readTuple(n);var y=parseInt(n[0]),g=parseInt(n[1]),m=null,x=null,b=new a.Rectangle(0,0,Math.floor(v),Math.floor(_));m=l?new a.Rectangle(Math.floor(c),Math.floor(f),Math.floor(p),Math.floor(d)):new a.Rectangle(Math.floor(c),Math.floor(f),Math.floor(d),Math.floor(p)),(y||g||d!=v||p!=_)&&(x=new a.Rectangle(y,_-p-g,d,p)),r[h]=new o.Texture(t,m,b,x,l),i.readValue()}else{s={},2==i.readTuple(n)&&i.readTuple(n),i.readTuple(n);i.readValue()}}return r}e.loadAtlas=function(t,e,r,a){a=a||t.replace(".atlas",".png"),Promise.all([new Promise((function(e){"tb"==n.getEnv()?i.GlobalLoader.tbLoad((function(t,r){e(t?r:null)}),t,"utf8"):i.GlobalLoader.loadRawWeb((function(t,r){e(t?r:null)}),t,"text")})),new Promise((function(t){i.GlobalLoader.loadImage((function(e,r){t(e?o.BaseTexture.fromImage(r):null)}),a)}))]).then((function(i){if(i[0]&&i[1]){var n=s(i[1],i[0]);e&&e(n)}else r&&r("atlas鍥鹃泦锛�"+t+"鍔犺浇澶辫触")}))},e.createTexturesByAtlas=s;var u=function(){function t(t){this.index=0,this.lines=t.split(/\r\n|\r|\n/)}return t.prototype.readLine=function(){return this.index>=this.lines.length?null:this.lines[this.index++]},t.prototype.readValue=function(){var t=this.readLine(),e=t.indexOf(":");if(-1==e)throw new Error("Invalid line: "+t);return t.substring(e+1).trim()},t.prototype.readTuple=function(t){var e=this.readLine(),r=e.indexOf(":");if(-1==r)throw new Error("Invalid line: "+e);for(var i=0,n=r+1;i<3;i++){var o=e.indexOf(",",n);if(-1==o)break;t[i]=e.substr(n,o-n).trim(),n=o+1}return t[i]=e.substring(n).trim(),i+1},t}()},function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||e.hasOwnProperty(r)||i(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(r(0),e),n(r(7),e),n(r(27),e),n(r(45),e),n(r(52),e),n(r(21),e),n(r(2),e),n(r(57),e),n(r(20),e),n(r(38),e),n(r(135),e),n(r(17),e),n(r(139),e),n(r(1),e),n(r(29),e),n(r(149),e)},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(31),a=r(25),s=r(3),u=r(0),h=function(t){function e(){var e=t.call(this)||this;return e._instanceType="Transform",e.worldMatrix=new a.Matrix,e.localMatrix=new a.Matrix,e._worldID=0,e._parentID=0,e.position=new o.ObservablePoint(e.onChange,e,0,0),e.scale=new o.ObservablePoint(e.onChange,e,1,1),e.anchor=new o.ObservablePoint(e.onChange,e,0,0),e.skew=new o.ObservablePoint(e.updateSkew,e,0,0),e._rotation=0,e._cx=1,e._sx=0,e._cy=0,e._sy=1,e._localID=0,e._currentLocalID=0,e}return n(e,t),e.prototype.onChange=function(){this._localID++},e.prototype.updateSkew=function(){this._cx=u.cos(this._rotation+this.skew._y),this._sx=u.sin(this._rotation+this.skew._y),this._cy=-u.sin(this._rotation-this.skew._x),this._sy=u.cos(this._rotation-this.skew._x),this._localID++},e.prototype.updateLocalMatrix=function(){var t=this.localMatrix;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale._x,t.b=this._sx*this.scale._x,t.c=this._cy*this.scale._y,t.d=this._sy*this.scale._y,t.tx=this.position._x+this.anchor._x-(this.anchor._x*t.a+this.anchor._y*t.c),t.ty=this.position._y+this.anchor._y-(this.anchor._x*t.b+this.anchor._y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},e.prototype.updateWorldMatrix=function(t){var e=this.localMatrix;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale._x,e.b=this._sx*this.scale._x,e.c=this._cy*this.scale._y,e.d=this._sy*this.scale._y,e.tx=this.position._x+this.anchor._x-(this.anchor._x*e.a+this.anchor._y*e.c),e.ty=this.position._y+this.anchor._y-(this.anchor._x*e.b+this.anchor._y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID||-1==t._worldID){var r=t.worldMatrix,i=this.worldMatrix;i.a=e.a*r.a+e.b*r.c,i.b=e.a*r.b+e.b*r.d,i.c=e.c*r.a+e.d*r.c,i.d=e.c*r.b+e.d*r.d,i.tx=e.tx*r.a+e.ty*r.c+r.tx,i.ty=e.tx*r.b+e.ty*r.d+r.ty,-1==t._worldID?this._parentID=t._worldID=0:this._parentID=t._worldID,this._worldID++}},Object.defineProperty(e.prototype,"rotation",{get:function(){return this._rotation},set:function(t){t!==this._rotation&&(this._rotation=t,this.updateSkew())},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){this.worldMatrix=null,this.localMatrix=null,this.position=null,this.skew=null,this.scale=null,this.anchor=null},e}(s.HashObject);e.default=h},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.FloatDisplay=void 0;var o=r(4),a=function(t){function e(){var e=t.call(this)||this;e.htmlElement=null,e._isAdded=!1;var r=e;return r._instanceType="FloatDisplay",r.addEventListener(o.Event.REMOVED_FROM_STAGE,(function(t){r.htmlElement&&(r.htmlElement.style.display="none")})),r.addEventListener(o.Event.ADDED_TO_STAGE,(function(t){if(r.htmlElement){var e=r.htmlElement.style;r._isAdded?r.htmlElement&&r.visible&&(e.display="block"):(r._isAdded=!0,r.stage.rootDiv?r.stage.rootDiv.insertBefore(r.htmlElement,r.stage.rootDiv.childNodes[0]):document.body.appendChild(r.htmlElement))}})),e._transformID=-1,e}return n(e,t),e.prototype.init=function(t){var e,r=this;e="string"==typeof t?document.getElementById(t):"Video"==t._instanceType?t.media:t,r.htmlElement&&r.removeHtmlElement();var i=e.style;i.position="absolute",i.display="none",i.transformOrigin=i.WebkitTransformOrigin="0 0 0";var n=r.getStyle(e,"width"),o=r.getStyle(e,"height"),a=0,s=0;n.indexOf("px")&&(a=parseInt(n)),o.indexOf("px")&&(s=parseInt(o)),r._localBoundsSelf.width=a,r._localBoundsSelf.height=s,r.htmlElement=e,r.stage&&(r._isAdded=!0,r.stage.rootDiv?r.stage.rootDiv.insertBefore(r.htmlElement,r.stage.rootDiv.childNodes[0]):document.body.appendChild(r.htmlElement))},e.prototype.getStyle=function(t,e){if(t.style[e])return t.style[e];if(document.defaultView&&document.defaultView.getComputedStyle){e=(e=e.replace(/([A-Z])/g,"-$1")).toLowerCase();var r=document.defaultView.getComputedStyle(t,"");return r&&r.getPropertyValue(e)}return null},e.prototype.updateStyle=function(){var t=this,e=t.htmlElement;if(e){var r=e.style,i=t.visible;if(t.stage||(i=!1),i)for(var n=t.parent;n;){if(!n.visible){i=!1;break}n=n.parent}var o=i?"block":"none";if(o!=r.display&&(r.display=o),i){if(this._transformID!=this.transform._worldID){this._transformID=this.transform._worldID;var a=t.transform.worldMatrix,s=t.stage._dpi||t.stage.dpi;r.transform=r.webkitTransform="matrix("+(a.a/s).toFixed(4)+","+(a.b/s).toFixed(4)+","+(a.c/s).toFixed(4)+","+(a.d/s).toFixed(4)+","+(a.tx/s).toFixed(4)+","+(a.ty/s).toFixed(4)+")"}r.opacity=t._worldAlpha}}},e.prototype.removeHtmlElement=function(){var t=this,e=t.htmlElement;e&&(e.style.display="none",e.parentNode&&e.parentNode.removeChild(e),t._isAdded=!1,t.htmlElement=null)},e.prototype.renderCanvas=function(){this.updateStyle()},e.prototype.renderWebGL=function(){this.updateStyle()},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.removeHtmlElement()},e}(r(12).DisplayObject);e.FloatDisplay=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mapPremultipliedBlendModes=void 0;var i=r(0);e.mapPremultipliedBlendModes=function(){for(var t=[],e=[],r=0;r<32;r++)t[r]=r,e[r]=r;t[i.BLEND_MODES.NORMAL_NPM]=i.BLEND_MODES.NORMAL,t[i.BLEND_MODES.ADD_NPM]=i.BLEND_MODES.ADD,t[i.BLEND_MODES.SCREEN_NPM]=i.BLEND_MODES.SCREEN,e[i.BLEND_MODES.NORMAL]=i.BLEND_MODES.NORMAL_NPM,e[i.BLEND_MODES.ADD]=i.BLEND_MODES.ADD_NPM,e[i.BLEND_MODES.SCREEN]=i.BLEND_MODES.SCREEN_NPM;var n=[];return n.push(e),n.push(t),n}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,n=r(20),o=r(2),a=r(14),s=null,u=new o.Matrix;e.default=function(t,e,r,o){void 0===e&&(e=null),void 0===r&&(r=null),void 0===o&&(o=0);var h=t.getLocalBounds(),l=e?e.width:h.width,c=e?e.height:h.height,f=e?e.x:h.x,d=e?e.y:h.y;if(s)i.width=l,i.height=c;else{var p=a.createCanvas();p.width=l,p.height=c,i=p,s=new n.CanvasRenderer(p.getContext("2d"),l,c)}return r||(r={type:"png"}),t.transform.updateLocalMatrix(),u.copy(t.transform.localMatrix),u.invert(),u.tx-=f,u.ty-=d,s.render(t,null,u),i.toDataURL("image/"+r.type,r.quality)}},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(0),a=r(3),s=r(35),u=function(t){function e(e){var r=t.call(this)||this;return r._instanceType="CanvasMaskManager",r.renderer=e,r}return n(e,t),e.prototype.pushMask=function(t){var e=this.renderer;e.context.save(),e.context.globalAlpha=0;var r=t.transform.worldMatrix;e.context.setTransform(r.a,r.b,r.c,r.d,r.tx,r.ty),"Shape"==t.instanceType?t._drawShape(e.context):"Graphics"==t.instanceType&&(t.finishPoly(),this.renderGraphicsShape(t)),e.context.clip()},e.prototype.renderGraphicsShape=function(t){var e=this.renderer.context,r=t.graphicsData.length;if(0!==r){e.beginPath();for(var i=0;i<r;i++){var n=t.graphicsData[i],a=n.shape,u=!0;if(n.type===o.SHAPES.POLY){var h=a.points;e.moveTo(h[0],h[1]);for(var l=1;l<h.length/2;l++)e.lineTo(h[2*l],h[2*l+1]);u=!s.judgeCcw(h),h[0]===h[h.length-2]&&h[1]===h[h.length-1]||e.closePath()}else if(n.type===o.SHAPES.RECT)e.rect(a.x,a.y,a.width,a.height);else if(n.type===o.SHAPES.CIRC)e.arc(a.x,a.y,a.radius,0,2*Math.PI);else if(n.type===o.SHAPES.ELIP){var c=2*a.width,f=2*a.height,d=a.x-c/2,p=a.y-f/2,v=c/2*.5522848,_=f/2*.5522848,y=d+c,g=p+f,m=d+c/2,x=p+f/2;e.moveTo(d,x),e.bezierCurveTo(d,x-_,m-v,p,m,p),e.bezierCurveTo(m+v,p,y,x-_,y,x),e.bezierCurveTo(y,x+_,m+v,g,m,g),e.bezierCurveTo(m-v,g,d,x+_,d,x)}else if(n.type===o.SHAPES.RREC){var b=a.x,T=a.y,E=a.width,O=a.height,M=a.radius,w=Math.min(E,O)/2|0;M=M>w?w:M,e.moveTo(b,T+M),e.quadraticCurveTo(b,T,b+M,T),e.lineTo(b+E-M,T),e.quadraticCurveTo(b+E,T,b+E,T+M),e.lineTo(b+E,T+O-M),e.quadraticCurveTo(b+E,T+O,b+E-M,T+O),e.lineTo(b+M,T+O),e.quadraticCurveTo(b,T+O,b,T+O-M),e.lineTo(b,T+M)}for(l=0;l<n.holes.length;l++)s.holePath(n.holes[i],e,u)}}},e.prototype.popMask=function(t){t.context.restore()},e.prototype.destroy=function(){},e}(a.HashObject);e.default=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(0),n=r(2),o=r(1),a=new n.Matrix,s=function(){function t(t){this.renderer=t}return t.prototype.render=function(t){var e=t._texture,r=this.renderer,s=e._frame.width,u=e._frame.height,h=t.transform.worldMatrix,l=0,c=0;if(!(e.orig.width<=0||e.orig.height<=0)&&e.baseTexture.source&&e.valid){r.setBlendMode(t.blendMode),r.context.globalAlpha=t._worldAlpha,t._anchorTexture?(e.trim?(l=e.trim.width/2+e.trim.x-t._anchorTexture.x*e.orig.width,c=e.trim.height/2+e.trim.y-t._anchorTexture.y*e.orig.height):(l=(.5-t._anchorTexture.x)*e.orig.width,c=(.5-t._anchorTexture.y)*e.orig.height),e.rotate&&(a.copy(h),h=a,n.GroupD8.matrixAppendRotationInv(h,e.rotate,l,c),l=0,c=0),l-=s/2,c-=u/2):(l=t.offsetX||0,c=t.offsetY||0),r.context.setTransform(h.a,h.b,h.c,h.d,h.tx,h.ty);var f=r._outerBlend;f&&(r.context.save(),r.context.beginPath(),r.context.rect(l,c,s,u),r.context.clip()),16777215!==t.tint?(t.cachedTint===t.tint&&t.tintedTexture.tintId===t._texture._updateID||(t.cachedTint=t.tint,t.tintedTexture=o.getTintedTexture(t._texture,t.tint)),r.context.drawImage(t.tintedTexture,0,0,s,u,l,c,s,u)):r.context.drawImage(e.baseTexture.source,e._frame.x,e._frame.y,s,u,l,c,s,u),f&&r.context.restore(),r.setBlendMode(i.BLEND_MODES.NORMAL)}},t.prototype.destroy=function(){this.renderer=null},t}();e.default=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(1),n=function(){function t(t,e){this.canvas=i.createCanvas(),this.resize(t,e),this.context=this.canvas.getContext("2d"),this.resize(t,e),this.clear()}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(t,e){this.canvas.width=t,this.canvas.height=e},t.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=t},enumerable:!1,configurable:!0}),t}();e.default=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasMeshRenderer=void 0;var i=function(){function t(t){this.renderer=t}return t.prototype.render=function(t){var e=this.renderer,r=e.context,i=t.worldMatrix;r.setTransform(i.a,i.b,i.c,i.d,i.tx,i.ty),e.context.globalAlpha=t._worldAlpha,e.setBlendMode(t.blendMode),this._renderTriangles(t)},t.prototype._renderTriangles=function(t){for(var e=t._indices,r=e.length,i=0;i<r;i+=3){var n=2*e[i],o=2*e[i+1],a=2*e[i+2];this._renderDrawTriangle(t,n,o,a)}},t.prototype._renderDrawTriangle=function(t,e,r,i){var n=this.renderer.context,o=t._uvs,a=t._vertices,s=t.texture;if(s.valid){var u=s.baseTexture,h=u.source,l=u.width,c=u.height,f=o[e]*u.width,d=o[r]*u.width,p=o[i]*u.width,v=o[e+1]*u.height,_=o[r+1]*u.height,y=o[i+1]*u.height,g=a[e],m=a[r],x=a[i],b=a[e+1],T=a[r+1],E=a[i+1],O=t.canvasPadding;if(O>0){var M=O/Math.abs(t.worldMatrix.a),w=O/Math.abs(t.worldMatrix.d),S=(g+m+x)/3,P=(b+T+E)/3,A=g-S,C=b-P,D=Math.sqrt(A*A+C*C);g=S+A/D*(D+M),b=P+C/D*(D+w),C=T-P,m=S+(A=m-S)/(D=Math.sqrt(A*A+C*C))*(D+M),T=P+C/D*(D+w),C=E-P,x=S+(A=x-S)/(D=Math.sqrt(A*A+C*C))*(D+M),E=P+C/D*(D+w)}n.save(),n.beginPath(),n.moveTo(g,b),n.lineTo(m,T),n.lineTo(x,E),n.closePath(),n.clip();var R=f*_+v*p+d*y-_*p-v*d-f*y,I=g*_+v*x+m*y-_*x-v*m-g*y,L=f*m+g*p+d*x-m*p-g*d-f*x,j=f*_*x+v*m*p+g*d*y-g*_*p-v*d*x-f*m*y,B=b*_+v*E+T*y-_*E-v*T-b*y,N=f*T+b*p+d*E-T*p-b*d-f*E,F=f*_*E+v*T*p+b*d*y-b*_*p-v*d*E-f*T*y;n.transform(I/R,B/R,L/R,N/R,j/R,F/R),n.drawImage(h,0,0,l,c,0,0,l,c),n.restore()}},t.prototype.destroy=function(){this.renderer=null},t}();e.CanvasMeshRenderer=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return void 0===e&&(e=window.location),0===t.indexOf("data:")?"":"anonymous"}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getTintedTexture=void 0;var i,n=r(37),o=r(14),a=n.canUseNewCanvasBlendModes()?function(t,e,r){var i=r.getContext("2d"),n=t._frame.clone();r.width=Math.ceil(n.width),r.height=Math.ceil(n.height),i.save(),i.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),i.fillRect(0,0,n.width,n.height),i.globalCompositeOperation="multiply",i.drawImage(t.baseTexture.source,n.x,n.y,n.width,n.height,0,0,n.width,n.height),i.globalCompositeOperation="destination-atop",i.drawImage(t.baseTexture.source,n.x,n.y,n.width,n.height,0,0,n.width,n.height),i.restore()}:function(t,e,r){var i=r.getContext("2d"),n=t._frame.clone();r.width=Math.ceil(n.width),r.height=Math.ceil(n.height),i.save(),i.globalCompositeOperation="copy",i.drawImage(t.baseTexture.source,n.x,n.y,n.width,n.height,0,0,n.width,n.height),i.restore();for(var o=s(e),a=o[0],u=o[1],h=o[2],l=i.getImageData(0,0,n.width,n.height),c=l.data,f=0;f<c.length;f+=4)c[f+0]*=a,c[f+1]*=u,c[f+2]*=h;i.putImageData(l,0,0)};function s(t,e){return(e=e||[])[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e}e.getTintedTexture=function(t,e){var r="#"+("00000"+(0|(e=function(t){var e=s(t);return e[0]=Math.min(255,e[0]/8*8),e[1]=Math.min(255,e[1]/8*8),e[2]=Math.min(255,e[2]/8*8),function(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)}(e)}(e))).toString(16)).substr(-6);t.tintCache=t.tintCache||{};var n,u=t.tintCache[r];if(u){if(u.tintId===t._updateID)return t.tintCache[r];n=t.tintCache[r]}else n=i||o.createCanvas();return a(t,e,n),n.tintId=t._updateID,t.tintCache[r]=n,i=null,n}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mapWebGLBlendModes=void 0;var i=r(0);e.mapWebGLBlendModes=function(t,e){return void 0===e&&(e=[]),e[i.BLEND_MODES.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.ADD]=[t.ONE,t.DST_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.NONE]=[0,0],e[i.BLEND_MODES.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.ADD_NPM]=[t.SRC_ALPHA,t.DST_ALPHA,t.ONE,t.DST_ALPHA],e[i.BLEND_MODES.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_COLOR],e[i.BLEND_MODES.SRC_OVER]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[i.BLEND_MODES.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[i.BLEND_MODES.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[i.BLEND_MODES.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[i.BLEND_MODES.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[i.BLEND_MODES.ERASE]=[t.ZERO,t.ONE,t.SRC_ALPHA,0],e[i.BLEND_MODES.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mapCanvasBlendModes=void 0;var i=r(0),n=r(37);e.mapCanvasBlendModes=function(t){return void 0===t&&(t=[]),n.canUseNewCanvasBlendModes()?(t[i.BLEND_MODES.NORMAL]="source-over",t[i.BLEND_MODES.ADD]="lighter",t[i.BLEND_MODES.MULTIPLY]="multiply",t[i.BLEND_MODES.SCREEN]="screen",t[i.BLEND_MODES.OVERLAY]="overlay",t[i.BLEND_MODES.DARKEN]="darken",t[i.BLEND_MODES.LIGHTEN]="lighten",t[i.BLEND_MODES.COLOR_DODGE]="color-dodge",t[i.BLEND_MODES.COLOR_BURN]="color-burn",t[i.BLEND_MODES.HARD_LIGHT]="hard-light",t[i.BLEND_MODES.SOFT_LIGHT]="soft-light",t[i.BLEND_MODES.DIFFERENCE]="difference",t[i.BLEND_MODES.EXCLUSION]="exclusion",t[i.BLEND_MODES.HUE]="hue",t[i.BLEND_MODES.SATURATION]="saturate",t[i.BLEND_MODES.COLOR]="color",t[i.BLEND_MODES.LUMINOSITY]="luminosity"):(t[i.BLEND_MODES.NORMAL]="source-over",t[i.BLEND_MODES.ADD]="lighter",t[i.BLEND_MODES.MULTIPLY]="source-over",t[i.BLEND_MODES.SCREEN]="source-over",t[i.BLEND_MODES.OVERLAY]="source-over",t[i.BLEND_MODES.DARKEN]="source-over",t[i.BLEND_MODES.LIGHTEN]="source-over",t[i.BLEND_MODES.COLOR_DODGE]="source-over",t[i.BLEND_MODES.COLOR_BURN]="source-over",t[i.BLEND_MODES.HARD_LIGHT]="source-over",t[i.BLEND_MODES.SOFT_LIGHT]="source-over",t[i.BLEND_MODES.DIFFERENCE]="source-over",t[i.BLEND_MODES.EXCLUSION]="source-over",t[i.BLEND_MODES.HUE]="source-over",t[i.BLEND_MODES.SATURATION]="source-over",t[i.BLEND_MODES.COLOR]="source-over",t[i.BLEND_MODES.LUMINOSITY]="source-over"),t[i.BLEND_MODES.NORMAL_NPM]=t[i.BLEND_MODES.NORMAL],t[i.BLEND_MODES.ADD_NPM]=t[i.BLEND_MODES.ADD],t[i.BLEND_MODES.SCREEN_NPM]=t[i.BLEND_MODES.SCREEN],t[i.BLEND_MODES.SRC_OVER]="source-over",t[i.BLEND_MODES.SRC_IN]="source-in",t[i.BLEND_MODES.SRC_OUT]="source-out",t[i.BLEND_MODES.SRC_ATOP]="source-atop",t[i.BLEND_MODES.DST_OVER]="destination-over",t[i.BLEND_MODES.DST_IN]="destination-in",t[i.BLEND_MODES.DST_OUT]="destination-out",t[i.BLEND_MODES.DST_ATOP]="destination-atop",t[i.BLEND_MODES.SUBTRACT]="source-over",t}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DrawAllToCanvas=void 0;var i=r(5),n=r(2),o=r(34),a=r(15),s=r(14);function u(t,e){var r=[],u=[],l=s.createCanvas();l.width=4096,l.height=4096,r.push(new n.Rectangle(0,0,4096,4096));for(var c=0,f=0,d=!1,p=t.length-1;p>=0;p--){var v=t[p];d=!1;for(var _=r.length-1;_>=0;_--){var y=r[_];if(y.width>=v.width+2&&y.height>=v.height+2){d=!0;var g=new h(v,y.x,y.y);u.push(g),t.splice(p,1),r.splice(_,1);var m=y.width-v.width-2;if(m>0){var x=new n.Rectangle(y.x+v.width+2,y.y,m,v.height+2);0==y.y?r.unshift(x):r.push(x)}var b=y.height-v.height-2;if(b>0){var T=new n.Rectangle(y.x,y.y+v.height+2,y.width,b);0==y.x?r.unshift(T):r.push(T)}g.image.width+g.x>c&&(c=g.image.width+g.x),g.image.height+g.y>f&&(f=g.image.height+g.y);break}}if(!d)break}l.width=o.nextPow2(c+2),l.height=o.nextPow2(f+2);for(var E=l.getContext("2d"),O=0;O<u.length;O++){var M=u[O],w=M.image;E.drawImage(M.image,0,0,w.width,w.height,M.x,M.y,w.width,w.height)}for(var S=new a.default(l),P=0;P<u.length;P++){var A=u[P];e[(w=A.image).imageKey]=new i.default(S,new n.Rectangle(A.x,A.y,w.width,w.height),new n.Rectangle(0,0,w.width,w.height),null)}}e.DrawAllToCanvas=function(t,e){var r={},i=[],n=Object.getOwnPropertyNames(t).length;!function(t,e){var r,i=function(){if("string"==typeof(r=t[n])){var i=new Image;0===r.indexOf("iVBO")||0===r.indexOf("/9j/2w")?i.src="data:image/png;base64,"+r:i.src=r,i.imageKey=n,i.onload=function(){e(i)}}else r instanceof HTMLImageElement?(r.imageKey=n,r.complete&&r.width&&r.height?e(r):r.onload=function(){e(r)}):r instanceof HTMLCanvasElement&&e(r)};for(var n in t)i()}(t,(function(t){if(i.push(t),i.length==n){for(i.sort((o="width",a="height",function(t,e){var r=t[o],i=e[o];if(r===i){var n=t[a],s=e[a];return n===s?0:n>s?1:-1}return r>i?1:-1}));i.length;)u(i,r);e(r)}var o,a}))};var h=function(t,e,r){void 0===e&&(e=0),void 0===r&&(r=0),this.image=t,this.x=e,this.y=r}},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalLoader=e.Loader=void 0;var o=r(9),a=r(1),s=function(t){function r(){var e=t.call(this)||this;return e.caches={},e._instanceType="Loader",e}return n(r,t),r.prototype.loadSheet=function(t,e){var r=this,i=e.substring(0,e.lastIndexOf("."))+".png";this.loadImage((function(n,o){n?(r.cache(i,o),r.caches[e]&&(t(!0,{json:r.caches[e],img:o}),r.caches[e]=null,r.caches[i]=null)):t(!1)}),i),this.loadJson((function(n,o){n?(r.cache(e,o),r.caches[i]&&(t(!0,{json:o,img:r.caches[i]}),r.caches[e]=null,r.caches[i]=null)):t(!1)}),e)},r.prototype.loadJson=function(t,e){"tb"!=a.getEnv()?this.loadRawWeb(t,e,"json"):this.tbLoad((function(e,r){t(e,e?JSON.parse(r):r)}),e,"utf8")},r.prototype.loadAB=function(t,r){"tb"==a.getEnv()?e.GlobalLoader.tbLoad(t,r,"ArrayBuffer"):e.GlobalLoader.loadRawWeb(t,r,"arraybuffer")},r.prototype.loadRawWeb=function(t,e,r){var i;void 0===r&&(r="json"),window.XMLHttpRequest?i=new XMLHttpRequest:window.ActiveXObject?i=new window.ActiveXObject:alert("璇峰崌绾ц嚦鏈€鏂扮増鏈殑娴忚鍣�"),null!=i&&(i.open("GET",e,!0),i.responseType=r,i.send(),i.onreadystatechange=function(){4==i.readyState&&200==i.status&&t(!0,i.response)},i.onerror=function(e){t(!1,e)})},r.prototype.loadImage=function(t,e){var r=a.createImage();r.onload=function(){t(!0,r)},r.onerror=function(){t(!1)},0!==(e=encodeURI(e)).indexOf("data:")&&(r.crossOrigin="anonymous"),r.src=e},r.prototype.loadAudio=function(t,e){var r=my.createInnerAudioContext();r.src=e,r.onCanplay((function(){t(!0,r)})),r.onError((function(e){t(!1)}))},r.prototype.tbLoad=function(t,e,r){var i=this;void 0===r&&(r="ArrayBuffer"),0==e.indexOf("cloud://")?this.getTbTempUrl((function(e){i.downloadReadFile(t,e,r)}),e):this.downloadReadFile(t,e,r)},r.prototype.getTbTempUrl=function(t,e){getApp().cloud.file.getTempFileURL({fileId:[e]}).then((function(e){t(e[0].url.replace("-internal",""))})).catch((function(t){console.error(t)}))},r.prototype.downloadReadFile=function(t,e,r){void 0===r&&(r="ArrayBuffer");var i=my;i.downloadFile({url:e,success:function(e){var n=e.apFilePath;i.getFileSystemManager().readFile({filePath:n,encoding:"ArrayBuffer"===r?"":r,success:function(e){t(!0,e.data)},fail:function(e){t(!1,e)}})},fail:function(e){t(!1,e)}})},r.prototype.cache=function(t,e){this.caches[t]&&console.log("瑕嗙洊鍘熷厛鏁版嵁锛�"+t),this.caches[t]=e},r}(o.EventDispatcher);e.Loader=s,e.GlobalLoader=new s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(33),n=function(){function t(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsUint32=new Uint32Array(4),this.uvsFloat32=new Float32Array(8)}return t.prototype.set=function(t,e,r){var n=e.width,o=e.height;if(r){var a=t.width/2/n,s=t.height/2/o,u=t.x/n+a,h=t.y/o+s;r=i.default.add(r,i.default.NW),this.x0=u+a*i.default.uX(r),this.y0=h+s*i.default.uY(r),r=i.default.add(r,2),this.x1=u+a*i.default.uX(r),this.y1=h+s*i.default.uY(r),r=i.default.add(r,2),this.x2=u+a*i.default.uX(r),this.y2=h+s*i.default.uY(r),r=i.default.add(r,2),this.x3=u+a*i.default.uX(r),this.y3=h+s*i.default.uY(r)}else this.x0=t.x/n,this.y0=t.y/o,this.x1=(t.x+t.width)/n,this.y1=t.y/o,this.x2=(t.x+t.width)/n,this.y2=(t.y+t.height)/o,this.x3=t.x/n,this.y3=(t.y+t.height)/o;this.uvsUint32[0]=(65535*this.y0&65535)<<16|65535*this.x0&65535,this.uvsUint32[1]=(65535*this.y1&65535)<<16|65535*this.x1&65535,this.uvsUint32[2]=(65535*this.y2&65535)<<16|65535*this.x2&65535,this.uvsUint32[3]=(65535*this.y3&65535)<<16|65535*this.x3&65535,this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},t}();e.default=n},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.Stage=void 0;var o=r(8),a=r(0),s=r(2),u=r(9),h=r(4),l=r(12),c=r(22),f=r(38),d=r(20),p=r(1),v=function(t){function e(r,i,n,o,u,l,c,v){void 0===i&&(i=750),void 0===n&&(n=1624),void 0===l&&(l=a.RENDERER_TYPE.CANVAS),void 0===c&&(c=!1),void 0===v&&(v=!1);var _=t.call(this)||this;_.renderObj=null,_.viewRect=new s.Rectangle,_.desWidth=0,_.desHeight=0,_.divHeight=0,_.divWidth=0,_._bgColor=0,_._lastDpList={},_.canvasOffsetTb={x:0,y:0},_._ml=[],_._mp=[],_._mouseDownPoint={},_._mouseEventTypes={mousedown:"onMouseDown",mousemove:"onMouseMove",mouseup:"onMouseUp",touchstart:"onMouseDown",touchmove:"onMouseMove",touchend:"onMouseUp",touchStart:"onMouseDown",touchMove:"onMouseMove",touchEnd:"onMouseUp"},_.canvas=r;var y=_;if(_._instanceType="Stage",e._stageList.canvas=y,y.stage=_,y.name="stageInstance_"+y.instanceId,y.desWidth=i,y.desHeight=n,y.divWidth=o,y.divHeight=u,console.log("%cfyge鐗堟湰锛�"+a.VERSION,"text-shadow: 0 1px 0 #ccc,0 2px 0 #c9c9c9,0 3px 0 #bbb,0 4px 0 #b9b9b9,0 5px 0 #aaa,0 6px 1px rgba(0,0,0,.1),0 0 5px rgba(0,0,0,.1),0 1px 3px rgba(0,0,0,.3),0 3px 5px rgba(0,0,0,.2),0 5px 10px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.2),0 20px 20px rgba(0,0,0,.15);font-size:3em"),l!=a.RENDERER_TYPE.WEBGL||p.isWebGLSupported()||(l=a.RENDERER_TYPE.CANVAS,console.warn("涓嶆敮鎸亀ebgl")),l==a.RENDERER_TYPE.CANVAS){var g=r.getContext("2d");y.renderObj=new d.CanvasRenderer(g,r.width,r.height)}else{var m={alpha:!0,antialias:!1,premultipliedAlpha:!0,stencil:!0};g=r.getContext("webgl",m)||r.getContext("experimental-webgl",m);y.renderObj=new f.WebglRenderer(g,r.width,r.height),"web"==p.getEnv()&&(r.addEventListener("webglcontextlost",y.renderObj.handleContextLost.bind(y.renderObj),!1),r.addEventListener("webglcontextrestored",y.renderObj.handleContextRestored.bind(y.renderObj),!1))}return y._dpi=r.width/o,y._stageCenter=c,y._scaleMode=v?"fixedHeight":"fixedWidth",y._setAlign(),setTimeout((function(){y.dispatchEvent(h.Event.INIT_STAGE)}),100),_}return n(e,t),e.getStage=function(t){return void 0===t&&(t="cusEngine"),e._stageList[t]},Object.defineProperty(e.prototype,"bgColor",{get:function(){return this._bgColor},set:function(t){this._bgColor!==t&&(this._bgColor=t,this.renderObj.backgroundColor=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stageWidth",{get:function(){return this.viewRect.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stageHeight",{get:function(){return this.viewRect.height},enumerable:!1,configurable:!0}),e.prototype._setAlign=function(){var t=this,e=t.canvas;t._stageCenter&&(t.anchorX=t.desWidth>>1,t.anchorY=t.desHeight>>1,t.x=e.width-t.desWidth>>1,t.y=e.height-t.desHeight>>1);var r="fixedHeight"==t._scaleMode?e.height/t.desHeight:e.width/t.desWidth;t.scaleX=r,t.scaleY=r,t.viewRect=t.viewRect||new s.Rectangle,t.viewRect.x=t.desWidth-e.width/r>>1,t.viewRect.y=t.desHeight-e.height/r>>1,t.viewRect.width=t.desWidth-2*t.viewRect.x,t.viewRect.height=t.desHeight-2*t.viewRect.y,t._stageCenter||(t.viewRect.x=t.viewRect.y=0)},e.prototype.resize=function(t,e){if("web"==p.getEnv()&&(t=t||document.body.clientWidth,e=e||document.body.clientHeight),t&&t){var r=this,i=r._dpi,n=r.canvas;t==r.divWidth&&e==r.divHeight||(t!=r.divWidth&&(n.width=t*i),e!=r.divHeight&&(n.height=e*i),r.divWidth=t,r.divHeight=e,r._setAlign(),r.renderObj.resize(n.width,n.height),r.dispatchEvent(h.Event.RESIZE))}else console.error("浼犲叆鐨勬樉绀哄昂瀵镐笉鑳戒负绌�")},e.prototype._initMouseEvent=function(t,e,r,i){t._pd=!1,t.clientX=e.x,t.clientY=e.y,t.stageX=r.x,t.stageY=r.y,t.identifier=i},e.prototype.flush=function(){this.renderObj.render(this)},e.prototype.onMouseEvent=function(t){"web"==p.getEnv()&&t.preventDefault();var e=this;if(u.EventDispatcher._totalMEC>0){var r,i=void 0,n=e._mouseEventTypes[t.type],o=void 0,h=void 0,f=void 0,d=void 0,v=void 0,_=void 0;"pc"==a.osType?(t.identifier=0,i=[t]):i=[t.changedTouches[0]];var y=e.canvasOffsetTb,g=y.x,m=y.y;if("web"==p.getEnv()){var x=document.documentElement,b=e.canvas.getBoundingClientRect();g=b.left+window.pageXOffset-x.clientLeft,m=b.top+window.pageYOffset-x.clientTop}for(var T=0;T<i.length;T++)if(i[T]&&(v=0,o=[],_="m"+i[T].identifier,(d=e._mp.length>0?e._mp.shift():new s.Point).x=((i[T].pageX||i[T].x||i[T].b)-g)*e._dpi,d.y=((i[T].pageY||i[T].y||i[T].c)-m)*e._dpi,h=e.globalToLocal(d,l.DisplayObject._bp),u.EventDispatcher.getMouseEventCount()>0&&(e._ml[v]?(r=e._ml[v]).type=n:(r=new c.MouseEvent(n),e._ml[v]=r),o[o.length]=r,e._initMouseEvent(r,d,h,_),v++),"onMouseDown"==n?e._mouseDownPoint[_]=d:"onMouseUp"==n&&e._mouseDownPoint[_]&&s.Point.distance(e._mouseDownPoint[_],d)<20&&u.EventDispatcher.getMouseEventCount("onMouseClick")>0&&(e._ml[v]?(r=e._ml[v]).type="onMouseClick":(r=new c.MouseEvent("onMouseClick"),e._ml[v]=r),o[o.length]=r,e._initMouseEvent(r,d,h,_),v++),v>0)){var E=e.hitTestPoint(d,!0),O=[];if(E)for(;E;)!1===E.mouseChildren&&(O.length=0),O[O.length]=E,E=E.parent;else O[O.length]=e;for(var M=O.length,w=M-1;w>=0;w--){E=O[w];for(var S=0;S<v;S++)o[S]._pd||E.hasEventListener(o[S].type)&&E.mouseEnable&&(o[S].target=E,o[S].currentTarget=O[0],f=E.globalToLocal(d,l.DisplayObject._bp),o[S].localX=f.x,o[S].localY=f.y,E.dispatchEvent(o[S]))}O.reverse();for(w=M-1;w>=0;w--){E=O[w];for(S=0;S<v;S++)o[S]._pd||E.hasEventListener(o[S].type,!1)&&E.mouseEnable&&(o[S].target=E,o[S].currentTarget=O[v-1],f=E.globalToLocal(d,l.DisplayObject._bp),o[S].localX=f.x,o[S].localY=f.y,E.dispatchEvent(o[S],null,!1))}if("onMouseDown"!=n){if((u.EventDispatcher.getMouseEventCount("onMouseOver")>0||u.EventDispatcher.getMouseEventCount("onMouseOut")>0)&&e._lastDpList[_]){var P=e._lastDpList[_].length,A=O.length;M=P>A?P:A;var C=!1,D=void 0,R=void 0;for(w=1;w<M;w++)C||e._lastDpList[_][w]!=O[w]&&(C=!0,e._ml[v]?(D=e._ml[v]).type="onMouseOver":(D=new c.MouseEvent("onMouseOver"),e._ml[v]=D),e._initMouseEvent(D,d,h,_),v++,e._ml[v]?(R=e._ml[v]).type="onMouseOut":(R=new c.MouseEvent("onMouseOut"),e._ml[v]=R),e._initMouseEvent(R,d,h,_)),C&&(e._lastDpList[_][w]&&(R._pd||(E=e._lastDpList[_][w]).hasEventListener("onMouseOut")&&(R.currentTarget=e._lastDpList[_][P-1],R.target=E,f=E.globalToLocal(d,l.DisplayObject._bp),R.localX=f.x,R.localY=f.y,E.dispatchEvent(R))),O[w]&&(D._pd||(E=O[w]).hasEventListener("onMouseOver")&&(D.currentTarget=O[A-1],D.target=E,f=E.globalToLocal(d,l.DisplayObject._bp),D.localX=f.x,D.localY=f.y,E.dispatchEvent(D))))}e._mp[e._mp.length]=d}"onMouseUp"==n?(delete e._mouseDownPoint[_],delete e._lastDpList[_]):e._lastDpList[_]=O}}},e.prototype.getBounds=function(){return this.viewRect},e.prototype.destroy=function(){var e=this;e.renderObj.destroy(),e.renderObj=null,e.viewRect=null,e._lastDpList=null,e._ml=null,t.prototype.destroy.call(this)},e._stageList={},e}(o.default);e.Stage=v},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(82),a=r(0),s=r(39),u=r(40),h=r(83),l=r(84),c=r(10),f=r(1),d=0,p=function(t){function e(e){var r=t.call(this,e)||this;r.vertSize=6,r.vertByteSize=4*r.vertSize,r.size=8e3,r.currentSize=0,r.currentIndexSize=0,r.aBuffers={},r.iBuffers={},r.shader=null,r.currentIndex=0,r.groups=[];for(var i=0;i<r.size/4;i++)r.groups[i]=new o.default;return r.elements=[],r.vertexBuffers=[],r.indexBuffers=[],r.vaos=[],r.vaoMax=2,r.vertexCount=0,r.renderer.addEventListener("onPreRender",r.onPreRender,r),r}return n(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),16),this.MAX_TEXTURES=u.checkMaxIfStatementsInShader(this.MAX_TEXTURES,t),this.shader=l.generateMultiTextureShader(t,this.MAX_TEXTURES),this.renderer.bindVao(null);for(var e=this.shader.attributes,r=0;r<this.vaoMax;r++){var i=this.vertexBuffers[r]=c.GLBuffer.createVertexBuffer(t,null,t.STREAM_DRAW),n=this.indexBuffers[r]=c.GLBuffer.createIndexBuffer(t,null,t.STREAM_DRAW),o=this.renderer.createVao().addIndex(n).addAttribute(i,e.aVertexPosition,t.FLOAT,!1,this.vertByteSize,0).addAttribute(i,e.aTextureCoord,t.FLOAT,!0,this.vertByteSize,8).addAttribute(i,e.aColor,t.UNSIGNED_BYTE,!0,this.vertByteSize,16).addAttribute(i,e.aTextureId,t.FLOAT,!1,this.vertByteSize,20);this.vaos[r]=o}},e.prototype.onPreRender=function(){this.vertexCount=0},e.prototype.render=function(t){t._texture&&t._texture.valid&&(this.currentSize+t._vertexData.length/2>this.size&&this.flush(),this.elements[this.currentIndex++]=t,this.currentSize+=t._vertexData.length/2,this.currentIndexSize+=t._indices.length)},e.prototype.getIndexBuffer=function(t){var e=f.nextPow2(Math.ceil(t/12)),r=f.log2(e),i=12*e,n=this.iBuffers[r];return n||(this.iBuffers[r]=n=new Uint16Array(i)),n},e.prototype.getAttributeBuffer=function(t){var e=f.nextPow2(Math.ceil(t/8)),r=(f.log2(e),8*e),i=this.aBuffers[r];return i||(this.aBuffers[r]=i=new h.BatchBuffer(r*this.vertByteSize)),i},e.prototype.flush=function(){if(0!==this.currentSize){var t,e,r,i=this.renderer.gl,n=this.MAX_TEXTURES,o=this.getAttributeBuffer(this.currentSize),s=this.getIndexBuffer(this.currentIndexSize),u=this.elements,h=this.groups,l=o.float32View,c=o.uint32View,p=this.renderer.textureGC.count,v=0,_=0,y=1,g=0,m=h[0],x=f.premultiplyBlendMode[u[0]._texture.baseTexture.premultipliedAlpha?1:0][u[0]._blendMode];for(m.textureCount=0,m.start=0,d++,r=0;r<this.currentIndex;++r){var b=u[r];u[r]=null,t=b._texture.baseTexture;var T=f.premultiplyBlendMode[t.premultipliedAlpha?1:0][b._blendMode];x!==T&&(x=T,e=null,g=n,d++),e!==t&&(e=t,t._enabledId!==d&&(g===n&&(d++,g=0,m.size=_-m.start,(m=h[y++]).textureCount=0,m.blend=x,m.start=_),t._touchedId=p,t._enabledId=d,t._id=g,m.textures[m.textureCount++]=t,g++)),this.packGeometry(b,l,c,s,v,_),v+=b._vertexData.length/2*this.vertSize,_+=b._indices.length}m.size=_-m.start,a.osType,this.vertexBuffers[this.vertexCount].upload(o.vertices,0,!0),this.indexBuffers[this.vertexCount].upload(s,0,!0);var E=this.renderer.textureManager;for(r=0;r<y;r++){for(var O=h[r],M=O.textureCount,w=0;w<M;w++)O.textures[w]!=E.boundTextures[w]&&E.bindTexture(O.textures[w],w,!0),O.textures[w]=null;this.renderer.setBlendMode(O.blend),i.drawElements(O.type,O.size,i.UNSIGNED_SHORT,2*O.start)}this.currentIndex=0,this.currentSize=0,this.currentIndexSize=0}},e.prototype.packGeometry=function(t,e,r,i,n,o){for(var a=n/this.vertSize,s=t._uvs,u=t._indices,h=t._vertexData,l=t._texture.baseTexture._id,c=null==t._tintRGB?16777215:t._tintRGB,d=Math.min(t._worldAlpha,1),p=d<1&&t._texture.baseTexture.premultipliedAlpha?f.premultiplyTint(c,d):c+(255*d<<24),v=0;v<h.length;v+=2)e[n++]=h[v],e[n++]=h[v+1],e[n++]=s[v],e[n++]=s[v+1],r[n++]=p,e[n++]=l;for(v=0;v<u.length;v++)i[o++]=a+u[v]},e.prototype.start=function(){this.renderer.bindShader(this.shader),this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind(),this.indexBuffers[this.vertexCount].bind()},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var e=0;e<this.vaoMax;e++)this.vaos[e]&&this.vaos[e].destroy();this.renderer.removeEventListener("onPreRender",this.onPreRender,this),this.shader&&(this.shader.destroy(),this.shader=null),this.vaos=null,t.prototype.destroy.call(this)},e}(s.default);e.default=p},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(0),n=function(){this.textures=[],this.blend=0,this.textureCount=0,this.start=0,this.size=0,this.type=i.DRAW_MODES.TRIANGLES};e.default=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BatchBuffer=void 0;var i=function(){function t(t){this.vertices=new ArrayBuffer(t),this.float32View=new Float32Array(this.vertices),this.uint32View=new Uint32Array(this.vertices)}return t.prototype.destroy=function(){this.vertices=null,this.positions=null,this.uvs=null,this.colors=null},t}();e.BatchBuffer=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateMultiTextureShader=void 0;var i=r(10),n=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureId;","uniform sampler2D uSamplers[%count%];","void main(void){","vec4 color;","float textureId = floor(vTextureId+0.5);","%forloop%","gl_FragColor = color * vColor;","}"].join("\n");e.generateMultiTextureShader=function(t,e){var r=n;r=(r=r.replace(/%count%/gi,e)).replace(/%forloop%/gi,function(t){var e="";e+="\n",e+="\n";for(var r=0;r<t;r++)r>0&&(e+="\nelse "),r<t-1&&(e+="if(textureId == "+r+".0)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+r+"], vTextureCoord);",e+="\n}";return e+="\n",e+="\n"}(e));for(var o=new i.GLShader(t,"precision highp float;attribute vec2 aVertexPosition;attribute vec2 aTextureCoord;attribute vec4 aColor;attribute float aTextureId;uniform mat3 projectionMatrix;varying vec2 vTextureCoord;varying vec4 vColor;varying float vTextureId;void main(void){gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);vTextureCoord = aTextureCoord;vTextureId = aTextureId;vColor = aColor;}",r),a=[],s=0;s<e;s++)a[s]=s;return o.bind(),o.uniforms.uSamplers=a,o}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GLBuffer=void 0;var i=new ArrayBuffer(0),n=function(){function t(t,e,r,n){this.destroy=function(){this.gl.deleteBuffer(this.buffer)},this.gl=t,this.buffer=t.createBuffer(),this.type=e||t.ARRAY_BUFFER,this.drawType=n||t.STATIC_DRAW,this.data=i,r&&this.upload(r),this._updateID=0}return t.prototype.upload=function(t,e,r){r||this.bind();var i=this.gl;t=t||this.data,e=e||0,this.data.byteLength>=t.byteLength?i.bufferSubData(this.type,e,t):i.bufferData(this.type,t,this.drawType),this.data=t},t.prototype.bind=function(){this.gl.bindBuffer(this.type,this.buffer)},t.createVertexBuffer=function(e,r,i){return new t(e,e.ARRAY_BUFFER,r,i)},t.createIndexBuffer=function(e,r,i){return new t(e,e.ELEMENT_ARRAY_BUFFER,r,i)},t.create=function(e,r,i,n){return new t(e,r,i,n)},t}();e.GLBuffer=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VertexArrayObject=void 0;var i=r(87),n=function(){function t(e,r){if(this.nativeVaoExtension=null,t.FORCE_NATIVE||(this.nativeVaoExtension=e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object")),this.nativeState=r,this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();var i=e.getParameter(e.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:new Array(i),attribState:new Array(i)}}this.gl=e,this.attributes=[],this.indexBuffer=null,this.dirty=!1}return t.prototype.bind=function(){if(this.nativeVao){if(this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.dirty)return this.dirty=!1,this.activate(),this;this.indexBuffer&&this.indexBuffer.bind()}else this.activate();return this},t.prototype.unbind=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null),this},t.prototype.activate=function(){for(var t=this.gl,e=null,r=0;r<this.attributes.length;r++){var n=this.attributes[r];e!==n.buffer&&(n.buffer.bind(),e=n.buffer),n.attribute.pointer(n.type||t.FLOAT,n.normalized||!1,n.stride||0,n.start||0)}return i.setVertexAttribArrays(t,this.attributes,this.nativeState),this.indexBuffer&&this.indexBuffer.bind(),this},t.prototype.addAttribute=function(t,e,r,i,n,o,a){return this.attributes.push({buffer:t,attribute:e,location:e.location,type:r||this.gl.FLOAT,normalized:i||!1,stride:n||0,start:o||0,name:a}),this.dirty=!0,this},t.prototype.removeAttribute=function(t,e){void 0===e&&(e=!0);for(var r=this.attributes.length-1;r>=0;r--){if(this.attributes[r].name===t&&(this.attributes.splice(r,1),this.dirty=!0,e))break}return this},t.prototype.addIndex=function(t){return this.indexBuffer=t,this.dirty=!0,this},t.prototype.clear=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.attributes.length=0,this.indexBuffer=null,this},t.prototype.draw=function(t,e,r){var i=this.gl;return this.indexBuffer?i.drawElements(t,e||this.indexBuffer.data.length,i.UNSIGNED_SHORT,2*(r||0)):i.drawArrays(t,r||0,e||this.getSize()),this},t.prototype.destroy=function(){this.gl=null,this.indexBuffer=null,this.attributes=null,this.nativeState=null,this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao),this.nativeVaoExtension=null,this.nativeVao=null},t.prototype.getSize=function(){var t=this.attributes[0];return(t.buffer.data.length||t.buffer.data.byteLength/4)/(t.stride/4||t.attribute.size)},t.FORCE_NATIVE=!1,t}();e.VertexArrayObject=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setVertexAttribArrays=void 0,e.setVertexAttribArrays=function(t,e,r){var i;if(r){var n=r.tempAttribState,o=r.attribState;for(i=0;i<n.length;i++)n[i]=!1;for(i=0;i<e.length;i++)n[e[i].attribute.location]=!0;for(i=0;i<o.length;i++)o[i]!==n[i]&&(o[i]=n[i],r.attribState[i]?t.enableVertexAttribArray(i):t.disableVertexAttribArray(i))}else for(i=0;i<e.length;i++){var a=e[i];t.enableVertexAttribArray(a.attribute.location)}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GLFramebuffer=void 0;var i=r(42),n=function(){function t(t,e,r){this.gl=t,this.framebuffer=t.createFramebuffer(),this.stencil=null,this.texture=null,this.width=e||100,this.height=r||100}return t.prototype.enableTexture=function(t){var e=this.gl;this.texture=t||new i.GLTexture(e),this.texture.bind(),this.bind(),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture.texture,0)},t.prototype.enableStencil=function(){if(!this.stencil){var t=this.gl;this.stencil=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.stencil),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,this.stencil),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,this.width,this.height)}},t.prototype.clear=function(t,e,r,i){this.bind();var n=this.gl;n.clearColor(t,e,r,i),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT)},t.prototype.bind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer)},t.prototype.unbind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null)},t.prototype.resize=function(t,e){var r=this.gl;this.width=t,this.height=e,this.texture&&this.texture.uploadData(null,t,e),this.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,this.stencil),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,t,e))},t.prototype.destroy=function(){var t=this.gl;this.texture&&this.texture.destroy(),t.deleteFramebuffer(this.framebuffer),this.gl=null,this.stencil=null,this.texture=null},t.createRGBA=function(e,r,n,o){var a=i.GLTexture.fromData(e,null,r,n);a.enableNearestScaling(),a.enableWrapClamp();var s=new t(e,r,n);return s.enableTexture(a),s.unbind(),s},t.createFloat32=function(e,r,n,o){var a=i.GLTexture.fromData(e,o,r,n);a.enableNearestScaling(),a.enableWrapClamp();var s=new t(e,r,n);return s.enableTexture(a),s.unbind(),s},t}();e.GLFramebuffer=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GLShader=void 0;var i=r(90),n=r(91),o=r(93),a=r(94),s=r(95),u=function(){function t(t,e,r,u,h){this.gl=t,u&&(e=a.setPrecision(e,u),r=a.setPrecision(r,u)),this.program=i.compileProgram(t,e,r,h),this.attributes=n.extractAttributes(t,this.program),this.uniformData=o.extractUniforms(t,this.program),this.uniforms=s.generateUniformAccessObject(t,this.uniformData)}return t.prototype.bind=function(){return this.gl.useProgram(this.program),this},t.prototype.destroy=function(){this.attributes=null,this.uniformData=null,this.uniforms=null,this.gl.deleteProgram(this.program)},t}();e.GLShader=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compileProgram=void 0,e.compileProgram=function(t,e,r,n){var o=i(t,t.VERTEX_SHADER,e),a=i(t,t.FRAGMENT_SHADER,r),s=t.createProgram();if(t.attachShader(s,o),t.attachShader(s,a),n)for(var u in n)t.bindAttribLocation(s,n[u],u);return t.linkProgram(s),t.getProgramParameter(s,t.LINK_STATUS)||(console.error("Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(s,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(s)&&console.warn("Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(s)),t.deleteProgram(s),s=null),t.deleteShader(o),t.deleteShader(a),s};var i=function(t,e,r){var i=t.createShader(e);return t.shaderSource(i,r),t.compileShader(i),t.getShaderParameter(i,t.COMPILE_STATUS)?i:(console.log(t.getShaderInfoLog(i)),null)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.extractAttributes=void 0;var i=r(43),n=r(92);e.extractAttributes=function(t,e){for(var r={},o=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),a=0;a<o;a++){var s=t.getActiveAttrib(e,a),u=i.mapType(t,s.type);r[s.name]={type:u,size:n.mapSize(u),location:t.getAttribLocation(e,s.name),pointer:function(e,r,i,n){void 0===e&&(e=t.FLOAT),void 0===r&&(r=!1),void 0===i&&(i=0),void 0===n&&(n=0),t.vertexAttribPointer(this.location,this.size,e,r,i,n)}}}return r}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mapSize=void 0,e.mapSize=function(t){return i[t]};var i={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.extractUniforms=void 0;var i=r(43),n=r(44);e.extractUniforms=function(t,e){for(var r={},o=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),a=0;a<o;a++){var s=t.getActiveUniform(e,a),u=s.name.replace(/\[.*?\]/,""),h=i.mapType(t,s.type);r[u]={type:h,size:s.size,location:t.getUniformLocation(e,u),value:n.defaultValue(h,s.size)}}return r}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setPrecision=void 0,e.setPrecision=function(t,e){return"precision"!==t.substring(0,9)?"precision "+e+" float;\n"+t:t}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateUniformAccessObject=void 0,e.generateUniformAccessObject=function(t,e){var r={data:{}};r.gl=t;for(var n=Object.keys(e),o=0;o<n.length;o++){var u=n[o],h=u.split("."),l=h[h.length-1],c=s(h,r),f=e[u];c.data[l]=f,c.gl=t,Object.defineProperty(c,l,{get:i(l),set:a(l,f)})}return r};var i=function(t){return function(){return this.data[t].value}},n={float:function(t,e,r){t.uniform1f(e,r)},vec2:function(t,e,r){t.uniform2f(e,r[0],r[1])},vec3:function(t,e,r){t.uniform3f(e,r[0],r[1],r[2])},vec4:function(t,e,r){t.uniform4f(e,r[0],r[1],r[2],r[3])},int:function(t,e,r){t.uniform1i(e,r)},ivec2:function(t,e,r){t.uniform2i(e,r[0],r[1])},ivec3:function(t,e,r){t.uniform3i(e,r[0],r[1],r[2])},ivec4:function(t,e,r){t.uniform4i(e,r[0],r[1],r[2],r[3])},bool:function(t,e,r){t.uniform1i(e,r)},bvec2:function(t,e,r){t.uniform2i(e,r[0],r[1])},bvec3:function(t,e,r){t.uniform3i(e,r[0],r[1],r[2])},bvec4:function(t,e,r){t.uniform4i(e,r[0],r[1],r[2],r[3])},mat2:function(t,e,r){t.uniformMatrix2fv(e,!1,r)},mat3:function(t,e,r){t.uniformMatrix3fv(e,!1,r)},mat4:function(t,e,r){t.uniformMatrix4fv(e,!1,r)},sampler2D:function(t,e,r){t.uniform1i(e,r)}},o={float:function(t,e,r){t.uniform1fv(e,r)},vec2:function(t,e,r){t.uniform2fv(e,r)},vec3:function(t,e,r){t.uniform3fv(e,r)},vec4:function(t,e,r){t.uniform4fv(e,r)},int:function(t,e,r){t.uniform1iv(e,r)},ivec2:function(t,e,r){t.uniform2iv(e,r)},ivec3:function(t,e,r){t.uniform3iv(e,r)},ivec4:function(t,e,r){t.uniform4iv(e,r)},bool:function(t,e,r){t.uniform1iv(e,r)},bvec2:function(t,e,r){t.uniform2iv(e,r)},bvec3:function(t,e,r){t.uniform3iv(e,r)},bvec4:function(t,e,r){t.uniform4iv(e,r)},sampler2D:function(t,e,r){t.uniform1iv(e,r)},mat4:function(t,e,r){t.uniformMatrix4fv(e,!1,r)}};function a(t,e){return function(r){this.data[t].value=r;var i=this.data[t].location;1===e.size?n[e.type](this.gl,i,r):o[e.type](this.gl,i,r)}}function s(t,e){for(var r=e,i=0;i<t.length-1;i++){var n=r[t[i]]||{data:{}};r[t[i]]=n,r=n}return r}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(10),n=r(0),o=r(26),a=r(1),s=r(15),u=function(){function t(t){this._nextTextureLocation=0,this.renderer=t,this.gl=t.gl,this._managedTextures=[],this.renderer.addEventListener("onContextChange",this.onContextChange,this)}return t.prototype.onContextChange=function(){var t=this.gl,e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures=new Array(e),this.emptyTextures=new Array(e);var r=i.GLTexture.fromData(t,null,1,1),n={_glTextures:{}};n._glTextures[this.renderer.CONTEXT_UID]={};for(var o=0;o<e;o++){var a=new s.default;a._glTextures[this.renderer.CONTEXT_UID]=r,this.boundTextures[o]=n,this.emptyTextures[o]=a,this.bindTexture(null,o)}},t.prototype.bindTexture=function(t,e,r){if((t=(t=t||this.emptyTextures[e]).baseTexture||t)._touchedId=this.renderer.textureGC.count,r)e=e||0;else{for(var i=0;i<this.boundTextures.length;i++)if(this.boundTextures[i]===t)return i;void 0===e&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,e=this.boundTextures.length-this._nextTextureLocation-1)}var n=this.gl,o=t._glTextures[this.renderer.CONTEXT_UID];return o?(this.currentLocation!==e&&(this.currentLocation=e,n.activeTexture(n.TEXTURE0+e)),this.boundTextures[e]!==t&&n.bindTexture(n.TEXTURE_2D,o.texture),this.boundTextures[e]=t):this.updateTexture(t,e),e},t.prototype.getTexture=function(){},t.prototype.updateTexture=function(t,e){t="Event"===t.instanceType?t.target.baseTexture||t.target:t.baseTexture||t;var r=this.gl,a=!!t._glRenderTargets;if(!t.hasLoaded)return null;var s=this.boundTextures;if(void 0===e){e=0;for(var u=0;u<s.length;++u)if(s[u]===t){e=u;break}}s[e]=t,this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e));var h=t._glTextures[this.renderer.CONTEXT_UID];if(h)a?t._glRenderTargets[this.renderer.CONTEXT_UID].resize(t.width,t.height):t.source.data?h.uploadData(t.source.data,t.width,t.height):h.upload(t.source);else{if(a){var l=new o.default(this.gl,t.width,t.height,t.scaleMode,!1);l.resize(t.width,t.height),t._glRenderTargets[this.renderer.CONTEXT_UID]=l,h=l.texture}else(h=new i.GLTexture(this.gl,null,null,null,null)).premultiplyAlpha=!0,t.source.data?h.uploadData(t.source.data,t.width,t.height):h.upload(t.source);t._glTextures[this.renderer.CONTEXT_UID]=h,t.addEventListener("update",this.updateTexture,this),t.addEventListener("dispose",this.destroyTexture,this),this._managedTextures.push(t),t.isPowerOfTwo?(t.mipmap&&h.enableMipmap(),t.wrapMode===n.WRAP_MODES.CLAMP?h.enableWrapClamp():t.wrapMode===n.WRAP_MODES.REPEAT?h.enableWrapRepeat():h.enableWrapMirrorRepeat()):h.enableWrapClamp(),t.scaleMode===n.SCALE_MODES.NEAREST?h.enableNearestScaling():h.enableLinearScaling()}return h},t.prototype.unbindTexture=function(t){var e=this.gl;t=t.baseTexture||t;for(var r=0;r<this.boundTextures.length;r++)this.boundTextures[r]===t&&(this.boundTextures[r]=this.emptyTextures[r],this.currentLocation!==r&&(e.activeTexture(e.TEXTURE0+r),this.currentLocation=r),e.bindTexture(e.TEXTURE_2D,this.emptyTextures[r]._glTextures[this.renderer.CONTEXT_UID].texture))},t.prototype.destroyTexture=function(t,e){if((t=t.baseTexture||t).hasLoaded){var r=this.renderer.CONTEXT_UID,i=t._glTextures,n=t._glRenderTargets;if(i[r]&&(this.unbindTexture(t),i[r].destroy(),t.removeEventListener("update",this.updateTexture,this),t.removeEventListener("dispose",this.destroyTexture,this),delete i[r],!e)){var o=this._managedTextures.indexOf(t);-1!==o&&a.removeItems(this._managedTextures,o,1)}n&&n[r]&&(n[r].destroy(),delete n[r])}},t.prototype.removeAll=function(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];e._glTextures[this.renderer.CONTEXT_UID]&&delete e._glTextures[this.renderer.CONTEXT_UID]}},t.prototype.destroy=function(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];this.destroyTexture(e,!0)}this.renderer.removeEventListener("onContextChange",this.onContextChange,this),this.renderer=null,this._managedTextures=null},t}();e.default=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(0),n=function(){function t(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=3600,this.checkCountMax=600,this.mode=i.GC_MODES.AUTO}return t.prototype.update=function(){this.count++,this.mode!==i.GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))},t.prototype.run=function(){for(var t=this.renderer.textureManager,e=t._managedTextures,r=!1,i=0;i<e.length;i++){var n=e[i];!n._glRenderTargets&&this.count-n._touchedId>this.maxIdle&&(t.destroyTexture(n,!0),e[i]=null,r=!0)}if(r){var o=0;for(i=0;i<e.length;i++)null!==e[i]&&(e[o++]=e[i]);e.length=o}},t.prototype.unload=function(t){var e=this.renderer.textureManager;t._texture&&t._texture._glRenderTargets&&e.destroyTexture(t._texture,!0);for(var r=t.children.length-1;r>=0;r--)this.unload(t.children[r])},t}();e.default=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(1),n=function(){function t(t){this.activeState=new Uint8Array(16),this.defaultState=new Uint8Array(16),this.defaultState[0]=1,this.gl=t,this.maxAttribs=t.getParameter(t.MAX_VERTEX_ATTRIBS),this.attribState={tempAttribState:new Array(this.maxAttribs),attribState:new Array(this.maxAttribs)},this.blendModes=i.mapWebGLBlendModes(t),this.nativeVaoExtension=t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object")}return t.prototype.setState=function(t){this.setBlend(t[0]),this.setDepthTest(t[1]),this.setFrontFace(t[2]),this.setCullFace(t[3]),this.setBlendMode(t[4])},t.prototype.setBlend=function(t){t=t?1:0,this.activeState[0]!==t&&(this.activeState[0]=t,this.gl[t?"enable":"disable"](this.gl.BLEND))},t.prototype.setBlendMode=function(t){if(t!==this.activeState[4]){this.activeState[4]=t;var e=this.blendModes[t];2===e.length?this.gl.blendFunc(e[0],e[1]):this.gl.blendFuncSeparate(e[0],e[1],e[2],e[3])}},t.prototype.setDepthTest=function(t){t=t?1:0,this.activeState[1]!==t&&(this.activeState[1]=t,this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST))},t.prototype.setCullFace=function(t){t=t?1:0,this.activeState[3]!==t&&(this.activeState[3]=t,this.gl[t?"enable":"disable"](this.gl.CULL_FACE))},t.prototype.setFrontFace=function(t){t=t?1:0,this.activeState[2]!==t&&(this.activeState[2]=t,this.gl.frontFace(this.gl[t?"CW":"CCW"]))},t.prototype.resetAttributes=function(){for(var t=0;t<this.attribState.tempAttribState.length;t++)this.attribState.tempAttribState[t]=0;for(t=0;t<this.attribState.attribState.length;t++)this.attribState.attribState[t]=0;for(t=1;t<this.maxAttribs;t++)this.gl.disableVertexAttribArray(t)},t.prototype.resetToDefault=function(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null),this.resetAttributes();for(var t=0;t<this.activeState.length;++t)this.activeState[t]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.setState(this.defaultState)},t.prototype.resetTo3D=function(){this.setDepthTest(1),this.setFrontFace(0),this.setCullFace(1)},t}();e.default=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(39),n=function(){function t(t){this.renderer=t,this.emptyRenderer=new i.default(t),this.currentRenderer=this.emptyRenderer}return t.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},t.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},t}();e.default=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(45),n=function(){function t(t){this.renderer=t,this.scissor=!1,this.scissorData=null,this.scissorRenderTarget=null,this.enableScissor=!0,this.alphaMaskPool=[],this.alphaMaskIndex=0}return t.prototype.pushMask=function(t,e){e.texture?this.pushSpriteMask(t,e):this.pushStencilMask(e)},t.prototype.popMask=function(t,e){e.texture?this.popSpriteMask():this.popStencilMask()},t.prototype.pushSpriteMask=function(t,e){var r=this.alphaMaskPool[this.alphaMaskIndex];r||(r=this.alphaMaskPool[this.alphaMaskIndex]=[new i.SpriteMaskFilter(e)]),r[0].resolution=1,r[0].maskSprite=e;var n=t.filterArea;t.filterArea=e.getBounds(!0),this.renderer.filterManager.pushFilter(t,r),t.filterArea=n,this.alphaMaskIndex++},t.prototype.popSpriteMask=function(){this.renderer.filterManager.popFilter(),this.alphaMaskIndex--},t.prototype.pushStencilMask=function(t){this.renderer.batchManager.flush(),this.renderer.stencilManager.pushStencil(t)},t.prototype.popStencilMask=function(){this.renderer.stencilManager.popStencil()},t.prototype.pushScissorMask=function(t,e){e.renderable=!0;var r=this.renderer._activeRenderTarget,i=e.getBounds();i.fit(r.size),e.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(i.x,r.root?r.size.height-i.y-i.height:i.y,i.width,i.height),this.scissorRenderTarget=r,this.scissorData=e,this.scissor=!0},t.prototype.popScissorMask=function(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var t=this.renderer.gl;t.disable(t.SCISSOR_TEST)},t.prototype.destroy=function(){this.renderer=null},t}();e.default=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(10);function n(t){for(var e,r=new RegExp("^(projectionMatrix|uSampler|filterArea|filterClamp)$"),n={},o=t.replace(/\s+/g," ").split(/\s*;\s*/),a=0;a<o.length;a++){var s=o[a].trim();if(s.indexOf("uniform")>-1){var u=s.split(" "),h=u[1],l=u[2],c=1;l.indexOf("[")>-1&&(e=l.split(/\[|]/),l=e[0],c*=Number(e[1])),l.match(r)||(n[l]={value:i.defaultValue(h,c),name:l,type:h})}}return n}e.default=function(t,e){var r=n(t),i=n(e);return Object.assign(r,i)}},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(6),a=["precision highp float;","varying vec2 v_rgbNW;","varying vec2 v_rgbNE;","varying vec2 v_rgbSW;","varying vec2 v_rgbSE;","varying vec2 v_rgbM;","varying vec2 vTextureCoord;","uniform sampler2D uSampler;","uniform vec4 filterArea;","#ifndef FXAA_REDUCE_MIN","#define FXAA_REDUCE_MIN   (1.0/ 128.0)","#endif","#ifndef FXAA_REDUCE_MUL","#define FXAA_REDUCE_MUL   (1.0 / 8.0)","#endif","#ifndef FXAA_SPAN_MAX","#define FXAA_SPAN_MAX     8.0","#endif","vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,","vec2 v_rgbNW, vec2 v_rgbNE,","vec2 v_rgbSW, vec2 v_rgbSE,","vec2 v_rgbM) {","vec4 color;","mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);","vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;","vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;","vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;","vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;","vec4 texColor = texture2D(tex, v_rgbM);","vec3 rgbM  = texColor.xyz;","vec3 luma = vec3(0.299, 0.587, 0.114);","float lumaNW = dot(rgbNW, luma);","float lumaNE = dot(rgbNE, luma);","float lumaSW = dot(rgbSW, luma);","float lumaSE = dot(rgbSE, luma);","float lumaM  = dot(rgbM,  luma);","float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));","float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));","mediump vec2 dir;","dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));","dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));","float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *","(0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);","float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);","dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),","max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),","dir * rcpDirMin)) * inverseVP;","vec3 rgbA = 0.5 * (","texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +","texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);","vec3 rgbB = rgbA * 0.5 + 0.25 * (","texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +","texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);","float lumaB = dot(rgbB, luma);","if ((lumaB < lumaMin) || (lumaB > lumaMax))","color = vec4(rgbA, texColor.a);","else","color = vec4(rgbB, texColor.a);","return color;","}","void main() {","vec2 fragCoord = vTextureCoord * filterArea.xy;","vec4 color;","color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);","gl_FragColor = color;","}"].join("\n"),s=function(t){function e(){return t.call(this,"precision highp float;attribute vec2 aVertexPosition;attribute vec2 aTextureCoord;uniform mat3 projectionMatrix;varying vec2 v_rgbNW;varying vec2 v_rgbNE;varying vec2 v_rgbSW;varying vec2 v_rgbSE;varying vec2 v_rgbM;uniform vec4 filterArea;varying vec2 vTextureCoord;vec2 mapCoord( vec2 coord ){coord *= filterArea.xy;coord += filterArea.zw;return coord;}vec2 unmapCoord( vec2 coord ){coord -= filterArea.zw;coord /= filterArea.xy;return coord;}void texcoords(vec2 fragCoord, vec2 resolution,out vec2 v_rgbNW, out vec2 v_rgbNE,out vec2 v_rgbSW, out vec2 v_rgbSE,out vec2 v_rgbM) {vec2 inverseVP = 1.0 / resolution.xy;v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;v_rgbM = vec2(fragCoord * inverseVP);}void main(void) {gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);vTextureCoord = aTextureCoord;vec2 fragCoord = vTextureCoord * filterArea.xy;texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);}",a)||this}return n(e,t),e}(o.default);e.default=s},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(6),a=r(16),s=function(t){function e(e,r){void 0===e&&(e=.5),void 0===r&&(r=Math.random());var i=t.call(this,a.defaultVert,"precision mediump float;varying vec2 vTextureCoord;varying vec4 vColor;uniform float uNoise;uniform float uSeed;uniform sampler2D uSampler;float rand(vec2 co){return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);}void main(){vec4 color = texture2D(uSampler, vTextureCoord);float randomValue = rand(gl_FragCoord.xy * uSeed);float diff = (randomValue - 0.5) * uNoise;if (color.a > 0.0) {color.rgb /= color.a;}color.r += diff;color.g += diff;color.b += diff;color.rgb *= color.a;gl_FragColor = color;}")||this;return i.noise=e,i.seed=r,i}return n(e,t),Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t},enumerable:!1,configurable:!0}),e}(o.default);e.default=s},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(6),a=r(2),s=r(16),u=function(t){function e(e,r){var i=this,n=new a.Matrix;return e.renderable=!1,(i=t.call(this,s.defaultFilterMatrix,"precision mediump float;varying vec2 vFilterCoord;varying vec2 vTextureCoord;uniform vec2 scale;uniform sampler2D uSampler;uniform sampler2D mapSampler;uniform vec4 filterArea;uniform vec4 filterClamp;void main(void){vec4 map = texture2D(mapSampler, vFilterCoord);map -= 0.5;map.xy *= scale / filterArea.xy;gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));}")||this).maskSprite=e,i.maskMatrix=n,i.uniforms.mapSampler=e._texture,i.uniforms.filterMatrix=n,i.uniforms.scale={x:1,y:1},null==r&&(r=20),i.scale=new a.Point(r,r),i}return n(e,t),e.prototype.apply=function(t,e,r){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y,t.applyFilter(this,e,r)},Object.defineProperty(e.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t},enumerable:!1,configurable:!0}),e}(o.default);e.default=u},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(46),a=r(50),s=function(t){function e(e,r,i,n){var s=t.call(this)||this;return s.blurXFilter=new o.default(e,r,i,n),s.blurYFilter=new a.default(e,r,i,n),s.padding=0,s.resolution=i||1,s.quality=r||4,s.blur=e||8,s}return n(e,t),e.prototype.apply=function(t,e,r){var i=t.getRenderTarget(!0);this.blurXFilter.apply(t,e,i,!0),this.blurYFilter.apply(t,i,r,!1),t.returnRenderTarget(i)},Object.defineProperty(e.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(t){this.blurYFilter.blendMode=t},enumerable:!1,configurable:!0}),e}(r(6).default);e.default=s},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(6),a=r(16),s=function(t){function e(e){var r=t.call(this,a.defaultVert,"precision mediump float;varying vec2 vTextureCoord;uniform sampler2D uSampler;uniform float m[20];uniform float uAlpha;void main(void){vec4 c = texture2D(uSampler, vTextureCoord);if (uAlpha == 0.0) {gl_FragColor = c;return;}if (c.a > 0.0) {c.rgb /= c.a;}vec4 result;result.r = (m[0] * c.r);result.r += (m[1] * c.g);result.r += (m[2] * c.b);result.r += (m[3] * c.a);result.r += m[4];result.g = (m[5] * c.r);result.g += (m[6] * c.g);result.g += (m[7] * c.b);result.g += (m[8] * c.a);result.g += m[9];result.b = (m[10] * c.r);result.b += (m[11] * c.g);result.b += (m[12] * c.b);result.b += (m[13] * c.a);result.b += m[14];result.a = (m[15] * c.r);result.a += (m[16] * c.g);result.a += (m[17] * c.b);result.a += (m[18] * c.a);result.a += m[19];vec3 rgb = mix(c.rgb, result.rgb, uAlpha);rgb *= result.a;gl_FragColor = vec4(rgb, result.a);}")||this;return r.uniforms.m=e||[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],r.alpha=1,r}return n(e,t),e.prototype._loadMatrix=function(t,e){void 0===e&&(e=!1);var r=t;e&&(this._multiply(r,this.uniforms.m,t),r=this._colorMatrix(r)),this.uniforms.m=r},e.prototype._multiply=function(t,e,r){return t[0]=e[0]*r[0]+e[1]*r[5]+e[2]*r[10]+e[3]*r[15],t[1]=e[0]*r[1]+e[1]*r[6]+e[2]*r[11]+e[3]*r[16],t[2]=e[0]*r[2]+e[1]*r[7]+e[2]*r[12]+e[3]*r[17],t[3]=e[0]*r[3]+e[1]*r[8]+e[2]*r[13]+e[3]*r[18],t[4]=e[0]*r[4]+e[1]*r[9]+e[2]*r[14]+e[3]*r[19]+e[4],t[5]=e[5]*r[0]+e[6]*r[5]+e[7]*r[10]+e[8]*r[15],t[6]=e[5]*r[1]+e[6]*r[6]+e[7]*r[11]+e[8]*r[16],t[7]=e[5]*r[2]+e[6]*r[7]+e[7]*r[12]+e[8]*r[17],t[8]=e[5]*r[3]+e[6]*r[8]+e[7]*r[13]+e[8]*r[18],t[9]=e[5]*r[4]+e[6]*r[9]+e[7]*r[14]+e[8]*r[19]+e[9],t[10]=e[10]*r[0]+e[11]*r[5]+e[12]*r[10]+e[13]*r[15],t[11]=e[10]*r[1]+e[11]*r[6]+e[12]*r[11]+e[13]*r[16],t[12]=e[10]*r[2]+e[11]*r[7]+e[12]*r[12]+e[13]*r[17],t[13]=e[10]*r[3]+e[11]*r[8]+e[12]*r[13]+e[13]*r[18],t[14]=e[10]*r[4]+e[11]*r[9]+e[12]*r[14]+e[13]*r[19]+e[14],t[15]=e[15]*r[0]+e[16]*r[5]+e[17]*r[10]+e[18]*r[15],t[16]=e[15]*r[1]+e[16]*r[6]+e[17]*r[11]+e[18]*r[16],t[17]=e[15]*r[2]+e[16]*r[7]+e[17]*r[12]+e[18]*r[17],t[18]=e[15]*r[3]+e[16]*r[8]+e[17]*r[13]+e[18]*r[18],t[19]=e[15]*r[4]+e[16]*r[9]+e[17]*r[14]+e[18]*r[19]+e[19],t},e.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},e.prototype.brightness=function(t,e){var r=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.greyscale=function(t,e){var r=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},e.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var r=Math.cos(t),i=Math.sin(t),n=1/3,o=(0,Math.sqrt)(n),a=[r+(1-r)*n,n*(1-r)-o*i,n*(1-r)+o*i,0,0,n*(1-r)+o*i,r+n*(1-r),n*(1-r)-o*i,0,0,n*(1-r)-o*i,n*(1-r)+o*i,r+n*(1-r),0,0,0,0,0,1,0];this._loadMatrix(a,e)},e.prototype.contrast=function(t,e){var r=(t||0)+1,i=-.5*(r-1),n=[r,0,0,0,i,0,r,0,0,i,0,0,r,0,i,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.saturate=function(t,e){void 0===t&&(t=0);var r=2*t/3+1,i=-.5*(r-1),n=[r,i,i,0,0,i,r,i,0,0,i,i,r,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)},e.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},e.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},e.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},e.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},e.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},e.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},e.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},e.prototype.colorTone=function(t,e,r,i,n){var o=((r=r||16770432)>>16&255)/255,a=(r>>8&255)/255,s=(255&r)/255,u=((i=i||3375104)>>16&255)/255,h=(i>>8&255)/255,l=(255&i)/255,c=[.3,.59,.11,0,0,o,a,s,t=t||.2,0,u,h,l,e=e||.15,0,o-u,a-h,s-l,0,0];this._loadMatrix(c,n)},e.prototype.night=function(t,e){var r=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.predator=function(t,e){var r=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},e.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},Object.defineProperty(e.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0}),e}(o.default);e.default=s,s.prototype.grayscale=s.prototype.greyscale},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(6),a=r(16),s=function(t){function e(e){void 0===e&&(e=1);var r=t.call(this,a.defaultVert,"precision mediump float;varying vec2 vTextureCoord;uniform sampler2D uSampler;uniform float uAlpha;void main(void){gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;}")||this;return r.alpha=e,r.glShaderKey="alpha",r}return n(e,t),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0}),e}(o.default);e.default=s},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(6),a=r(2),s=r(51),u=function(t){function e(e){var r=this,i=new a.Matrix;return r=t.call(this,"attribute vec2 aVertexPosition;attribute vec2 aTextureCoord;uniform mat3 projectionMatrix;uniform mat3 otherMatrix;varying vec2 vMaskCoord;varying vec2 vTextureCoord;void main(void){gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);vTextureCoord = aTextureCoord;vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;}","precision mediump float;varying vec2 vMaskCoord;varying vec2 vTextureCoord;uniform sampler2D uSampler;uniform sampler2D mask;uniform float alpha;uniform vec4 maskClamp;void main(void){float clip = step(3.5,step(maskClamp.x, vMaskCoord.x) +step(maskClamp.y, vMaskCoord.y) +step(vMaskCoord.x, maskClamp.z) +step(vMaskCoord.y, maskClamp.w));vec4 original = texture2D(uSampler, vTextureCoord);vec4 masky = texture2D(mask, vMaskCoord);original *= (masky.a * alpha * clip);gl_FragColor = original;}")||this,e.renderable=!1,r.maskSprite=e,r.maskMatrix=i,r}return n(e,t),e.prototype.apply=function(t,e,r){var i=this.maskSprite,n=this.maskSprite.texture;n&&n.valid&&(n.transform||(n.transform=new s.default(n,0)),n.transform.update(),this.uniforms.mask=n,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,i).prepend(n.transform.mapCoord),this.uniforms.alpha=i._worldAlpha,this.uniforms.maskClamp=n.transform.uClampFrame,t.applyFilter(this,e,r))},e}(o.default);e.default=u},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(6),a=r(16),s=["precision mediump float;","varying vec2 vTextureCoord;","uniform sampler2D uSampler;","const float resolution=1024.0;","uniform float radius;","uniform vec2 dir;","void main() {","vec4 sum = vec4(0.0);","vec2 tc = vTextureCoord;","float blur = radius/resolution;","float hstep = dir.x;","float vstep = dir.y;","sum += texture2D(uSampler, vec2(tc.x - 4.0*blur*hstep, tc.y - 4.0*blur*vstep)) * 0.0162162162;","sum += texture2D(uSampler, vec2(tc.x - 3.0*blur*hstep, tc.y - 3.0*blur*vstep)) * 0.0540540541;","sum += texture2D(uSampler, vec2(tc.x - 2.0*blur*hstep, tc.y - 2.0*blur*vstep)) * 0.1216216216;","sum += texture2D(uSampler, vec2(tc.x - 1.0*blur*hstep, tc.y - 1.0*blur*vstep)) * 0.1945945946;","sum += texture2D(uSampler, vec2(tc.x, tc.y)) * 0.2270270270;","sum += texture2D(uSampler, vec2(tc.x + 1.0*blur*hstep, tc.y + 1.0*blur*vstep)) * 0.1945945946;","sum += texture2D(uSampler, vec2(tc.x + 2.0*blur*hstep, tc.y + 2.0*blur*vstep)) * 0.1216216216;","sum += texture2D(uSampler, vec2(tc.x + 3.0*blur*hstep, tc.y + 3.0*blur*vstep)) * 0.0540540541;","sum += texture2D(uSampler, vec2(tc.x + 4.0*blur*hstep, tc.y + 4.0*blur*vstep)) * 0.0162162162;","vec4 cc= texture2D(uSampler,vTextureCoord );","gl_FragColor =vec4(sum.rgb, cc.a);","}"].join("\n"),u=function(t){function e(e){void 0===e&&(e=.5);var r=t.call(this,a.defaultVert,s)||this;return r.blur=e,r.uniforms.dir=[1,1],r}return n(e,t),Object.defineProperty(e.prototype,"blur",{get:function(){return this._blur},set:function(t){this._blur!==t&&(t>1&&(t=1),t<0&&(t=0),this._blur=t,this.uniforms.radius=10*t)},enumerable:!1,configurable:!0}),e}(o.default);e.default=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this.renderer=t,this.stencilMaskStack=null}return t.prototype.setMaskStack=function(t){this.stencilMaskStack=t;var e=this.renderer.gl;0===t.length?e.disable(e.STENCIL_TEST):e.enable(e.STENCIL_TEST)},t.prototype.pushStencil=function(t){this.renderer._activeRenderTarget.attachStencilBuffer();var e=this.renderer.gl,r=this.stencilMaskStack.length;0===r&&e.enable(e.STENCIL_TEST),this.stencilMaskStack.push(t),e.colorMask(!1,!1,!1,!1),e.stencilFunc(e.EQUAL,r,this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.INCR),t.renderable=!0;var i=t._worldAlpha;t._worldAlpha=1,t.renderWebGL(this.renderer),this.renderer.batchManager.flush(),t.renderable=!1,t._worldAlpha=i,this._useCurrent()},t.prototype.popStencil=function(){var t=this.renderer.gl,e=this.stencilMaskStack.pop();if(0===this.stencilMaskStack.length)t.disable(t.STENCIL_TEST),t.clear(t.STENCIL_BUFFER_BIT),t.clearStencil(0);else{t.colorMask(!1,!1,!1,!1),t.stencilOp(t.KEEP,t.KEEP,t.DECR),e.renderable=!0;var r=e._worldAlpha;e._worldAlpha=1,e.renderWebGL(this.renderer),this.renderer.batchManager.flush(),e.renderable=!1,e._worldAlpha=r,this._useCurrent()}},t.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.stencilMaskStack.length,this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},t.prototype._getBitwiseMask=function(){return(1<<this.stencilMaskStack.length)-1},t.prototype.destroy=function(){this.renderer=null,this.stencilMaskStack=null},t}();e.default=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(2),n=r(26),o=r(112),a=r(1),s=r(10),u=r(114),h=function(){function t(){this.renderTarget=null,this.target=null,this.resolution=1,this.sourceFrame=new i.Rectangle,this.destinationFrame=new i.Rectangle,this.filters=[]}return t.prototype.clear=function(){this.filters=null,this.target=null,this.renderTarget=null},t}(),l=function(){function t(t){this.renderer=t,this.gl=this.renderer.gl,this.quad=new o.default(this.gl,t.state.attribState),this.shaderCache={},this.pool={},this.filterData=null,this.managedFilters=[],this.renderer.addEventListener("onPreRender",this.onPreRender,this),this._screenWidth=t.width,this._screenHeight=t.height}return t.prototype.pushFilter=function(t,e){var r=this.renderer,i=this.filterData;if(!i){var n=new h;n.sourceFrame=n.destinationFrame=this.renderer._activeRenderTarget.size,n.renderTarget=r._activeRenderTarget,this.renderer._activeRenderTarget.filterData=i={index:0,stack:[n]},this.filterData=i}var o=i.stack[++i.index],a=i.stack[0].destinationFrame;o||(o=i.stack[i.index]=new h);var s=e[0].resolution,u=0|e[0].padding,l=t.filterArea||t.getBounds(!0),c=o.sourceFrame,f=o.destinationFrame;c.x=(l.x*s|0)/s,c.y=(l.y*s|0)/s,c.width=(l.width*s|0)/s,c.height=(l.height*s|0)/s,i.stack[0].renderTarget.transform||e[0].autoFit&&c.fit(a),c.pad(u),f.width=c.width,f.height=c.height;var d=this.getPotRenderTarget(r.gl,c.width,c.height,s);o.target=t,o.filters=e,o.resolution=s,o.renderTarget=d,d.setFrame(f,c),r.bindRenderTarget(d),d.clear()},t.prototype.popFilter=function(){var t=this.filterData,e=t.stack[t.index-1],r=t.stack[t.index];this.quad.map(r.renderTarget.size,r.sourceFrame).upload();var i=r.filters;if(1===i.length)i[0].apply(this,r.renderTarget,e.renderTarget,!1,r),this.freePotRenderTarget(r.renderTarget);else{var n=r.renderTarget,o=this.getPotRenderTarget(this.renderer.gl,r.sourceFrame.width,r.sourceFrame.height,r.resolution);o.setFrame(r.destinationFrame,r.sourceFrame),o.clear();var a=0;for(a=0;a<i.length-1;++a){i[a].apply(this,n,o,!0,r);var s=n;n=o,o=s}i[a].apply(this,n,e.renderTarget,!1,r),this.freePotRenderTarget(n),this.freePotRenderTarget(o)}r.clear(),t.index--,0===t.index&&(this.filterData=null)},t.prototype.applyFilter=function(t,e,r,i){var n=this.renderer,o=n.gl,a=t.glShaders[n.CONTEXT_UID];a||(t.glShaderKey?(a=this.shaderCache[t.glShaderKey])||(a=new s.GLShader(this.gl,t.vertexSrc,t.fragmentSrc),t.glShaders[n.CONTEXT_UID]=this.shaderCache[t.glShaderKey]=a,this.managedFilters.push(t)):(a=t.glShaders[n.CONTEXT_UID]=new s.GLShader(this.gl,t.vertexSrc,t.fragmentSrc),this.managedFilters.push(t)),n.bindVao(null),this.quad.initVao(a)),n.bindVao(this.quad.vao),n.bindRenderTarget(r),i&&(o.disable(o.SCISSOR_TEST),n.clear(),o.enable(o.SCISSOR_TEST)),r===n.maskManager.scissorRenderTarget&&n.maskManager.pushScissorMask(null,n.maskManager.scissorData),n.bindShader(a);var u=this.renderer.textureManager.emptyTextures[0];this.renderer.textureManager.boundTextures[0]=u,this.syncUniforms(a,t),n.state.setBlendMode(t.blendMode),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,e.texture.texture),this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0),o.bindTexture(o.TEXTURE_2D,u._glTextures[this.renderer.CONTEXT_UID].texture),this.renderer.textureManager.currentLocation=-1},t.prototype.syncUniforms=function(t,e){var r,i=e.uniformData,n=e.uniforms,o=1;if(t.uniforms.filterArea){r=this.filterData.stack[this.filterData.index];var a=t.uniforms.filterArea;a[0]=r.renderTarget.size.width,a[1]=r.renderTarget.size.height,a[2]=r.sourceFrame.x,a[3]=r.sourceFrame.y,t.uniforms.filterArea=a}if(t.uniforms.filterClamp){r=r||this.filterData.stack[this.filterData.index];var s=t.uniforms.filterClamp;s[0]=0,s[1]=0,s[2]=(r.sourceFrame.width-1)/r.renderTarget.size.width,s[3]=(r.sourceFrame.height-1)/r.renderTarget.size.height,t.uniforms.filterClamp=s}for(var u in i){var h=i[u].type;if("sampler2d"===h&&0!==n[u]){if(n[u].baseTexture)t.uniforms[u]=this.renderer.textureManager.bindTexture(n[u].baseTexture,o);else{t.uniforms[u]=o;var l=this.renderer.gl;this.renderer.textureManager.boundTextures[o]=this.renderer.textureManager.emptyTextures[o],l.activeTexture(l.TEXTURE0+o),n[u].texture.bind()}o++}else if("mat3"===h)void 0!==n[u].a?t.uniforms[u]=n[u].toArray(!0):t.uniforms[u]=n[u];else if("vec2"===h)if(void 0!==n[u].x){var c=t.uniforms[u]||new Float32Array(2);c[0]=n[u].x,c[1]=n[u].y,t.uniforms[u]=c}else t.uniforms[u]=n[u];else"float"===h?t.uniforms.data[u].value!==i[u]&&(t.uniforms[u]=n[u]):t.uniforms[u]=n[u]}},t.prototype.getRenderTarget=function(t,e){var r=this.filterData.stack[this.filterData.index],i=this.getPotRenderTarget(this.renderer.gl,r.sourceFrame.width,r.sourceFrame.height,e||r.resolution);return i.setFrame(r.destinationFrame,r.sourceFrame),i},t.prototype.returnRenderTarget=function(t){this.freePotRenderTarget(t)},t.prototype.calculateScreenSpaceMatrix=function(t){var e=this.filterData.stack[this.filterData.index];return u.calculateScreenSpaceMatrix(t,e.sourceFrame,e.renderTarget.size)},t.prototype.calculateNormalizedScreenSpaceMatrix=function(t){var e=this.filterData.stack[this.filterData.index];return u.calculateNormalizedScreenSpaceMatrix(t,e.sourceFrame,e.renderTarget.size)},t.prototype.calculateSpriteMatrix=function(t,e){var r=this.filterData.stack[this.filterData.index];return u.calculateSpriteMatrix(t,r.sourceFrame,r.renderTarget.size,e)},t.prototype.destroy=function(t){void 0===t&&(t=!1);var e=this.renderer,r=this.managedFilters;e.removeEventListener("onPreRender",this.onPreRender,this),this.renderer=null;for(var i=0;i<r.length;i++)t||r[i].glShaders[e.CONTEXT_UID].destroy(),delete r[i].glShaders[e.CONTEXT_UID];this.shaderCache={},t?this.pool={}:this.emptyPool()},t.prototype.getPotRenderTarget=function(t,e,r,i){var o="screen";r*=i,(e*=i)===this._screenWidth&&r===this._screenHeight||(o=(65535&(e=a.nextPow2(e)))<<16|65535&(r=a.nextPow2(r))),this.pool[o]||(this.pool[o]=[]);var s=this.pool[o].pop();if(!s){var u=this.renderer.textureManager.boundTextures[0];t.activeTexture(t.TEXTURE0),s=new n.default(t,e,r,void 0),t.bindTexture(t.TEXTURE_2D,u._glTextures[this.renderer.CONTEXT_UID].texture),this.renderer.textureManager.currentLocation=-1}return s.resolution=i,s.defaultFrame.width=s.size.width=e/i,s.defaultFrame.height=s.size.height=r/i,s.filterPoolKey=o,s},t.prototype.emptyPool=function(){for(var t in this.pool){var e=this.pool[t];if(e)for(var r=0;r<e.length;r++)e[r].destroy(!0)}this.pool={}},t.prototype.freePotRenderTarget=function(t){this.pool[t.filterPoolKey].push(t)},t.prototype.onPreRender=function(){if(this._screenWidth!==this.renderer.width||this._screenHeight!==this.renderer.height){this._screenWidth=this.renderer.width,this._screenHeight=this.renderer.height;var t=this.pool.screen;if(t)for(var e=0;e<t.length;e++)t[e].destroy(!0);this.pool.screen=[]}},t}();e.default=l},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(113),n=r(10),o=function(){function t(t,e){this.gl=t,this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.interleaved=new Float32Array(16);for(var r=0;r<4;r++)this.interleaved[4*r]=this.vertices[2*r],this.interleaved[4*r+1]=this.vertices[2*r+1],this.interleaved[4*r+2]=this.uvs[2*r],this.interleaved[4*r+3]=this.uvs[2*r+1];this.indices=i.createIndicesForQuads(1),this.vertexBuffer=n.GLBuffer.createVertexBuffer(t,this.interleaved,t.STATIC_DRAW),this.indexBuffer=n.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.vao=new n.VertexArrayObject(t,e)}return t.prototype.initVao=function(t){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,t.attributes.aVertexPosition,this.gl.FLOAT,!1,16,0).addAttribute(this.vertexBuffer,t.attributes.aTextureCoord,this.gl.FLOAT,!1,16,8)},t.prototype.map=function(t,e){var r=0,i=0;return this.uvs[0]=r,this.uvs[1]=i,this.uvs[2]=r+e.width/t.width,this.uvs[3]=i,this.uvs[4]=r+e.width/t.width,this.uvs[5]=i+e.height/t.height,this.uvs[6]=r,this.uvs[7]=i+e.height/t.height,r=e.x,i=e.y,this.vertices[0]=r,this.vertices[1]=i,this.vertices[2]=r+e.width,this.vertices[3]=i,this.vertices[4]=r+e.width,this.vertices[5]=i+e.height,this.vertices[6]=r,this.vertices[7]=i+e.height,this},t.prototype.upload=function(){for(var t=0;t<4;t++)this.interleaved[4*t]=this.vertices[2*t],this.interleaved[4*t+1]=this.vertices[2*t+1],this.interleaved[4*t+2]=this.uvs[2*t],this.interleaved[4*t+3]=this.uvs[2*t+1];return this.vertexBuffer.upload(this.interleaved),this},t.prototype.destroy=function(){var t=this.gl;t.deleteBuffer(this.vertexBuffer),t.deleteBuffer(this.indexBuffer),this.gl=null,this.vertices=null,this.uvs=null,this.interleaved=null,this.indices=null,this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.vao.destroy()},t}();e.default=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createIndicesForQuads=void 0,e.createIndicesForQuads=function(t){for(var e=6*t,r=new Uint16Array(e),i=0,n=0;i<e;i+=6,n+=4)r[i+0]=n+0,r[i+1]=n+1,r[i+2]=n+2,r[i+3]=n+0,r[i+4]=n+2,r[i+5]=n+3;return r}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.calculateSpriteMatrix=e.calculateNormalizedScreenSpaceMatrix=e.calculateScreenSpaceMatrix=void 0;var i=r(2);e.calculateScreenSpaceMatrix=function(t,e,r){var i=t.identity();return i.translate(e.x/r.width,e.y/r.height),i.scale(r.width,r.height),i},e.calculateNormalizedScreenSpaceMatrix=function(t,e,r){var i=t.identity();i.translate(e.x/r.width,e.y/r.height);var n=r.width/e.width,o=r.height/e.height;return i.scale(n,o),i},e.calculateSpriteMatrix=function(t,e,r,n){var o=n._texture.orig,a=t.set(r.width,0,0,r.height,e.x,e.y),s=i.Matrix.TEMP_MATRIX.copy(n.worldMatrix);return s.invert(),a.prepend(s),a.scale(1/o.width,1/o.height),a.translate(n.anchorTexture.x,n.anchorTexture.y),a}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GDispatcher=void 0;var i=r(9);e.GDispatcher=new i.EventDispatcher},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r,i,n){void 0===r&&(r=null),void 0===i&&(i=null),void 0===n&&(n=null);var o=t.call(this)||this;return o._instanceType="GraphicsData",o.shape=e,o.lineStyle=i,o.fillStyle=r,o.matrix=n,o.holes=[],o.type=e.type,o.points=[],o}return n(e,t),e.prototype.clone=function(){return new e(this.shape,this.fillStyle,this.lineStyle,this.matrix)},e.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},e}(r(3).HashObject);e.default=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(118),a=r(5),s=r(0),u=function(t){function e(e,r){var i=t.call(this,e,r)||this;return i.valid=!0,i.updateUvs(),i}return n(e,t),e.prototype.resize=function(t,e,r){void 0===r&&(r=!1),t=Math.ceil(t),e=Math.ceil(e),this.valid=t>0&&e>0,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,r||this.baseTexture.resize(t,e),this.updateUvs()},e.create=function(t,r,i){return void 0===i&&(i=s.SCALE_MODES.LINEAR),new e(new o.default(t,r,i))},e}(a.default);e.default=u},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(15),a=r(0),s=function(t){function e(e,r,i){void 0===e&&(e=100),void 0===r&&(r=100),void 0===i&&(i=a.SCALE_MODES.LINEAR);var n=t.call(this,null,i)||this;return n.width=Math.ceil(e),n.height=Math.ceil(r),n.scaleMode=i,n.hasLoaded=!0,n._glRenderTargets={},n._canvasRenderTarget=null,n.valid=!1,n}return n(e,t),e.prototype.resize=function(t,e){t=Math.ceil(t),e=Math.ceil(e),t===this.width&&e===this.height||(this.valid=t>0&&e>0,this.width=t,this.height=e,this.valid&&this.dispatchEvent("update"))},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e}(o.default);e.default=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(2),n=r(0),o=function(){function t(t,e,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),this.x=t,this.y=e,this.radius=r,this.type=n.SHAPES.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.isPointIn=function(t){if(this.radius<=0)return!1;var e=this.radius*this.radius,r=this.x-t.x,i=this.y-t.y;return(r*=r)+(i*=i)<=e},t.prototype.getBounds=function(){return new i.Rectangle(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},t}();e.default=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(2),n=r(0),o=function(){function t(t,e,r,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),this.x=t,this.y=e,this.width=r,this.height=i,this.type=n.SHAPES.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.isPointIn=function(t){if(this.width<=0||this.height<=0)return!1;var e=(t.x-this.x)/this.width,r=(t.y-this.y)/this.height;return(e*=e)+(r*=r)<=1},t.prototype.getBounds=function(){return new i.Rectangle(this.x-this.width,this.y-this.height,this.width,this.height)},t}();e.default=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(19),n=r(0),o=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(Array.isArray(t[0])&&(t=t[0]),t[0]instanceof i.Point){for(var r=[],o=0,a=t.length;o<a;o++)r.push(t[o].x,t[o].y);t=r}this.closed=!0,this.points=t,this.type=n.SHAPES.POLY}return t.prototype.clone=function(){return new t(this.points.slice())},t.prototype.close=function(){var t=this.points;t[0]===t[t.length-2]&&t[1]===t[t.length-1]||t.push(t[0],t[1])},t.prototype.isPointIn=function(t){for(var e=t.x,r=t.y,i=!1,n=this.points.length/2,o=0,a=n-1;o<n;a=o++){var s=this.points[2*o],u=this.points[2*o+1],h=this.points[2*a],l=this.points[2*a+1];u>r!=l>r&&e<(r-u)/(l-u)*(h-s)+s&&(i=!i)}return i},t}();e.default=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(0),n=function(){function t(t,e,r,n,o){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===n&&(n=0),void 0===o&&(o=20),this.x=t,this.y=e,this.width=r,this.height=n;var a=(r<n?r:n)/2;o=(o=o<0?-o:o)>a?a:o,this.radius=o,this.type=i.SHAPES.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.isPointIn=function(t){var e=t.x,r=t.y;if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){if(r>=this.y+this.radius&&r<=this.y+this.height-this.radius||e>=this.x+this.radius&&e<=this.x+this.width-this.radius)return!0;var i=e-(this.x+this.radius),n=r-(this.y+this.radius),o=this.radius*this.radius;if(i*i+n*n<=o)return!0;if((i=e-(this.x+this.width-this.radius))*i+n*n<=o)return!0;if(i*i+(n=r-(this.y+this.height-this.radius))*n<=o)return!0;if((i=e-(this.x+this.radius))*i+n*n<=o)return!0}return!1},t}();e.default=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(55);e.default={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var r=t.points,n=t.holes,o=e.verts,a=e.indices;if(r.length>=6){for(var s=[],u=0;u<n.length;u++){var h=n[u];s.push(r.length/2),r=r.concat(h.points)}var l=i.earcut(r,s,2);if(!l)return;var c=o.length/2;for(u=0;u<l.length;u+=3)a.push(l[u]+c),a.push(l[u+1]+c),a.push(l[u+2]+c);for(u=0;u<r.length;u++)o.push(r[u])}}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(0);e.default={build:function(t){var e,r,n=t.shape,o=t.points,a=n.x,s=n.y;if(o.length=0,t.type===i.SHAPES.CIRC?(e=n.radius,r=n.radius):(e=n.width,r=n.height),0!==e&&0!==r){var u=Math.floor(30*Math.sqrt(n.radius))||Math.floor(15*Math.sqrt(n.width+n.height));u/=2.3;for(var h=2*Math.PI/u,l=0;l<u;l++)o.push(a+Math.sin(h*l)*e,s+Math.cos(h*l)*r);o.push(o[0],o[1])}},triangulate:function(t,e){var r=t.points,i=e.verts,n=e.indices,o=i.length/2,a=o;i.push(t.shape.x,t.shape.y);for(var s=0;s<r.length;s+=2)i.push(r[s],r[s+1]),n.push(o++,a,o)}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={build:function(t){var e=t.shape,r=e.x,i=e.y,n=e.width,o=e.height,a=t.points;a.length=0,a.push(r,i,r+n,i,r+n,i+o,r,i+o)},triangulate:function(t,e){var r=t.points,i=e.verts,n=i.length/2;i.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(n,n+1,n+2,n+1,n+2,n+3)}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(55);function n(t,e,r){return t+(e-t)*r}function o(t,e,r,i,o,a,s){void 0===s&&(s=[]);for(var u=s,h=0,l=0,c=0,f=0,d=0,p=0,v=0,_=0;v<=20;++v)h=n(t,r,_=v/20),l=n(e,i,_),c=n(r,o,_),f=n(i,a,_),d=n(h,c,_),p=n(l,f,_),u.push(d,p);return u}e.default={build:function(t){var e=t.shape,r=t.points,i=e.x,n=e.y,a=e.width,s=e.height,u=e.radius;r.length=0,r.push(i,n+u),o(i,n+s-u,i,n+s,i+u,n+s,r),o(i+a-u,n+s,i+a,n+s,i+a,n+s-u,r),o(i+a,n+u,i+a,n,i+a-u,n,r),o(i+u,n,i,n,i,n+u+1e-10,r)},triangulate:function(t,e){for(var r=t.points,n=e.verts,o=e.indices,a=n.length/2,s=i.earcut(r,null,2),u=0,h=s.length;u<h;u+=3)o.push(s[u]+a),o.push(s[u+1]+a),o.push(s[u+2]+a);for(u=0,h=r.length;u<h;u++)n.push(r[u],r[++u])}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(2),n=r(0);e.default=function(t,e){!function(t,e){var r=t.shape,o=t.points||r.points.slice();if(0===o.length)return;var a=t.lineStyle,s=new i.Point(o[0],o[1]),u=new i.Point(o[o.length-2],o[o.length-1]),h=r.type!==n.SHAPES.POLY,l=s.x===u.x&&s.y===u.y;if(l||h){o=o.slice(),l&&(o.pop(),o.pop(),u.set(o[o.length-2],o[o.length-1]));var c=u.x+.5*(s.x-u.x),f=u.y+.5*(s.y-u.y);o.unshift(c,f),o.push(c,f)}var d=e.verts,p=o.length/2,v=o.length,_=d.length/2,y=a.width/2,g=o[0],m=o[1],x=o[2],b=o[3],T=0,E=0,O=-(m-b),M=g-x,w=0,S=0,P=0,A=0,C=Math.sqrt(O*O+M*M);O/=C,M/=C,O*=y,M*=y;var D=a.alignment,R=2*(1-D),I=2*D;d.push(g-O*R,m-M*R),d.push(g+O*I,m+M*I);for(var L=1;L<p-1;++L){g=o[2*(L-1)],m=o[2*(L-1)+1],x=o[2*L],b=o[2*L+1],T=o[2*(L+1)],E=o[2*(L+1)+1],O=-(m-b),M=g-x,C=Math.sqrt(O*O+M*M),O/=C,M/=C,O*=y,M*=y,w=-(b-E),S=x-T,C=Math.sqrt(w*w+S*S),w/=C,S/=C;var j=-M+m-(-M+b),B=-O+x-(-O+g),N=(-O+g)*(-M+b)-(-O+x)*(-M+m),F=-(S*=y)+E-(-S+b),k=-(w*=y)+x-(-w+T),U=(-w+T)*(-S+b)-(-w+x)*(-S+E),V=j*k-F*B;if(Math.abs(V)<.1)V+=10.1,d.push(x-O*R,b-M*R),d.push(x+O*I,b+M*I);else{var X=(B*U-k*N)/V,G=(F*N-j*U)/V;(X-x)*(X-x)+(G-b)*(G-b)>196*y*y?(P=O-w,A=M-S,C=Math.sqrt(P*P+A*A),P/=C,A/=C,P*=y,A*=y,d.push(x-P*R,b-A*R),d.push(x+P*I,b+A*I),d.push(x-P*I*R,b-A*R),v++):(d.push(x+(X-x)*R,b+(G-b)*R),d.push(x-(X-x)*I,b-(G-b)*I))}}g=o[2*(p-2)],m=o[2*(p-2)+1],x=o[2*(p-1)],b=o[2*(p-1)+1],O=-(m-b),M=g-x,C=Math.sqrt(O*O+M*M),O/=C,M/=C,O*=y,M*=y,d.push(x-O*R,b-M*R),d.push(x+O*I,b+M*I);var W=e.indices;for(L=0;L<v-2;++L)W.push(_,_+1,_+2),_++}(t,e)}},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.clone=function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t},e.prototype.reset=function(){t.prototype.reset.call(this),this.color=0,this.width=0,this.alignment=.5,this.native=!1},e}(r(56).default);e.default=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.bezierCurveLength=e.quadraticCurveLength=e.GRAPHICS_CURVES=void 0;var i=r(130);Object.defineProperty(e,"bezierCurveTo",{enumerable:!0,get:function(){return i.default}});var n=r(131);Object.defineProperty(e,"bezierCurveControlPoint",{enumerable:!0,get:function(){return n.bezierCurveControlPoint}}),e.GRAPHICS_CURVES={adaptive:!1,maxLength:10,minSegments:8,maxSegments:2048,segmentsCount:function(t,e){if(void 0===e&&(e=20),!this.adaptive)return e;var r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}},e.quadraticCurveLength=function(t,e,r,i,n,o){var a=t-(2*r+n),s=e-(2*i+o),u=(r-2)*t*2,h=(i-2)*e*2,l=4*(a*a+s*s),c=4*(a*u+s*h),f=u*u+h*h,d=2*Math.sqrt(l+c+f),p=Math.sqrt(l),v=2*l*p,_=2*Math.sqrt(f),y=c/p;return(v*d+p*c*(d-_)+(4*f*l-c*c)*Math.log((2*p+y+d)/(y+_)))/(4*v)},e.bezierCurveLength=function(t,e,r,i,n,o,a,s){for(var u=0,h=0,l=0,c=0,f=0,d=0,p=0,v=0,_=0,y=0,g=0,m=t,x=e,b=1;b<=10;++b)y=m-(v=(p=(d=(f=1-(h=b/10))*f)*f)*t+3*d*h*r+3*f*(l=h*h)*n+(c=l*h)*a),g=x-(_=p*e+3*d*h*i+3*f*l*o+c*s),m=v,x=_,u+=Math.sqrt(y*y+g*g);return u}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r,i,n,o,a,s,u,h){void 0===h&&(h=[]);var l=0,c=0,f=0,d=0,p=0;h.push(t,e);for(var v=1,_=0;v<=u;++v)f=(c=(l=1-(_=v/u))*l)*l,p=(d=_*_)*_,h.push(f*t+3*c*_*r+3*l*d*n+p*a,f*e+3*c*_*i+3*l*d*o+p*s);return h}},function(t,e,r){"use strict";function i(t){if(t.length>2){var e=[],r=[];e[0]={x:t[0].x+(t[1].x-t[0].x)/4,y:t[0].y+(t[1].y-t[0].y)/4},r[0]=o(t,0),e[t.length-2]=n(t,t.length-2),r[t.length-2]={x:t[t.length-1].x-(t[t.length-1].x-t[t.length-2].x)/4,y:t[t.length-1].y-(t[t.length-1].y-t[t.length-2].y)/4};for(var i=1;i<t.length-2;i++)e[i]=n(t,i),r[i]=o(t,i);return{A:e,B:r}}}function n(t,e){return{x:t[e].x+(t[e+1].x-t[e-1].x)/4,y:t[e].y+(t[e+1].y-t[e-1].y)/4}}function o(t,e){return{x:t[e+1].x-(t[e+2].x-t[e].x)/4,y:t[e+1].y-(t[e+2].y-t[e].y)/4}}Object.defineProperty(e,"__esModule",{value:!0}),e.bezierCurveControlPoint=void 0,e.bezierCurveControlPoint=i},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.Shape=void 0;var o=r(5),a=r(0),s=r(1),u=function(t){function e(){var e=t.call(this)||this;e._command=[],e.hitTestByPixel=!0,e._instanceType="Shape";var r=s.createCanvas();return r.width=3,r.height=3,e.texture=o.default.fromCanvas(r,"shapeCanvas"),o.default.addToCache(e.texture,e.texture.baseTexture.textureCacheIds[0]),e.canvas=r,e.context=r.getContext("2d"),e.dirty=!0,e}return n(e,t),e.prototype.drawRoundedRect=function(t,e,r,i,n,o,a,s){void 0===n&&(n=0);var u=(r<i?r:i)/2,h=0,l=0,c=0,f=0;null==o&&(o=n),null==a&&(a=n),null==s&&(s=n),n<0&&(n*=h=-1),n>u&&(n=u),o<0&&(o*=l=-1),o>u&&(o=u),s<0&&(s*=c=-1),s>u&&(s=u),a<0&&(a*=f=-1),a>u&&(a=u);var d=this._command;return d[d.length]=[1,"moveTo",[t+r-o,e]],d[d.length]=[1,"arcTo",[t+r+o*l,e-o*l,t+r,e+o,o]],d[d.length]=[1,"lineTo",[t+r,e+i-s]],d[d.length]=[1,"arcTo",[t+r+s*c,e+i+s*c,t+r-s,e+i,s]],d[d.length]=[1,"lineTo",[t+a,e+i]],d[d.length]=[1,"arcTo",[t-a*f,e+i+a*f,t,e+i-a,a]],d[d.length]=[1,"lineTo",[t,e+n]],d[d.length]=[1,"arcTo",[t-n*h,e-n*h,t+n,e,n]],d[d.length]=[1,"closePath",[]],this},e.prototype.moveTo=function(t,e){return this._command[this._command.length]=[1,"moveTo",[t,e]],this},e.prototype.lineTo=function(t,e){return this._command[this._command.length]=[1,"lineTo",[t,e]],this},e.prototype.arcTo=function(t,e,r,i,n){return this._command[this._command.length]=[1,"arcTo",[t,e,r,i,n]],this},e.prototype.quadraticCurveTo=function(t,e,r,i){return this._command[this._command.length]=[1,"quadraticCurveTo",[t,e,r,i]],this},e.prototype.bezierCurveTo=function(t,e,r,i,n,o){return this._command[this._command.length]=[1,"bezierCurveTo",[t,e,r,i,n,o]],this},e.prototype.closePath=function(){return this._command[this._command.length]=[1,"closePath",[]],this},e.prototype.drawRect=function(t,e,r,i){var n=this._command;return n[n.length]=[1,"moveTo",[t,e]],n[n.length]=[1,"lineTo",[t+r,e]],n[n.length]=[1,"lineTo",[t+r,e+i]],n[n.length]=[1,"lineTo",[t,e+i]],n[n.length]=[1,"closePath",[]],this},e.prototype.arc=function(t,e,r,i,n,o){return void 0===o&&(o=!1),this._command[this._command.length]=[1,"arc",[t,e,r,i,n,o]],this},e.prototype.drawCircle=function(t,e,r,i){return void 0===i&&(i=!1),this._command[this._command.length]=[1,"arc",[t,e,r,0,2*Math.PI,i]],this},e.prototype.drawEllipse=function(t,e,r,i){var n=.5522848,o=r/2*n,a=i/2*n,s=t+r,u=e+i,h=t+r/2,l=e+i/2,c=this._command;return c[c.length]=[1,"moveTo",[t,l]],c[c.length]=[1,"bezierCurveTo",[t,l-a,h-o,e,h,e]],c[c.length]=[1,"bezierCurveTo",[h+o,e,s,l-a,s,l]],c[c.length]=[1,"bezierCurveTo",[s,l+a,h+o,u,h,u]],c[c.length]=[1,"bezierCurveTo",[h-o,u,t,l+a,t,l]],this},e.prototype.clear=function(){var t=this;return t._command=[],t.dirty=!0,t},e.prototype.beginFill=function(t,e){void 0===e&&(e=1);var r=s.getRGBA(s.hex2string(t),e);return this._fill(r),this},e.prototype.beginGradientFill=function(t,e){return this._fill(s.getGradientColor(t,e)),this},e.prototype.beginBitmapFill=function(t,e){var r=this;return e&&(r._isBitmapFill=e),r._fill(s.getCanvasBitmapStyle(t)),r},e.prototype._fill=function(t){var e=this._command;e[e.length]=[0,"fillStyle",t],e[e.length]=[1,"beginPath",[]],this.dirty=!0},e.prototype.beginStroke=function(t,e,r,i,n,o){void 0===e&&(e=1),void 0===r&&(r=a.LINE_CAP.BUTT),void 0===i&&(i=a.LINE_JOIN.MITER),void 0===n&&(n=0),void 0===o&&(o=1);var u=s.getRGBA(s.hex2string(t),o);return this._stroke(u,e,r,i,n),this},e.prototype.beginGradientStroke=function(t,e,r,i,n,o){return void 0===r&&(r=1),void 0===i&&(i=a.LINE_CAP.BUTT),void 0===n&&(n=a.LINE_JOIN.MITER),void 0===o&&(o=10),this._stroke(s.getGradientColor(t,e),r,i,n,o),this},e.prototype.beginBitmapStroke=function(t,e,r,i,n,o){void 0===r&&(r=1),void 0===i&&(i=a.LINE_CAP.BUTT),void 0===n&&(n=a.LINE_JOIN.MITER),void 0===o&&(o=10);var u=this;return e&&(u._isBitmapStroke=e),u._stroke(s.getCanvasBitmapStyle(t),r,i,n,o),u},e.prototype._stroke=function(t,e,r,i,n){var o=this._command;o[o.length]=[0,"lineWidth",e],o[o.length]=[0,"lineCap",r],o[o.length]=[0,"lineJoin",i],o[o.length]=[0,"miterLimit",n],o[o.length]=[0,"strokeStyle",t],o[o.length]=[1,"beginPath",[]],this.dirty=!0},e.prototype.endFill=function(){var t=this,e=t._command,r=t._isBitmapFill;return r&&(e[e.length]=[2,"setTransform",r]),e[e.length]=[1,"fill",[]],r&&(t._isBitmapFill=null),t},e.prototype.endStroke=function(){var t=this,e=t._command,r=t._isBitmapStroke;return r&&(e[e.length]=[2,"setTransform",r]),e[e.length]=[1,"stroke",[]],r&&(t._isBitmapStroke=null),t},e.prototype.updateShape=function(){var t=this;if(t.visible&&t.dirty){t.dirty=!1,t._boundsID++;var e,r,i,n,o,a,s=t._command.length,u=0,h=0,l=0;for(o=0;o<s;o++)if(1==(a=t._command[o])[0]){if("moveTo"==a[1]||"lineTo"==a[1]||"arcTo"==a[1]||"bezierCurveTo"==a[1])null==e&&(e=a[2][0]),null==r&&(r=a[2][1]),null==i&&(i=a[2][0]),null==n&&(n=a[2][1]),"bezierCurveTo"==a[1]?(e=Math.min(e,a[2][0],a[2][2],a[2][4]),r=Math.min(r,a[2][1],a[2][3],a[2][5]),i=Math.max(i,a[2][0],a[2][2],a[2][4]),n=Math.max(n,a[2][1],a[2][3],a[2][5]),u=a[2][4],h=a[2][5]):(e=Math.min(e,a[2][0]),r=Math.min(r,a[2][1]),i=Math.max(i,a[2][0]),n=Math.max(n,a[2][1]),u=a[2][0],h=a[2][1]);else if("quadraticCurveTo"==a[1]){var c=.5*(u+a[2][0]),f=.5*(h+a[2][1]),d=.5*(a[2][0]+a[2][2]),p=.5*(a[2][1]+a[2][3]);null==e&&(e=c),null==r&&(r=f),null==i&&(i=c),null==n&&(n=f),e=Math.min(e,c,d,a[2][2]),r=Math.min(r,f,p,a[2][3]),i=Math.max(i,c,d,a[2][2]),n=Math.max(n,f,p,a[2][3]),u=a[2][2],h=a[2][3]}else if("arc"==a[1]){var v=a[2][0],_=a[2][1],y=a[2][2],g=v-y,m=_-y,x=v+y,b=_+y;null==e&&(e=g),null==r&&(r=m),null==i&&(i=x),null==n&&(n=b),e=Math.min(e,g),r=Math.min(r,m),i=Math.max(i,x),n=Math.max(n,b)}}else"lineWidth"==a[1]&&l<a[2]&&(l=a[2]);if(null!=e||l>0){null==e&&(e=0,r=0);var T=(i+=20+l>>1)-(e-=20+l>>1),E=(n+=20+l>>1)-(r-=20+l>>1);t.offsetX=e,t.offsetY=r,t._localBoundsSelf.x=e+10,t._localBoundsSelf.y=r+10,t._localBoundsSelf.width=T-20,t._localBoundsSelf.height=E-20;var O=t.canvas,M=t.context;O.width=T,O.height=E,M.clearRect(0,0,T,E),M.setTransform(1,0,0,1,-e,-r),t._drawShape(M),t.anchorTexture.set(-e/T,-r/E)}else t.canvas.width=0,t.canvas.height=0,t.offsetX=0,t.offsetY=0,t._localBoundsSelf.clear(),t.anchorTexture.set(0,0);t.texture.update(),t._onTextureUpdate()}},e.prototype._drawShape=function(t){for(var e,r=this,i=r._command,n=i.length,o=r.offsetX,a=r.offsetY,s=0;s<n;s++)if((e=i[s])[0]>0){var u=e[2].length;if(0==u)t[e[1]]();else if(2==u)t[e[1]](e[2][0],e[2][1]);else if(4==u)t[e[1]](e[2][0],e[2][1],e[2][2],e[2][3]);else if(5==u)t[e[1]](e[2][0],e[2][1],e[2][2],e[2][3],e[2][4]);else if(6==u){var h=e[2][4],l=e[2][5];2==e[0]&&(h-=o,l-=a),t[e[1]](e[2][0],e[2][1],e[2][2],e[2][3],h,l)}}else t[e[1]]=e[2]},e.prototype.hitTestPoint=function(e,r){void 0===r&&(r=!1);var i=this;this.updateShape();var n=t.prototype.hitTestPoint.call(this,e,r);if(!n)return null;if(n!=i)return n;if(!i.hitTestByPixel)return i;var o=e;r&&(o=i.globalToLocal(e));var a=i._texture;if(!a||0==a.width||0==a.height)return null;o.x-=i.offsetX,o.y-=i.offsetY;var u=s.getBackupCanvasCtx();u.setTransform(1,0,0,1,0,0),u.clearRect(0,0,1,1),u.setTransform(1,0,0,1,-o.x,-o.y),u.drawImage(i.canvas,0,0);var h=u.getImageData(0,0,1,1);return h&&h.data?h.data[3]>0?i:null:i},e.prototype.changeColor=function(t){for(var e=this,r=e._command.length,i=e._command,n=0;n<r;n++)0==i[n][0]&&("fillStyle"==i[n][1]&&t.fillColor&&i[n][2]!=t.fillColor&&(i[n][2]=t.fillColor,e.dirty=!0),"strokeStyle"==i[n][1]&&t.strokeColor&&i[n][2]!=t.strokeColor&&(i[n][2]=t.strokeColor,e.dirty=!0),"lineWidth"==i[n][1]&&t.lineWidth&&i[n][2]!=t.lineWidth&&(i[n][2]=t.lineWidth,e.dirty=!0))},e.prototype.calculateBounds=function(){this.updateShape(),t.prototype.calculateBounds.call(this)},e.prototype._renderCanvas=function(e){this.updateShape(),t.prototype._renderCanvas.call(this,e)},e.prototype._renderWebGL=function(e){this.updateShape(),t.prototype._renderWebGL.call(this,e)},e.prototype.destroy=function(){var e=this;e._command=null,e._isBitmapStroke=null,e._isBitmapFill=null,t.prototype.destroy.call(this)},e}(r(13).default);e.Shape=u},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.NineSlicePlane=void 0;var o=r(58),a=r(23),s=o.calculatePlaneIndices(4,4),u=function(t){function e(e,r,i,n,o){void 0===r&&(r=10),void 0===i&&(i=10),void 0===n&&(n=10),void 0===o&&(o=10);var a=t.call(this,e)||this;return a._origWidth=e.orig.width,a._origHeight=e.orig.height,a._width=a._origWidth,a._height=a._origHeight,a._leftWidth=r,a._rightWidth=n,a._topHeight=i,a._bottomHeight=o,a._indices=s,a._vertices=new Float32Array(32),a._uvs=new Float32Array(32),a.refresh(!0),a}return n(e,t),e.prototype.updateHorizontalVertices=function(){var t=this._vertices,e=this._topHeight+this._bottomHeight,r=this._height>e?1:this._height/e;t[9]=t[11]=t[13]=t[15]=this._topHeight*r,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*r,t[25]=t[27]=t[29]=t[31]=this._height},e.prototype.updateVerticalVertices=function(){var t=this._vertices,e=this._leftWidth+this._rightWidth,r=this._width>e?1:this._width/e;t[2]=t[10]=t[18]=t[26]=this._leftWidth*r,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*r,t[6]=t[14]=t[22]=t[30]=this._width},e.prototype._renderCanvas=function(t){var e=t.context;e.globalAlpha=this._worldAlpha,t.setBlendMode(this.blendMode);var r=this.worldMatrix;e.setTransform(r.a,r.b,r.c,r.d,r.tx,r.ty);var i=this.texture.baseTexture,n=i.source,o=i.width,a=i.height;this.drawSegment(e,n,o,a,0,1,10,11),this.drawSegment(e,n,o,a,2,3,12,13),this.drawSegment(e,n,o,a,4,5,14,15),this.drawSegment(e,n,o,a,8,9,18,19),this.drawSegment(e,n,o,a,10,11,20,21),this.drawSegment(e,n,o,a,12,13,22,23),this.drawSegment(e,n,o,a,16,17,26,27),this.drawSegment(e,n,o,a,18,19,28,29),this.drawSegment(e,n,o,a,20,21,30,31)},e.prototype.drawSegment=function(t,e,r,i,n,o,a,s){var u=this._uvs,h=this._vertices,l=(u[a]-u[n])*r,c=(u[s]-u[o])*i,f=h[a]-h[n],d=h[s]-h[o];l<1&&(l=1),c<1&&(c=1),f<1&&(f=1),d<1&&(d=1),t.drawImage(e,u[n]*r,u[o]*i,l,c,h[n],h[o],f,d)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t,this._needRefresh=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t,this._needRefresh=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._needRefresh=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._needRefresh=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"topHeight",{get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._needRefresh=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._needRefresh=!0},enumerable:!1,configurable:!0}),e.prototype._refresh=function(){var t=this._uvs,e=this.texture;this._origWidth=e.orig.width,this._origHeight=e.orig.height;var r=1/this._origWidth,i=1/this._origHeight;t[0]=t[8]=t[16]=t[24]=0,t[1]=t[3]=t[5]=t[7]=0,t[6]=t[14]=t[22]=t[30]=1,t[25]=t[27]=t[29]=t[31]=1,t[2]=t[10]=t[18]=t[26]=r*this._leftWidth,t[4]=t[12]=t[20]=t[28]=1-r*this._rightWidth,t[9]=t[11]=t[13]=t[15]=i*this._topHeight,t[17]=t[19]=t[21]=t[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this._vertexDirty++,this.multiplyUvs()},e}(a.Mesh);e.NineSlicePlane=u},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.Rope=void 0;var o=function(t){function e(e,r){var i=t.call(this,e)||this;return i.points=r,i._vertices=new Float32Array(4*r.length),i._uvs=new Float32Array(4*r.length),i._indices=new Uint16Array(6*(r.length-1)),i.textureHeight=e.height,i.refresh(!0),i.refreshVertices(),i}return n(e,t),e.prototype._refresh=function(){var t=this.points;if(!(t.length<1)&&this.texture._uvs){this._vertices.length/4!==t.length&&(this._vertices=new Float32Array(4*t.length),this._uvs=new Float32Array(4*t.length),this._indices=new Uint16Array(6*(t.length-1)));var e=this._uvs,r=this._indices;e[0]=0,e[1]=0,e[2]=0,e[3]=1;for(var i=t.length,n=1;n<i;n++){var o=n/(i-1);e[s=4*n]=o,e[s+1]=0,e[s+2]=o,e[s+3]=1}var a=0;for(n=0;n<i-1;n++){var s=2*n;r[a++]=s,r[a++]=s+1,r[a++]=s+2,r[a++]=s+2,r[a++]=s+1,r[a++]=s+3}this.multiplyUvs()}},e.prototype.refreshVertices=function(){var t=this.points;if(!(t.length<1)){if(this._vertices.length/4!==t.length)return this._refresh(),void this.refreshVertices();for(var e,r=t[0],i=0,n=0,o=this._vertices,a=t.length,s=0;s<a;s++){var u=t[s],h=4*s;n=-((e=s<t.length-1?t[s+1]:u).x-r.x),i=e.y-r.y;var l=10*(1-s/(a-1));l>1&&(l=1);var c=Math.sqrt(i*i+n*n),f=this.textureHeight/2;i/=c,n/=c,i*=f,n*=f,o[h]=u.x+i,o[h+1]=u.y+n,o[h+2]=u.x-i,o[h+3]=u.y-n,r=u}this._vertexDirty++}},e.prototype.update=function(){t.prototype.update.call(this),(this.autoUpdateVertices||this.textureHeight!==this.texture.height)&&(this.textureHeight=this.texture.height,this.refreshVertices())},e}(r(23).Mesh);e.Rope=o},function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||e.hasOwnProperty(r)||i(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(r(136),e),n(r(28),e),n(r(137),e)},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.EditableText=void 0;var o=r(28),a=r(27),s=r(0),u=function(t){function e(){var e=t.call(this)||this;e._prompt="",e._promptColor="#eeeeee",e._textColor="#000000",e._instanceType="EditableText";var r=e,i=function(){r.htmlElement&&r.htmlElement.blur(),r.htmlElement.style.display="none",r.htmlElement.value?(r.text=r.htmlElement.value,r.fillColor=r.textColor):(r.text=r.prompt,r.fillColor=r.promptColor),window.scrollTo(0,0)};return e.addEventListener(a.MouseEvent.CLICK,(function(t){r.initElement(),r.htmlElement.style.font=r.size+"px "+this.font,r.htmlElement.style.color=r.textColor,r.htmlElement.style.textAlign=r.textAlign,r.htmlElement.style.height=r.textHeight+"px",r.htmlElement.style.width=r.textWidth+"px",r.text!==r.prompt&&(r.htmlElement.value=r.text),r.text="",r.htmlElement.style.display="block",r.htmlElement.focus();var e=r.transform.worldMatrix,n=r.stage._dpi||r.stage.dpi;r.htmlElement.style.transform=r.htmlElement.style.webkitTransform="matrix("+(e.a/n).toFixed(4)+","+(e.b/n).toFixed(4)+","+(e.c/n).toFixed(4)+","+(e.d/n).toFixed(4)+","+(e.tx/n).toFixed(4)+","+(e.ty/n).toFixed(4)+")",r.stage.once(a.MouseEvent.MOUSE_UP,i)})),e}return n(e,t),Object.defineProperty(e.prototype,"prompt",{get:function(){return this._prompt},set:function(t){this._prompt!=t&&(this._prompt=t,this.dirty=!0,this.htmlElement&&this.htmlElement.value||(this.text=this._prompt))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"promptColor",{get:function(){return this._promptColor},set:function(t){this._promptColor!=t&&(this._promptColor=t,this.dirty=!0,this.htmlElement&&this.htmlElement.value||(this.fillColor=this._promptColor))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textColor",{get:function(){return this._textColor},set:function(t){this._textColor!=t&&(this._textColor=t,this.dirty=!0,this.htmlElement&&this.htmlElement.value&&(this.fillColor=this._textColor))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"inputValue",{get:function(){return this.htmlElement&&this.htmlElement.value||(this.text!=this._prompt?this.text:"")},set:function(t){this.htmlElement&&(this.htmlElement.value=t),this.text=t,this.fillColor=this.textColor},enumerable:!1,configurable:!0}),e.prototype.initElement=function(){var t=this;if(!t.htmlElement){t.htmlElement=document.createElement("input");var e=t.htmlElement,r=e.style;e.type="input",r.position="absolute",r.display="none",r.transformOrigin=r.WebkitTransformOrigin=r.webkitTransformOrigin="0 0 0",r.outline="none",r.borderWidth="thin",r.borderColor="#000",e.placeholder="",r.borderStyle="none",r.backgroundColor="transparent";var i=t.stage.canvas.parentNode;i?i.insertBefore(e,i.childNodes[0]):document.body.appendChild(e),e.onblur=function(){"ios"==s.osType&&window.scrollTo({top:0,left:0,behavior:"smooth"})}}},e}(o.TextField);e.EditableText=u},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.BitmapText=void 0;var o=r(0),a=r(7),s=[],u=function(t){function e(e){var r=t.call(this)||this;return r._textAlign=o.TEXT_ALIGN.CENTER,r._verticalAlign=o.VERTICAL_ALIGN.MIDDLE,r._gap=0,r.textures=e,r}return n(e,t),Object.defineProperty(e.prototype,"textAlign",{get:function(){return this._textAlign},set:function(t){this._textAlign!==t&&(this._textAlign=t,this.adaptate())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"verticalAlign",{get:function(){return this._verticalAlign},set:function(t){this._verticalAlign!==t&&(this._verticalAlign=t,this.adaptate())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gap",{get:function(){return this._gap},set:function(t){this._gap!=t&&(this._gap=t,this.adaptate())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){if(t!==this._text){this._text=t;for(var e=t||[],r=0;r<e.length;r++)if(this.children[r])this.children[r].text=e[r];else{var i=s.shift();i?i.reset(this.textures):i=new h(this.textures),i.text=e[r],this.addChild(i)}if(this.children.length>e.length)for(r=this.children.length-1;r>=e.length;r--){var n=this.children[r];this.removeChild(n),s.push(n)}this.adaptate()}},enumerable:!1,configurable:!0}),e.prototype.adaptate=function(){if(this.children.length){for(var t,e=this.children.length,r=0,i=0;i<e;i++)r+=this.children[i].width;r+=(e-1)*this._gap,t=this._textAlign==o.TEXT_ALIGN.LEFT?0:this._textAlign==o.TEXT_ALIGN.RIGHT?-r:-r/2;for(var n=0,a=0;a<this.children.length;a++)this.children[a].x=t+n,n+=this.children[a].width+this._gap;var s=0;this._verticalAlign==o.VERTICAL_ALIGN.DOWN?s=-1:this._verticalAlign==o.VERTICAL_ALIGN.MIDDLE&&(s=-.5),this.children.forEach((function(t){t.y=t.height*s}))}},e}(a.Container);e.BitmapText=u;var h=function(t){function e(e){var r=t.call(this)||this;return r.textures=e,r}return n(e,t),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){this._text=t,this.texture=this.textures[this._text]},enumerable:!1,configurable:!0}),e.prototype.reset=function(t){this.textures=t},e}(a.Sprite)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTextureSheet=void 0;var i=r(2),n=r(5);e.createTextureSheet=function(t,e){for(var r=e,o=Object.keys(r),a=0,s={};a<o.length;){var u=o[a],h=r[u],l=null,c=null,f=new i.Rectangle(0,0,Math.floor(h.sw),Math.floor(h.sh));l=h.ro?new i.Rectangle(Math.floor(h.x),Math.floor(h.y),Math.floor(h.h),Math.floor(h.w)):new i.Rectangle(Math.floor(h.x),Math.floor(h.y),Math.floor(h.w),Math.floor(h.h)),(h.ox||h.oy||h.w!=h.sw||h.h!=h.sh)&&(c=new i.Rectangle(Math.floor(h.ox),Math.floor(h.oy),Math.floor(h.w),Math.floor(h.h)));var d=new n.default(t,l,f,c,h.ro?2:0);n.default.addToCache(d,u),s[u]=d,a++}return s}},function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||e.hasOwnProperty(r)||i(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(r(140),e),n(r(141),e),n(r(60),e),n(r(143),e),n(r(144),e),n(r(145),e),n(r(146),e)},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.Button=void 0;var o=r(13),a=r(22),s=r(59),u=function(t){function e(e,r,i){var n=t.call(this,e)||this;return n._clicked=!1,n._instanceType="Button",n.textureUp=e,n.textureDown=r===e?null:r,n.textureDisable=i||e,n.textureUp&&(n.anchorX=n.textureUp.width/2,n.anchorY=n.textureUp.height/2),n.initButton(),n}return n(e,t),e.prototype.changeTexture=function(t,e,r){this.textureUp=t,this.textureDown=e===t?null:e,this.textureDisable=r||t,this.textureUp&&(this.anchorX=this.textureUp.width/2,this.anchorY=this.textureUp.height/2),this._clicked&&this.textureDown?this.texture=this.textureDown:this.mouseEnable||this.textureStatusEnable?this.texture=this.textureUp:this.texture=this.textureDisable},e.prototype._mouseEvent=function(t){var e=this;e._clicked||(t.type==a.MouseEvent.MOUSE_DOWN?e.textureDown?e.texture=e.textureDown:(this.frames=null,s.default.removeTweens(this),s.default.get(this).to({scaleX:.9,scaleY:.9},50)):e.textureDown?e.texture=e.textureUp:(this.frames=this.framesOri,s.default.removeTweens(this),s.default.get(this).to({scaleX:1,scaleY:1},50)))},e.prototype.initButton=function(){var t=this;t.mouseChildren=!1,t.addEventListener("onMouseDown",t._mouseEvent,t),t.addEventListener("onMouseUp",t._mouseEvent,t),t.addEventListener("onMouseOut",t._mouseEvent,t),t.texture=t.textureUp},Object.defineProperty(e.prototype,"clicked",{get:function(){return this._clicked},set:function(t){var e=this;t!=e._clicked&&(t&&e._mouseEvent({type:"onMouseDown"}),e._clicked=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textureStatusEnable",{set:function(t){t?this.texture=this.textureUp:this.textureDisable&&(this.texture=this.textureDisable,this.frames=null)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"enabled",{set:function(t){this.mouseEnable=t,this.textureStatusEnable=t},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){this.textureUp=null,this.textureDown=null,this.textureDisable=null,s.default.removeTweens(this),t.prototype.destroy.call(this)},e}(o.default);e.Button=u},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.FrameAni=void 0;var o=r(4),a=r(13),s=function(t){function e(e){var r=t.call(this)||this;return r.loop=1,r.count=0,r.showImage=new a.default,r.showImage.anchorTexture.set(.5,.5),r.addChild(r.showImage),r.texturesAll=e,r.currentFrame=0,r.addEventListener(o.Event.ENTER_FRAME,r.onEnterFrame,r),r.frameRate=30,r}return n(e,t),Object.defineProperty(e.prototype,"currentFrame",{set:function(t){this.texturesAll[t]?this.showImage.texture=this.texturesAll[t]:this.showImage.texture=null},enumerable:!1,configurable:!0}),e.prototype.getCurrentFrame=function(){return this.texturesAll.indexOf(this.showImage.texture)},Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this.texturesAll.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frameRate",{get:function(){return this._frameRate},set:function(t){this._frameRate=t,this.allTime=this.texturesAll.length/this._frameRate*1e3},enumerable:!1,configurable:!0}),e.prototype.onEnterFrame=function(){if(this.isPlay){var t=(Date.now()-this.startTime)/this.allTime;t>=1?(this.loop--,0==this.loop?(this.isPlay=!1,this.callback&&this.callback()):(this.startTime=Date.now(),this.currentFrame=0)):this.currentFrame=t*this.texturesAll.length>>0}},e.prototype.play=function(t,e){void 0===t&&(t=1),this.startTime=Date.now(),this.isPlay=!0,this.currentFrame=0,this.loop=t,this.callback=e},e.prototype.reset=function(t){void 0===t&&(t=0),this.isPlay=!1,this.currentFrame=t},e.prototype.resetTexturesAll=function(t){this.texturesAll=t,this.currentFrame=0,this.frameRate=30},e}(r(7).Container);e.FrameAni=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ease=void 0;var i=function(){function t(){}return t.get=function(t){return t<-1&&(t=-1),t>1&&(t=1),function(e){return 0==t?e:t<0?e*(e*-t+1+t):e*((2-e)*t+(1-t))}},t.getPowIn=function(t){return function(e){return Math.pow(e,t)}},t.getPowOut=function(t){return function(e){return 1-Math.pow(1-e,t)}},t.getPowInOut=function(t){return function(e){return(e*=2)<1?.5*Math.pow(e,t):1-.5*Math.abs(Math.pow(2-e,t))}},t.sineIn=function(t){return 1-Math.cos(t*Math.PI/2)},t.sineOut=function(t){return Math.sin(t*Math.PI/2)},t.sineInOut=function(t){return-.5*(Math.cos(Math.PI*t)-1)},t.getBackIn=function(t){return function(e){return e*e*((t+1)*e-t)}},t.getBackOut=function(t){return function(e){return--e*e*((t+1)*e+t)+1}},t.getBackInOut=function(t){return t*=1.525,function(e){return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}},t.circIn=function(t){return-(Math.sqrt(1-t*t)-1)},t.circOut=function(t){return Math.sqrt(1- --t*t)},t.circInOut=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},t.bounceIn=function(e){return 1-t.bounceOut(1-e)},t.bounceOut=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},t.bounceInOut=function(e){return e<.5?.5*t.bounceIn(2*e):.5*t.bounceOut(2*e-1)+.5},t.getElasticIn=function(t,e){var r=2*Math.PI;return function(i){if(0==i||1==i)return i;var n=e/r*Math.asin(1/t);return-t*Math.pow(2,10*(i-=1))*Math.sin((i-n)*r/e)}},t.getElasticOut=function(t,e){var r=2*Math.PI;return function(i){if(0==i||1==i)return i;var n=e/r*Math.asin(1/t);return t*Math.pow(2,-10*i)*Math.sin((i-n)*r/e)+1}},t.getElasticInOut=function(t,e){var r=2*Math.PI;return function(i){var n=e/r*Math.asin(1/t);return(i*=2)<1?t*Math.pow(2,10*(i-=1))*Math.sin((i-n)*r/e)*-.5:t*Math.pow(2,-10*(i-=1))*Math.sin((i-n)*r/e)*.5+1}},t.quadIn=t.getPowIn(2),t.quadOut=t.getPowOut(2),t.quadInOut=t.getPowInOut(2),t.cubicIn=t.getPowIn(3),t.cubicOut=t.getPowOut(3),t.cubicInOut=t.getPowInOut(3),t.quartIn=t.getPowIn(4),t.quartOut=t.getPowOut(4),t.quartInOut=t.getPowInOut(4),t.quintIn=t.getPowIn(5),t.quintOut=t.getPowOut(5),t.quintInOut=t.getPowInOut(5),t.backIn=t.getBackIn(1.7),t.backOut=t.getBackOut(1.7),t.backInOut=t.getBackInOut(1.7),t.elasticIn=t.getElasticIn(1,.3),t.elasticOut=t.getElasticOut(1,.3),t.elasticInOut=t.getElasticInOut(1,.3*1.5),t}();e.Ease=i},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollList=void 0;var o=r(60),a=r(4),s=function(t){function e(e,r,i,n,o,s,u){void 0===s&&(s=!0),void 0===u&&(u=1);var h=t.call(this,n,o,0,s)||this;h._items=null,h._isInit=0,h.data=[],h.downL=null,h._lastFirstId=-1,h._updateId=-1;var l=h;return l._instanceType="ScrollList",l._itemW=r,l._itemH=i,l._items=[],l._itemClass=e,l._itemCount=0,l._cols=u,l._updateViewRect(),l.addEventListener(a.Event.ENTER_FRAME,l.flushData.bind(l)),h}return n(e,t),Object.defineProperty(e.prototype,"loadingView",{get:function(){return this.downL},enumerable:!1,configurable:!0}),e.prototype.updateData=function(t,e){void 0===e&&(e=!0);var r=this;if(!r._isInit||e?r.data=t:r.data=r.data.concat(t),r._isInit=1,r._lastFirstId=-1,r._updateId=-1,r.maxDistance=Math.ceil(r.data.length/r._cols)*r._itemRow,r.downL){r.downL[r.paramXY]=Math.max(r.distance,r.maxDistance);var i=r.downL.getWH();r.maxDistance+="x"==r.paramXY?i.width:i.height}},e.prototype.flushData=function(){var t=this;if(t._isInit>0&&t._updateId!=t.view.transform._localID){t._updateId=t.view.transform._localID;var e=t.view[t.paramXY]>0?0:(Math.abs(Math.floor(t.view[t.paramXY]/t._itemRow))-1)*t._cols;if((e=e<0?0:e)!=t._lastFirstId&&(t._lastFirstId=e,e!=t._items[0].id))for(var r=0;r<t._cols;r++)t.speed>0?t._items.unshift(t._items.pop()):t._items.push(t._items.shift());for(var i=0;i<t._itemCount;i++){var n=t._items[i];1==t._isInit&&(n.sli_id=-1),n.sli_id!=e&&(n.initData(t.data[e]?e:-1,t.data[e]),n[t.paramXY]=Math.floor(e/t._cols)*t._itemRow,n[t._disParam]=e%t._cols*t._itemCol,t.data[e]?(n.sli_id=e,n.visible=!0):(n.sli_id=-1,n.visible=!1)),e++}t._isInit=2}},e.prototype.setViewRect=function(e,r,i){t.prototype.setViewRect.call(this,e,r,i);var n=this;n._itemRow&&n._itemCol&&n._updateViewRect()},e.prototype._updateViewRect=function(){var t=this;t.isVertical?(t._disParam="x",t._itemRow=t._itemH,t._itemCol=t._itemW):(t._disParam="y",t._itemRow=t._itemW,t._itemCol=t._itemH);var e=(Math.ceil(t.distance/t._itemRow)+1)*t._cols;if(e!=t._itemCount){if(e>t._itemCount)for(var r=t._itemCount;r<e;r++){var i=new t._itemClass;i.id=-1,i.data=null,t._items.push(i),t.view.addChild(i)}else for(r=0;r<t._itemCount-e;r++)t.view.removeChild(t._items.pop());t._itemCount=e,t._lastFirstId=-1}},e.prototype.setLoading=function(t){var e=this;if(e.downL){e.view.removeChild(e.downL);var r=e.downL.getWH();e.maxDistance-="x"==e.paramXY?r.width:r.height,e.downL=null}if(t){e.downL=t,e.view.addChild(t),e.downL[e.paramXY]=Math.max(e.distance,e.maxDistance);r=e.downL.getWH();e.maxDistance+="x"==e.paramXY?r.width:r.height}else e.isStop=!1},e.prototype.destroy=function(){var e=this;e._items=null,e._itemClass=null,e.data=null,e.downL=null,t.prototype.destroy.call(this)},e}(o.ScrollPage);e.ScrollList=s},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.ShowWord=void 0;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.playWords=function(t,e,r){var i=this;void 0===e&&(e=100);for(var n=t.split("\n"),o=[],a=0;a<n.length;a++){for(var s=n[a],u="",h=0;h<a;)u+=n[h],u+="\n",h++;for(var l=0;l<s.length;l++){var c=""+u;c+=s.substring(0,l+1),o.push(c)}}for(var f=function(t){var n=o[t];setTimeout((function(){i.text=n,t==o.length-1&&r&&r()}),e*t)},d=0;d<o.length;d++)f(d)},e}(r(28).TextField);e.ShowWord=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.MovieClip=void 0;var o=r(8),a=r(5),s=r(13),u=r(4),h=r(1),l=r(2),c=r(17),f=function(t){function e(e){var r=t.call(this)||this;r.lockStep=!1,r._curFrame=1,r._isPlaying=!0,r._isFront=!0,r.frameCount=0,r._lastFrame=0,r.commonDeltaTime=1e3/60;var i=r;return i._instanceType="MovieClip",e&&i.init(e),r}return n(e,t),Object.defineProperty(e.prototype,"currentFrame",{get:function(){return this._curFrame},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isPlaying",{get:function(){return this._isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isFront",{get:function(){return this._isFront},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this.rawData&&this.rawData.frames||0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"videoWidth",{get:function(){return this.rawData&&this.rawData.videoSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"videoHeight",{get:function(){return this.rawData&&this.rawData.videoSize.height},enumerable:!1,configurable:!0}),e.prototype.init=function(t){if(t){if(this.rawData=t,this.timeInterval=1e3/t.FPS,this.startTime=Date.now(),this.startFrame=1,this.deltaFrame=60/t.FPS,this.frameCount=this.deltaFrame,this._curFrame=1,t.images&&!t.textures)for(var e in t.textures={},t.images){var r=t.images[e];0!==r.indexOf("iVBO")&&0!==r.indexOf("/9j/2w")||(r="data:image/png;base64,"+r);var i=h.createImage();i.src=r,t.textures[e]=new a.default(new c.BaseTexture(i))}this.initChildren(t.sprites)}},e.prototype.initChildren=function(t){for(var e=0,r=t.length;e<r;e++){var i=t[e];if(i.imageKey){var n=this.addChild(new s.default(this.rawData.textures?this.rawData.textures[i.imageKey]:h.TextureCache[i.imageKey]||h.TextureCache[i.imageKey+".png"]||null));n.frames=i.frames,i.frames[0].alpha<.05?n.alpha=0:(n.alpha=i.frames[0].alpha,n.transform.localMatrix.copy(i.frames[0].transform),n.transform._parentID=-1),n.framesOri=i.frames,n.imageKey=i.imageKey}}},e.prototype.setImage=function(t,e){for(var r=[],i=0;i<this.children.length;i++)this.children[i].imageKey==t&&r.push(this.children[i]);if(r.length){var n=r[0].texture,o=n.width,s=n.height,u=h.createImage();u.onload=function(){var t;if(u.width==o&&u.height==s)t=a.default.from(u);else{var e=h.createCanvas();e.width=o,e.height=s;var i=e.getContext("2d"),n=o/s,l=u.width/u.height;n>l?i.drawImage(u,0,0,u.width,u.height,(o-l*s)/2,0,l*s,s):i.drawImage(u,0,0,u.width,u.height,0,(s-o/l)/2,o,o/l),t=a.default.fromCanvas(e)}r.forEach((function(e){e.texture=t}))},u.src=e}},e.prototype.stop=function(){this._isPlaying=!1},e.prototype.nextFrame=function(){var t=this;t._curFrame<t.totalFrames&&t._curFrame++,t._isPlaying=!1},e.prototype.prevFrame=function(){var t=this;t._curFrame>1&&t._curFrame--,t._isPlaying=!1},e.prototype.gotoAndStop=function(t){var e=this;e._isPlaying=!1,t>e.totalFrames&&(t=e.totalFrames),t<1&&(t=1),e._curFrame=t},e.prototype.play=function(t){void 0===t&&(t=!0);var e=this;e.frameCount=e.deltaFrame,e.startTime=Date.now(),e.startFrame=e._curFrame,e._isPlaying=!0,e._isFront=t},Object.defineProperty(e.prototype,"isInTimeFrame",{get:function(){return this.frameCount==this.deltaFrame},enumerable:!1,configurable:!0}),e.prototype.gotoAndPlay=function(t,e){void 0===e&&(e=!0);var r=this;r._isFront=e,r._isPlaying=!0,t>r.totalFrames&&(t=r.totalFrames),t<1&&(t=1),r.frameCount=r.deltaFrame,r.startTime=Date.now(),r._curFrame=t,r.startFrame=r._curFrame},e.prototype.startAniRange=function(t,e,r,i){var n=this;if(void 0===t&&(t=1),void 0===e&&(e=this.totalFrames),void 0===r&&(r=1),t=t||1,e=e||this.totalFrames,r=r||0,r=Math.max(0,r),t<1&&(t=1),t>this.totalFrames&&(t=this.totalFrames),e<1&&(e=1),e>this.totalFrames&&(e=this.totalFrames),t!==e){this._isFront=t<e,this.startAniRangeFun&&this.removeEventListener(u.Event.ENTER_FRAME,this.startAniRangeFun,this),this._curFrame=t,this.frameCount=this.deltaFrame,this.startTime=Date.now(),this.startFrame=this._curFrame,this._isPlaying=!0;var o=r?r+.5>>0:1/0;this.addEventListener(u.Event.ENTER_FRAME,this.startAniRangeFun=function(r){r.target._isFront?(r.target.currentFrame>=e||r.target._endMark)&&(--o<=0?(r.target.gotoAndStop(e),r.target.removeEventListener(u.Event.ENTER_FRAME,n.startAniRangeFun,n),n.startAniRangeFun=null,i&&i()):r.target.gotoAndPlay(t)):(r.target.currentFrame<=t||r.target._endMark)&&(--o<=0?(r.target.gotoAndStop(t),r.target.removeEventListener(u.Event.ENTER_FRAME,n.startAniRangeFun,n),n.startAniRangeFun=null,i&&i()):r.target.gotoAndPlay(e,!1))},this)}else this.gotoAndStop(t)},e.prototype.updateFrame=function(){var t=this;if(0!=t.totalFrames&&1!=t.totalFrames){var e=!1;if(t._lastFrame!=t._curFrame?(e=!0,t._lastFrame=t._curFrame,t.startTime=Date.now(),t.startFrame=t._curFrame,t._endMark=!1):t._isPlaying&&(t.lockStep?e=t.getCurFrameWhenLockStep():0==--t.frameCount&&(t.frameCount=t.deltaFrame,e=!0,t._isFront?(t._curFrame++,t._curFrame>t.totalFrames&&(t._curFrame=1)):(t._curFrame--,t._curFrame<1&&(t._curFrame=t.totalFrames)),t._lastFrame=t._curFrame)),e){for(var r=0,i=t.children.length;r<i;r++){var n=t.children[r];if(n.frames&&n.frames[t._curFrame-1]){var o=n.frames[t._curFrame-1];o.alpha<.05?n.alpha=0:(n.alpha=o.alpha,l.Matrix.isEqual(n.transform.localMatrix,o.transform)||(n.transform.localMatrix.copy(o.transform),n.transform._parentID=-1))}}t.lockStep?t._endMark&&t.hasEventListener(u.Event.END_FRAME)&&t.dispatchEvent(u.Event.END_FRAME,{frameIndex:t._curFrame,frameName:"endFrame"}):(1==t._curFrame&&!t._isFront||t._curFrame==t.totalFrames&&t._isFront)&&t.hasEventListener(u.Event.END_FRAME)&&t.dispatchEvent(u.Event.END_FRAME,{frameIndex:t._curFrame,frameName:"endFrame"})}}},e.prototype.getCurFrameWhenLockStep=function(){var t=(Date.now()-this.startTime)/this.timeInterval>>0;return t==this.lastDeltaFrame?(this.frameCount=0,!1):(this._endMark=!1,this.frameCount=this.deltaFrame,this.lastDeltaFrame=t,this._isFront?(this._curFrame=(this.startFrame+t)%this.totalFrames,0==this._curFrame?(this._curFrame=this.totalFrames,this._endMark=!0):this._lastFrame>this._curFrame&&this._lastFrame!=this.totalFrames&&(this._endMark=!0)):(this._curFrame=(this.startFrame-t)%this.totalFrames,0==this._curFrame?this._curFrame=this.totalFrames:this._curFrame<0&&(this._curFrame+=this.totalFrames),(1==this._curFrame||this._lastFrame<this._curFrame&&1!=this._lastFrame)&&(this._endMark=!0)),this._lastFrame=this._curFrame,!0)},e.prototype.update=function(){this.updateFrame(),t.prototype.update.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e}(o.default);e.MovieClip=f},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.lottieToSvgaData=e.Lottie=void 0;var o=r(1),a=r(29),s=r(17),u=r(7),h=r(61),l=r(147),c=r(148),f=function(t){function e(e){var r=t.call(this)||this;return r.deltaFrame=1,r._instanceType="Lottie",e&&r.init(e),r}return n(e,t),Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this.rawData&&this.rawData.op-this.rawData.ip||0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"videoWidth",{get:function(){return this.rawData&&this.rawData.w||0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"videoHeight",{get:function(){return this.rawData&&this.rawData.h||0},enumerable:!1,configurable:!0}),e.prototype.init=function(t){t&&(this.rawData=t,this.timeInterval=1e3/t.fr,this.deltaFrame=60/t.fr,this.name=t.nm,t.assets&&!t.textures&&(t.textures={},t.assets.forEach((function(e){var r=o.createImage();r.src=e.p,t.textures[e.id]=new s.Texture(new s.BaseTexture(r))}))),this.initChildren())},e.prototype.initChildren=function(){for(var t=this.rawData.layers.slice(),e=t.length-1;e>=0;e--){var r=t[e];this.addChild(new u.Sprite(r.refId?this.rawData.textures?this.rawData.textures[r.refId]:o.TextureCache[r.refId]||o.TextureCache[r.refId+".png"]:null)).layerData=r}this.initState()},e.prototype.initState=function(t){void 0===t&&(t=this.children);for(var e=0;e<t.length;e++){var r=t[e];if(r.layerData){var i=r.layerData;r.alpha=i.ks.o.k[0]?i.ks.o.k[0].s[0]/100:i.ks.o.k/100,r.rotation=i.ks.r.k[0]?i.ks.r.k[0].s[0]:i.ks.r.k;var n="number"==typeof i.ks.a.k[0]?i.ks.a.k:i.ks.a.k[0].s;r.anchor.set(n[0],n[1]);n="number"==typeof i.ks.p.k[0]?i.ks.p.k:i.ks.p.k[0].s;r.position.set(n[0]-r.anchorX,n[1]-r.anchorY);n="number"==typeof i.ks.s.k[0]?i.ks.s.k:i.ks.s.k[0].s;r.scale.set(n[0]/100,n[1]/100),r.visible=i.ip<=0}r.children.length&&this.initState(r.children)}},e.prototype.play=function(t,e){void 0===t&&(t=0),this.stop(!0),this.loops=t,this.callback=e,this.addTweens()},e.prototype.stop=function(t){void 0===t&&(t=!1),a.Tween.removeTweens(this),this.children.forEach((function(t){a.Tween.removeTweens(t)})),t&&this.initState()},e.prototype.addTweens=function(t){var e=this;void 0===t&&(t=this.children);for(var r,i,n,o=function(){var e=t[u];if(e.layerData){var o=e.layerData;o.ks.o.k.length&&s.addTween(e,"o"),o.ks.r.k.length&&s.addTween(e,"r"),"number"!=typeof o.ks.p.k[0]&&s.addTween(e,"p"),"number"!=typeof o.ks.s.k[0]&&s.addTween(e,"s"),r=a.Tween.get(e,{loop:!0}),(o.ip>0||o.op<s.rawData.op)&&(i=o.ip<0?0:o.ip,n=o.op>s.rawData.op?s.rawData.op:o.op,r.wait(i*s.timeInterval).call((function(){e.visible=!0})).wait((n-i)*s.timeInterval).call((function(){e.visible=!1})).wait((s.rawData.op-n)*s.timeInterval))}e.children.length&&s.addTweens(e.children)},s=this,u=0;u<t.length;u++)o();a.Tween.get(this,{loop:!0}).wait((this.rawData.op-this.rawData.ip)*this.timeInterval).call((function(){0==--e.loops&&(e.stop(),e.callback&&e.callback())}))},e.prototype.addTween=function(t,e){var r=t.layerData.ks[e].k,i=a.Tween.get(t,{loop:!0}),n=0;if(t.layerData.ks[e].x){var o=t.layerData.ks[e].x,s=+o.replace(/[^0-9]/gi,"");if(o.indexOf("loopOut")>=0){for(var u=[],h=0,l=0;l<r.length;l++){if((w=r[l]).t>t.layerData.op)break;var c=(E=w.t-h)*this.timeInterval,f=P(w);0==l&&w.t>0?(i.wait(c),n+=c):0==l&&0==w.t?(i.set(f),u.push({obj:f,deltaT:E,deltaTime:c,isSet:!0})):w.t-h==1||1===w.h?(i.wait(c).set(f),u.push({obj:f,deltaT:E,deltaTime:c,isSet:!0}),n+=c):(i.to(f,c),u.push({obj:f,deltaT:E,deltaTime:c}),n+=c),h=w.t}if(o.indexOf("pingpong")>=0&&r[r.length-1].t<t.layerData.op){var v=Math.round((t.layerData.op-r[r.length-1].t)/(r[r.length-1].t-r[0].t));h+=v*(r[r.length-1].t-r[0].t);for(var _=!1;--v;){if(_)for(var y=0;y<u.length;y++)i.to(u[y].obj,u[y].deltaTime),n+=u[y].deltaTime;else for(y=u.length-1;y>=1;y--)i.to(u[y-1].obj,u[y].deltaTime),n+=u[y].deltaTime;_=!_}}else if(o.indexOf("cycle")>=0&&r[r.length-1].t<t.layerData.op){for(var g=r.length-1,m=Math.floor((t.layerData.op-r[g].t)/(r[g].t-r[g-(s||g)].t)),x=u.slice(-s);m;){m--;for(y=0;y<x.length;y++)x[y].isSet?i.wait(x[y].deltaTime).set(x[y].obj):i.to(x[y].obj,x[y].deltaTime),n+=x[y].deltaTime}var b=(t.layerData.op-r[g].t)%(r[g].t-r[g-(s||g)].t);for(y=0;y<x.length;y++){if(!(x[y].deltaT<=b)){if(b>0){var T=d(0==y?p(x[y].obj,i._initQueueProps):x[y-1].obj,x[y].obj,b/x[y].deltaT);i.to(T,b*this.timeInterval),n+=b*this.timeInterval}break}x[y].isSet?i.wait(x[y].deltaTime).set(x[y].obj):i.to(x[y].obj,x[y].deltaTime),b-=x[y].deltaT,n+=x[y].deltaTime}}}else if(o.indexOf("loopIn")>=0){for(u=[],h=0,l=0;l<r.length;l++){var E;c=(E=(w=r[l]).t-h)*this.timeInterval,f=P(w);w.t-h==1||1===w.h?u.push({obj:f,deltaT:E,deltaTime:c,isSet:!0,timeOri:w.t}):u.push({obj:f,deltaT:E,deltaTime:c,timeOri:w.t}),h=w.t}if(o.indexOf("pingpong")>=0&&r[0].t>0){u=function(t,e,r){var i=t[0].deltaT;e>=t.length&&(e=0);var n=t.slice(0,e?e+1:t.length),o=t[0].deltaTime/t[0].deltaT,a=[],s=!0,u=0,h=0;for(;i>0;){s?u++:u--,u>n.length-1?(s=!1,u-=2):u<0&&(s=!0,u+=2);var l=Math.abs(n[h].timeOri-n[u].timeOri);a.unshift({obj:n[h].obj,deltaT:l,deltaTime:l*o,timeOri:n[h].timeOri,isSet:n[h].isSet}),h=u,i-=l}a.unshift({obj:n[h].obj,deltaT:0,deltaTime:0,timeOri:n[h].timeOri,isSet:!0});for(var c=1;c<t.length&&!(t[c].timeOri>r);c++)a.push(t[c]);return a}(u,s,t.layerData.op);for(y=0;y<u.length;y++)u[y].isSet?i.wait(u[y].deltaTime).set(u[y].obj):i.to(u[y].obj,u[y].deltaTime),n+=u[y].deltaTime}else if(o.indexOf("cycle")>=0&&r[0].t>0){u=function(t,e,r,i){void 0===i&&(i=0);var n=t[0].deltaT-i;e>=t.length&&(e=0);var o=t.slice(0,e?e+1:t.length),a=[],s=0;for(;n>0;)--s<0&&(s=o.length-1),s?(a.unshift(o[s]),n-=o[s].deltaT):a.unshift({obj:o[0].obj,deltaT:0,deltaTime:0,timeOri:o[0].timeOri,isSet:!0});a.unshift({obj:o[0].obj,deltaT:0,deltaTime:0,timeOri:o[0].timeOri,isSet:!0}),a.push({obj:o[0].obj,deltaT:0,deltaTime:0,isSet:!0});for(var u=1;u<t.length&&!(t[u].timeOri>r);u++)a.push(t[u]);return a}(u,s,t.layerData.op,t.layerData.ip),t.layerData.ip&&(i.wait(t.layerData.ip*this.timeInterval),n+=t.layerData.ip*this.timeInterval);for(y=0;y<u.length;y++)u[y].isSet?i.wait(u[y].deltaTime).set(u[y].obj):i.to(u[y].obj,u[y].deltaTime),n+=u[y].deltaTime}var O=Math.min(t.layerData.op,this.rawData.op);if(n<O*this.timeInterval){var M=O*this.timeInterval-n;i.wait(M),n+=M}}t.layerData.op<this.rawData.op&&(i.wait((this.rawData.op-t.layerData.op)*this.timeInterval),n+=(this.rawData.op-t.layerData.op)*this.timeInterval)}else{for(h=0,l=0;l<r.length;l++){var w;f=P(w=r[l]),c=void 0;if(w.t<0){if(!r[l+1]||r[l+1].t<0)break;f=d(f,P(r[l+1]),-w.t/(r[l+1].t-w.t)),i.set(f),h=0}else if(w.t>this.rawData.op){if(!r[l-1]||r[l-1].t>this.rawData.op)break;var S=this.rawData.op-r[l-1].t;c=S*this.timeInterval,f=d(P(r[l-1]),f,S/(w.t-r[l-1].t)),i.to(f,c),n+=c,h=this.rawData.op}else c=(w.t-h)*this.timeInterval,0==l&&w.t>0?i.wait(c):0==l&&0==w.t?i.set(f):i.to(f,c),n+=c,h=w.t}this.rawData.op>h&&i.wait((this.rawData.op-h)*this.timeInterval)}function P(r){var i;switch(e){case"r":i={rotation:r.s[0]};break;case"o":i={alpha:r.s[0]/100};break;case"s":i={scaleX:r.s[0]/100,scaleY:r.s[1]/100};break;case"p":i={x:r.s[0]-t.anchorX,y:r.s[1]-t.anchorY}}return i}},e.prototype.updateTransform=function(){var t=this;this.displayObjectUpdateTransform(),this.children.forEach((function(e){t._recursivePostUpdateTransformAA(e)})),this.children.forEach((function(t){t.mark=!1}))},e.prototype.findChildByInd=function(t){for(var e=0;e<this.children.length;e++)if(this.children[e].layerData&&this.children[e].layerData.ind===t)return this.children[e];return null},e.prototype._recursivePostUpdateTransformAA=function(t){if(t.layerData&&t.layerData.parent){var e=this.findChildByInd(t.layerData.parent);this._recursivePostUpdateTransformAA(e),t.mark||(t.mark=!0,t.transform.updateWorldMatrix(e.transform),t._worldAlpha=t.alpha*t.parent._worldAlpha)}else t.mark||(t.updateTransform(),t.mark=!0)},e.prototype.startAniRange=function(t,e,r,i){void 0===t&&(t=1),void 0===e&&(e=this.totalFrames),void 0===r&&(r=1),this.play(r,i)},e.prototype.destroy=function(){a.Tween.removeTweens(this),this.children.forEach((function(t){a.Tween.removeTweens(t)})),t.prototype.destroy.call(this)},e}(u.Container);function d(t,e,r){var i={};for(var n in t)i[n]=(e[n]-t[n])*r+t[n];return i}function p(t,e){var r={};if(!t)return r;for(var i in t)r[i]=e[i];return r}e.Lottie=f;var v,_=0;function y(t){var e=t.ks;t.ip,t.op;if(e.o.k.length)g(t,"o");else{var r=e.o.k/100;e.o.props=T([r])}if(e.r.k.length?g(t,"r"):e.r.props=T([e.r.k]),"number"!=typeof e.p.k[0])g(t,"p");else{var i="number"==typeof e.a.k[0]?e.a.k:e.a.k[0].s,n=e.p.k;e.p.props=T([n[0]-i[0],n[1]-i[1]])}if("number"!=typeof e.s.k[0])g(t,"s");else{var o=e.s.k;e.s.props=T([o[0]/100,o[1]/100])}}function g(t,e){var r=t.ks[e].k,i=(t.ip,t.op,t.ks),n="number"==typeof i.a.k[0]?i.a.k:i.a.k[0].s,o=[],a=i[e].props=[];a.length=_+1;for(var s=0;s<r.length;s++){var u=r[s],f=void 0;switch(e){case"r":f=[u.s[0]];break;case"o":f=[u.s[0]/100];break;case"s":f=[u.s[0]/100,u.s[1]/100,0];break;case"p":f=[u.s[0]-n[0],u.s[1]-n[1],0]}o.push({i:u.i,o:u.o,ti:u.ti,to:u.to,h:1===u.h,value:f,frame:u.t})}for(var d=0;d<o.length-1;d++){var p=o[d],v=o[d+1];if(p.to){var y=h.getBezierEasing(p.o.x,p.o.y,p.i.x,p.i.y).get;l.buildBezierProps(p.value,v.value,p.to,p.ti,p.frame,v.frame,a,y,i[e].x?void 0:_)}else c.buildBezierEaserProps(p.value,v.value,p.o,p.i,p.frame,v.frame,a,p.h,i[e].x?void 0:_)}if(o[o.length-1].h&&(a[o[o.length-1].frame]=o[o.length-1].value.slice()),i[e].x&&(i[e].x.indexOf("loopOut")>=0||i[e].x.indexOf("loopIn")>=0)){var g=i[e].x,m=g.indexOf("loopOut")>=0,x=(g.indexOf("loopIn"),+g.replace(/[^0-9]/gi,""));x>o.length-1&&(x=0);for(var T=a.slice(),E=g.indexOf("cycle")>=0,O=g.indexOf("pingpong")>=0,M=!1,w=o.length-1,S=m?o[w].frame:o[0].frame,P=m?o[w-(x||w)].frame:o[0].frame,A=m?o[w].frame-P:o[0+(x||w)].frame-P;m?S<=_:S>=0;)if(O)b(M?function(t){m?a[++S]=T[t+1+P].slice():a[--S]=T[A-1-t+P].slice()}:function(t){m?a[++S]=T[A-1-t+P].slice():a[--S]=T[t+1+P].slice()},A),M=!M;else{if(!E)break;b((function(t){m?a[++S]=T[t+1+P].slice():a[--S]=T[A-1-t+P].slice()}),A)}}var C=function(t){for(var e=null,r=null,i=!!t[0],n=1;n<t.length;n++){if(i){if(void 0===t[n]){r=n-1;break}}else void 0!==t[n]&&(e=n);i=!!t[n]}return[e,r]}(a);if(null!==C[0])for(var D=C[0],R=a[D];D--;)a[D]=R.slice();if(null!==C[1])for(var I=C[1],L=a[I];I++<=_;)a[I]=L.slice()}function m(t,e){if(void 0!==t.parent){var r=function(t){for(var e=0;e<v.layers.length;e++)if(v.layers[e].ind===t)return v.layers[e]}(t.parent);if(m(r,e),!t.transformDatas[e].transform)t.transformDatas[e].transform=function(t,e){return{a:t.a*e.a+t.b*e.c,b:t.a*e.b+t.b*e.d,c:t.c*e.a+t.d*e.c,d:t.c*e.b+t.d*e.d,tx:t.tx*e.a+t.ty*e.c+e.tx,ty:t.tx*e.b+t.ty*e.d+e.ty}}(x(t,e),r.transformDatas[e].transform)}else if(!t.transformDatas[e].transform){t.transformDatas[e].transform=x(t,e)}}function x(t,e){var r=t.ks,i=0,n=0,o=1,a=1,s=0,u=r.a.props[0][0],h=r.a.props[0][1];r.p.props[e]&&(i=r.p.props[e][0],n=r.p.props[e][1]),r.s.props[e]&&(o=r.s.props[e][0],a=r.s.props[e][1]),r.r.props[e]&&(s=r.r.props[e][0]);var l={};return s*=Math.PI/180,l.a=Math.cos(s)*o,l.b=Math.sin(s)*o,l.c=-Math.sin(s)*a,l.d=Math.cos(s)*a,l.tx=i+u-(u*l.a+h*l.c),l.ty=n+h-(u*l.b+h*l.d),l}function b(t,e){if(!(e<=0))for(var r=e;r--;)t(e-r-1)}function T(t){return Array.apply(void 0,Array(_)).map((function(e,r){return JSON.parse(JSON.stringify(t))}))}e.lottieToSvgaData=function(t){if(t.svgaData)return t.svgaData;_=t.op,v=t;var e={};e.videoSize={width:t.w,height:t.h},e.FPS=t.fr,e.frames=t.op-t.ip,t.assets&&(e.images={},t.assets.forEach((function(t){e.images[t.id]=t.p.replace("data:image/png;base64,","")})));for(var r=0;r<t.layers.length;r++){var i=(o=t.layers[r]).ks,n="number"==typeof o.ks.a.k[0]?o.ks.a.k:o.ks.a.k[0].s;i.a.props=T(n),y(o)}for(t.layers.forEach((function(t){t.transformDatas=T({alpha:0})})),r=0;r<_;r++)t.layers.forEach((function(t){var e=t.ks,i=t.ip,n=t.op;r>=i&&r<=n&&(t.transformDatas[r].alpha=e.o.props[r][0]),m(t,r)}));for(e.sprites=[],r=0;r<t.layers.length;r++){var o;(o=t.layers[r]).refId&&e.sprites.push({imageKey:o.refId,frames:o.transformDatas})}return e.sprites.reverse(),v.svgaData=e}},function(t,e,r){"use strict";function i(t,e){for(var r=0;r<e.length;r++){if(t<e[r].preLength){for(var i=(t-e[r-1].preLength)/e[r].partialLength,n=e[r-1].point.length,o=[],a=0;a<n;a+=1)o[a]=e[r-1].point[a]+(e[r].point[a]-e[r-1].point[a])*i;return o}}return e[e.length-1].point}Object.defineProperty(e,"__esModule",{value:!0}),e.buildBezierProps=void 0,e.buildBezierProps=function(t,e,r,a,s,u,h,l,c){for(var f=function(t,e,r,i){var a=(t[0]+"_"+t[1]+"_"+e[0]+"_"+e[1]+"_"+r[0]+"_"+r[1]+"_"+i[0]+"_"+i[1]).replace(/\./g,"p");if(!n[a]){var s,u,h,l,c,f,d,p=150,v=0,_=null;2===t.length&&(t[0]!=e[0]||t[1]!=e[1])&&o(t[0],t[1],e[0],e[1],t[0]+r[0],t[1]+r[1])&&o(t[0],t[1],e[0],e[1],e[0]+i[0],e[1]+i[1])&&(p=2);var y={segmentLength:0,points:new Array(p)};for(h=r.length,s=0;s<p;s+=1){for(d=new Array(h),c=s/(p-1),f=0,u=0;u<h;u+=1)l=Math.pow(1-c,3)*t[u]+3*Math.pow(1-c,2)*c*(t[u]+r[u])+3*(1-c)*Math.pow(c,2)*(e[u]+i[u])+Math.pow(c,3)*e[u],d[u]=l,null!==_&&(f+=Math.pow(d[u]-_[u],2));f=Math.sqrt(f),v+=f,y.points[s]={partialLength:f,preLength:v,point:d},_=d}y.segmentLength=v,n[a]=y}return n[a]}(t,e,r,a),d=s;d<=u;d++){if(c){if(d<0)continue;if(d>=c)break}var p=l((d-s)/(u-s)),v=f.segmentLength*p;0!=p?h[d]=1!=p?i(v,f.points):f.points[f.points.length-1].point:h[d]=f.points[0].point}};var n={};function o(t,e,r,i,n,o){var a=t*i+e*n+r*o-n*i-o*t-r*e;return a>-.001&&a<.001}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildBezierEaserProps=void 0;var i=r(61);e.buildBezierEaserProps=function(t,e,r,n,o,a,s,u,h){if(u)for(var l=o;l<a;l++)s[l]=t.slice();else{var c,f,d,p,v,_,y,g,m=t.length;if(r.x.constructor===Array){y=[];for(var x=0;x<m;x++)c=void 0===r.x[x]?r.x[0]:r.x[x],f=void 0===r.y[x]?r.y[0]:r.y[x],d=void 0===n.x[x]?n.x[0]:n.x[x],p=void 0===n.y[x]?n.y[0]:n.y[x],y[x]=i.getBezierEasing(c,f,d,p).get}else c=r.x,f=r.y,d=n.x,p=n.y,g=i.getBezierEasing(c,f,d,p).get;var b=a-o;for(l=o;l<=a;l++){if(h){if(l<0)continue;if(l>=h)break}var T=l,E=[];for(x=0;x<m;x+=1)_=T==a?1:T==o?0:y?y[x]((T-o)/b):g((T-o)/b),v=t[x]+(e[x]-t[x])*_,E[x]=v;s[l]=E}}}},function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||e.hasOwnProperty(r)||i(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(r(62),e),n(r(63),e),n(r(163),e)},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.Bone=void 0;var o,a=r(7),s=r(0),u=r(52),h=function(t){function e(e,r){var i=t.call(this)||this;return i.data=e,i.root=r,i.ax=0,i.ay=0,i.arotation=0,i.ascaleX=0,i.ascaleY=0,i.ashearX=0,i.ashearY=0,i.appliedValid=!1,i.sorted=!1,i._instanceType="Bone",i.name=e.name,i.data.x=i.data.x||0,i.data.y=i.data.y||0,i.data.scaleX=i.data.scaleX||1,i.data.scaleY=i.data.scaleY||1,i.data.rotation=i.data.rotation||0,i.data.shearX=i.data.shearX||0,i.data.shearY=i.data.shearY||0,i.setToSetupPose(),r&&(i.debugBone=i.addChild(new u.Graphics).beginFill(16711680).drawRect(0,0,e.length||10,10).endFill()),i}return n(e,t),Object.defineProperty(e.prototype,"matrix",{get:function(){return this.worldMatrix},enumerable:!1,configurable:!0}),e.prototype.setToSetupPose=function(){var t=this.data;this.x=t.x,this.y=t.y,this.rotation=t.rotation,this.scaleX=t.scaleX,this.scaleY=t.scaleY,this.skewX=t.shearX,this.skewX=t.shearY},e.prototype.updateTransform=function(){e.yDown;if(this.parent){var t=this.parent;if("Bone"==this.parent.instanceType){this.transform._worldID++;var r=t.transform.worldMatrix,i=this.localMatrix,n=this.worldMatrix,a=r.a,u=r.c,h=r.b,l=r.d;switch(n.tx=a*this.x+u*this.y+r.tx,n.ty=h*this.x+l*this.y+r.ty,this.data.transform){case o.onlyTranslation:this.transform.updateLocalMatrix(),n.a=i.a,n.c=i.c,n.b=i.b,n.d=i.d;break;case o.noRotationOrReflection:var c=0;(g=a*a+h*h)>1e-4?(u=h*(g=Math.abs(a*l-u*h)/g),l=a*g,c=Math.atan2(h,a)*s.RAD_TO_DEG):(a=0,h=0,c=90-Math.atan2(l,u)*s.RAD_TO_DEG);var f=this.rotation+this.skewX-c,d=this.rotation+this.skewY-c+90,p=Math.cos(f*s.DEG_TO_RAD)*this.scaleX,v=Math.cos(d*s.DEG_TO_RAD)*this.scaleY,_=Math.sin(f*s.DEG_TO_RAD)*this.scaleX,y=Math.sin(d*s.DEG_TO_RAD)*this.scaleY;n.a=a*p-u*_,n.c=a*v-u*y,n.b=h*p+l*_,n.d=h*v+l*y;break;case o.noScale:case o.noScaleOrReflection:var g,m=Math.cos(this.rotation*s.DEG_TO_RAD),x=Math.sin(this.rotation*s.DEG_TO_RAD),b=(a*m+u*x)/1,T=(h*m+l*x)/1;(g=Math.sqrt(b*b+T*T))>1e-5&&(g=1/g),b*=g,T*=g,g=Math.sqrt(b*b+T*T),this.data.transform==o.noScale&&a*l-u*h<0!=!e.yDown&&(g=-g);var E=Math.PI/2+Math.atan2(T,b),O=Math.cos(E)*g,M=Math.sin(E)*g;p=Math.cos(this.skewX*s.DEG_TO_RAD)*this.scaleX,v=Math.cos((90+this.skewY)*s.DEG_TO_RAD)*this.scaleY,_=Math.sin(this.skewX*s.DEG_TO_RAD)*this.scaleX,y=Math.sin((90+this.skewY)*s.DEG_TO_RAD)*this.scaleY;n.a=b*p+O*_,n.c=b*v+O*y,n.b=T*p+M*_,n.d=T*v+M*y;break;case o.normal:default:this.displayObjectUpdateTransform()}}else{var w=this.parent;this.parent=this._tempDisplayObjectParent,this.transform.updateWorldMatrix(this.parent.transform),this.parent=w}}for(var S=0,P=this.children.length;S<P;++S){var A=this.children[S];A.updateTransform(),A==this.debugBone&&A.worldMatrix.prepend(this.root.worldMatrix)}},e.yDown=!0,e}(a.Container);e.Bone=h,function(t){t.normal="normal",t.onlyTranslation="onlyTranslation",t.noRotationOrReflection="noRotationOrReflection",t.noScale="noScale",t.noScaleOrReflection="noScaleOrReflection"}(o||(o={}))},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.Slot=void 0;var o=r(7),a=r(24),s=function(t){function e(e,r,i){var n=t.call(this)||this;return n.bone=e,n.data=r,n.spine=i,n.deform=new Array,n.name=n.data.name,n.color=new a.SpineColor(1,1,1,1),n.data.color&&n.color.setFromString(n.data.color),n.data.sColor=(new a.SpineColor).setFromColor(n.color),n}return n(e,t),e.prototype.getAttachment=function(){return this.attachment},e.prototype.setAttachment=function(t){this.attachment!=t&&(this.attachment=t,this.deform.length=0)},e.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.sColor),null==this.data.attachment?this.attachment=null:(this.attachment=null,this.setAttachment(this.spine.getAttachment(this.spine.findSlotIndex(this.name),this.data.attachment)))},e}(o.Container);e.Slot=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Skin=void 0;var i=function(){function t(t){this.name=t,this.attachments=new Array}return t.prototype.addAttachment=function(t,e,r){var i=this.attachments;t>=i.length&&(i.length=t+1),i[t]||(i[t]={}),i[t][e]=r},t.prototype.getAttachment=function(t,e){var r=this.attachments[t];return r?r[e]:null},t.prototype.attachAll=function(t,e){for(var r=0,i=0;i<t.length;i++){var n=t[i],o=n.getAttachment();if(o&&r<e.attachments.length){var a=e.attachments[r];for(var s in a){if(o==a[s]){var u=this.getAttachment(r,s);null!=u&&n.setAttachment(u);break}}}r++}},t}();e.Skin=i},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.RegionAttachment=void 0;var o=r(30),a=r(24),s=function(t){function e(e,r,i,n,o,s,u,h,l){void 0===r&&(r=0),void 0===i&&(i=0),void 0===n&&(n=1),void 0===o&&(o=1),void 0===s&&(s=0),void 0===u&&(u=0),void 0===h&&(h=0);var c=t.call(this,e)||this;return c.x=r,c.y=i,c.scaleX=n,c.scaleY=o,c.rotation=s,c.width=u,c.height=h,c.texture=l,c.color=new a.SpineColor(1,1,1,1),c}return n(e,t),e}(o.Attachment);e.RegionAttachment=s},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.MeshAttachment=void 0;var o=r(30),a=r(24),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.color=new a.SpineColor(1,1,1,1),e}return n(e,t),e}(o.VertexAttachment);e.MeshAttachment=s},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.SpineBoneAniTrack=e.SpineBoneAniType=void 0;var o,a=r(11),s=r(18),u=r(1);!function(t){t.rotate="rotate",t.translate="translate",t.scale="scale",t.shear="shear"}(o=e.SpineBoneAniType||(e.SpineBoneAniType={}));var h=function(t){function e(e,r,i){var n=t.call(this)||this;n.bone=e,n.animationType=r,n.times=i,n._instanceType="SpineBoneAniTrack",i.forEach((function(t){switch(t.time=t.time||0,r){case o.rotate:t.angle=t.angle||0;break;case o.scale:t.x=void 0===t.x?1:t.x,t.y=void 0===t.y?1:t.y;break;case o.translate:case o.shear:t.x=t.x||0,t.y=t.y||0}})),n.curve=new a.Curve(i.length);for(var s=0,u=0;u<i.length;u++){var h=i[u];a.readCurve(h,n.curve,s),s++}return n}return n(e,t),e.prototype.resetValue=function(){this.bone.setToSetupPose()},e.prototype.setValue=function(t,e,r,i){switch(void 0===e&&(e=1),void 0===r&&(r=a.MixBlend.replace),void 0===i&&(i=a.MixDirection.in),this.animationType){case o.translate:this.setPosition(t,e,r);break;case o.scale:this.setScale(t,e,r,i);break;case o.shear:this.setShear(t,e,r);break;case o.rotate:this.setRotation(t,e,r)}},e.prototype.setRotation=function(t,e,r){void 0===e&&(e=1),void 0===r&&(r=a.MixBlend.replace);var i=this.times,n=this.bone;if(t<i[0].time)switch(r){case a.MixBlend.setup:return void(n.rotation=n.data.rotation);case a.MixBlend.first:var o=n.data.rotation-n.rotation;n.rotation+=(o-l(o))*e}else if(t>=i[i.length-1].time){var s=i[i.length-1].angle;switch(r){case a.MixBlend.setup:n.rotation=n.data.rotation+s*e;break;case a.MixBlend.first:case a.MixBlend.replace:s+=n.data.rotation-n.rotation,s-=l(s);case a.MixBlend.add:n.rotation+=s*e}}else{var u=this.findPreIndex(t),h=i[u-1].angle,c=i[u].time,f=this.curve.getCurvePercent(u-1,1-(t-c)/(i[u-1].time-c)),d=i[u].angle-h;switch(d=h+(d-l(d))*f,r){case a.MixBlend.setup:n.rotation=n.data.rotation+(d-l(d))*e;break;case a.MixBlend.first:case a.MixBlend.replace:d+=n.data.rotation-n.rotation;case a.MixBlend.add:n.rotation+=(d-l(d))*e}}},e.prototype.setPosition=function(t,e,r){void 0===e&&(e=1),void 0===r&&(r=a.MixBlend.replace);var i=this.times,n=this.bone;if(t<i[0].time)switch(r){case a.MixBlend.setup:return n.x=n.data.x,void(n.y=n.data.y);case a.MixBlend.first:n.x+=(n.data.x-n.x)*e,n.y+=(n.data.y-n.y)*e}else{var o=0,s=0;if(t>=i[i.length-1].time)o=i[i.length-1].x,s=i[i.length-1].y;else{var u=this.findPreIndex(t);o=i[u-1].x,s=i[u-1].y;var h=i[u].time,l=this.curve.getCurvePercent(u-1,1-(t-h)/(i[u-1].time-h));o+=(i[u].x-o)*l,s+=(i[u].y-s)*l}switch(r){case a.MixBlend.setup:n.x=n.data.x+o*e,n.y=n.data.y+s*e;break;case a.MixBlend.first:case a.MixBlend.replace:n.x+=(n.data.x+o-n.x)*e,n.y+=(n.data.y+s-n.y)*e;break;case a.MixBlend.add:n.x+=o*e,n.y+=s*e}}},e.prototype.setScale=function(t,e,r,i){void 0===e&&(e=1),void 0===r&&(r=a.MixBlend.replace),void 0===i&&(i=a.MixDirection.in);var n=this.times,o=this.bone;if(t<n[0].time)switch(r){case a.MixBlend.setup:return o.scaleX=o.data.scaleX,void(o.scaleY=o.data.scaleY);case a.MixBlend.first:o.scaleX+=(o.data.scaleX-o.scaleX)*e,o.scaleY+=(o.data.scaleY-o.scaleY)*e}else{var s=0,h=0;if(t>=n[n.length-1].time)s=n[n.length-1].x*o.data.scaleX,h=n[n.length-1].y*o.data.scaleY;else{var l=this.findPreIndex(t);s=n[l-1].x,h=n[l-1].y;var c=n[l].time,f=this.curve.getCurvePercent(l-1,1-(t-c)/(n[l-1].time-c));s=(s+(n[l].x-s)*f)*o.data.scaleX,h=(h+(n[l].y-h)*f)*o.data.scaleY}if(1==e)r==a.MixBlend.add?(o.scaleX+=s-o.data.scaleX,o.scaleY+=h-o.data.scaleY):(o.scaleX=s,o.scaleY=h);else{var d=0,p=0;if(i==a.MixDirection.out)switch(r){case a.MixBlend.setup:d=o.data.scaleX,p=o.data.scaleY,o.scaleX=d+(Math.abs(s)*u.sign(d)-d)*e,o.scaleY=p+(Math.abs(h)*u.sign(p)-p)*e;break;case a.MixBlend.first:case a.MixBlend.replace:d=o.scaleX,p=o.scaleY,o.scaleX=d+(Math.abs(s)*u.sign(d)-d)*e,o.scaleY=p+(Math.abs(h)*u.sign(p)-p)*e;break;case a.MixBlend.add:d=o.scaleX,p=o.scaleY,o.scaleX=d+(Math.abs(s)*u.sign(d)-o.data.scaleX)*e,o.scaleY=p+(Math.abs(h)*u.sign(p)-o.data.scaleY)*e}else switch(r){case a.MixBlend.setup:d=Math.abs(o.data.scaleX)*u.sign(s),p=Math.abs(o.data.scaleY)*u.sign(h),o.scaleX=d+(s-d)*e,o.scaleY=p+(h-p)*e;break;case a.MixBlend.first:case a.MixBlend.replace:d=Math.abs(o.scaleX)*u.sign(s),p=Math.abs(o.scaleY)*u.sign(h),o.scaleX=d+(s-d)*e,o.scaleY=p+(h-p)*e;break;case a.MixBlend.add:d=u.sign(s),p=u.sign(h),o.scaleX=Math.abs(o.scaleX)*d+(s-Math.abs(o.data.scaleX)*d)*e,o.scaleY=Math.abs(o.scaleY)*p+(h-Math.abs(o.data.scaleY)*p)*e}}}},e.prototype.setShear=function(t,e,r){void 0===e&&(e=1),void 0===r&&(r=a.MixBlend.replace);var i=this.times,n=this.bone;if(t<i[0].time)switch(r){case a.MixBlend.setup:return n.skewX=n.data.shearX,void(n.skewY=n.data.shearY);case a.MixBlend.first:n.skewX+=(n.data.shearX-n.skewX)*e,n.skewY+=(n.data.shearY-n.skewY)*e}else{var o=0,s=0;if(t>=i[i.length-1].time)o=i[i.length-1].x,s=i[i.length-1].y;else{var u=this.findPreIndex(t);o=i[u-1].y,s=i[u-1].y;var h=i[u].time,l=this.curve.getCurvePercent(u-1,1-(t-h)/(i[u-1].time-h));o+=(i[u].x-o)*l,s+=(i[u].y-s)*l}switch(r){case a.MixBlend.setup:n.skewX=n.data.shearX+o*e,n.skewY=n.data.shearY+s*e;break;case a.MixBlend.first:case a.MixBlend.replace:n.skewX+=(n.data.shearX+o-n.skewX)*e,n.skewY+=(n.data.shearY+s-n.skewY)*e;break;case a.MixBlend.add:n.skewX+=o*e,n.skewY+=s*e}}},e.prototype.findPreIndex=function(t){for(var e=0,r=0;r<this.times.length;r++)if(this.times[r].time>t){e=r;break}return e},e.prototype.destroy=function(){this.bone=null,this.times=null},e}(s.BaseTrack);function l(t){return 360*(16384-(16384.499999999996-t/360|0))}e.SpineBoneAniTrack=h},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.SpineColorAniTrack=void 0;var o=r(11),a=r(24),s=function(t){function e(r,i){var n=t.call(this)||this;n.slot=r,n._instanceType="SpineColorAniTrack";var s=i.length;n.frames=new Float32Array(s*e.ENTRIES),n.curve=new o.Curve(s);for(var u=0,h=0;h<s;h++){var l=i[h],c=(new a.SpineColor).setFromString(l.color||"ffffffff"),f=u*e.ENTRIES;n.frames[f]=l.time||0,n.frames[f+e.R]=c.r,n.frames[f+e.G]=c.g,n.frames[f+e.B]=c.b,n.frames[f+e.A]=c.a,o.readCurve(l,n.curve,u),u++}return n}return n(e,t),e.prototype.resetValue=function(){this.slot.setToSetupPose()},e.prototype.setValue=function(t,r,i){void 0===r&&(r=1),void 0===i&&(i=o.MixBlend.replace);var n=this.slot,a=this.frames;if(t<a[0])switch(i){case o.MixBlend.setup:return void n.color.setFromColor(n.data.sColor);case o.MixBlend.first:case o.MixBlend.replace:var s=n.color,u=n.data.sColor;s.add((u.r-s.r)*r,(u.g-s.g)*r,(u.b-s.b)*r,(u.a-s.a)*r)}else{var h=0,l=0,c=0,f=0;if(t>=a[a.length-e.ENTRIES]){var d=a.length;h=a[d+e.PREV_R],l=a[d+e.PREV_G],c=a[d+e.PREV_B],f=a[d+e.PREV_A]}else{var p=o.binarySearch(a,t,e.ENTRIES);h=a[p+e.PREV_R],l=a[p+e.PREV_G],c=a[p+e.PREV_B],f=a[p+e.PREV_A];var v=a[p],_=this.curve.getCurvePercent(p/e.ENTRIES-1,1-(t-v)/(a[p+e.PREV_TIME]-v));h+=(a[p+e.R]-h)*_,l+=(a[p+e.G]-l)*_,c+=(a[p+e.B]-c)*_,f+=(a[p+e.A]-f)*_}if(1==r)n.color.set(h,l,c,f);else{s=n.color;i==o.MixBlend.setup&&s.setFromColor(n.data.sColor),s.add((h-s.r)*r,(l-s.g)*r,(c-s.b)*r,(f-s.a)*r)}}},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_R=-4,e.PREV_G=-3,e.PREV_B=-2,e.PREV_A=-1,e.R=1,e.G=2,e.B=3,e.A=4,e}(r(18).BaseTrack);e.SpineColorAniTrack=s},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.SpineDeformAniTrack=void 0;var o=r(11),a=r(30),s=function(t){function e(e,r,i){var n=t.call(this)||this;n.slot=e,n.attachment=r,n.times=i,n._instanceType="SpineDeformAniTrack";var a=null!=r.bones,s=r.vertices,u=a?s.length/3*2:s.length;n.frameTimes=new Float32Array(i.length),n.frameVertices=new Array(i.length),n.curve=new o.Curve(i.length);for(var h=0,l=0;l<i.length;l++){var c=i[l],f=void 0,d=c.vertices||null;if(null==d)f=a?new Float32Array(u):s;else{f=new Float32Array(u);var p=c.offset||0;if(o.arrayCopy(d,0,f,p,d.length),!a)for(var v=0;v<u;v++)f[v]+=s[v]}n.frameTimes[h]=c.time||0,n.frameVertices[h]=f,o.readCurve(c,n.curve,h),h++}return n}return n(e,t),e.prototype.setValue=function(t,e,r){void 0===e&&(e=1),void 0===r&&(r=o.MixBlend.replace);var i=this.slot.getAttachment();if(i instanceof a.VertexAttachment&&i.applyDeform(this.attachment)){var n=this.slot.deform;0==n.length&&(r=o.MixBlend.setup);var s=this.frameVertices,u=s[0].length,h=this.frameTimes;if(t<h[0]){var l=i;switch(r){case o.MixBlend.setup:return void(n.length=0);case o.MixBlend.first:if(1==e){n.length=0;break}var c=o.setArraySize(n,u);if(null==l.bones)for(var f=l.vertices,d=0;d<u;d++)c[d]+=(f[d]-c[d])*e;else{e=1-e;for(d=0;d<u;d++)c[d]*=e}}}else{var p=o.setArraySize(n,u);if(t>=h[h.length-1]){var v=s[h.length-1];if(1==e)if(r==o.MixBlend.add)if(null==(l=i).bones)for(f=l.vertices,d=0;d<u;d++)p[d]+=v[d]-f[d];else for(d=0;d<u;d++)p[d]+=v[d];else o.arrayCopy(v,0,p,0,u);else switch(r){case o.MixBlend.setup:var _=i;if(null==_.bones)for(f=_.vertices,d=0;d<u;d++){var y=f[d];p[d]=y+(v[d]-y)*e}else for(d=0;d<u;d++)p[d]=v[d]*e;break;case o.MixBlend.first:case o.MixBlend.replace:for(d=0;d<u;d++)p[d]+=(v[d]-p[d])*e;case o.MixBlend.add:if(null==(l=i).bones)for(f=l.vertices,d=0;d<u;d++)p[d]+=(v[d]-f[d])*e;else for(d=0;d<u;d++)p[d]+=v[d]*e}}else{var g=o.binarySearch(h,t),m=s[g-1],x=s[g],b=h[g],T=this.curve.getCurvePercent(g-1,1-(t-b)/(h[g-1]-b));if(1==e)if(r==o.MixBlend.add)if(null==(l=i).bones)for(f=l.vertices,d=0;d<u;d++){var E=m[d];p[d]+=E+(x[d]-E)*T-f[d]}else for(d=0;d<u;d++){E=m[d];p[d]+=E+(x[d]-E)*T}else for(d=0;d<u;d++){E=m[d];p[d]=E+(x[d]-E)*T}else switch(r){case o.MixBlend.setup:var O=i;if(null==O.bones)for(f=O.vertices,d=0;d<u;d++){E=m[d],y=f[d];p[d]=y+(E+(x[d]-E)*T-y)*e}else for(d=0;d<u;d++){E=m[d];p[d]=(E+(x[d]-E)*T)*e}break;case o.MixBlend.first:case o.MixBlend.replace:for(d=0;d<u;d++){E=m[d];p[d]+=(E+(x[d]-E)*T-p[d])*e}break;case o.MixBlend.add:if(null==(l=i).bones)for(f=l.vertices,d=0;d<u;d++){E=m[d];p[d]+=(E+(x[d]-E)*T-f[d])*e}else for(d=0;d<u;d++){E=m[d];p[d]+=(E+(x[d]-E)*T)*e}}}}}},e}(r(18).BaseTrack);e.SpineDeformAniTrack=s},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.AttachmentAniTrack=void 0;var o=r(11),a=function(t){function e(e,r,i){var n=t.call(this)||this;return n.slot=e,n.times=r,n.spine=i,n._instanceType="AttachmentAniTrack",r.forEach((function(t){t.time=t.time||0})),n}return n(e,t),e.prototype.resetValue=function(){this.slot.setToSetupPose()},e.prototype.setValue=function(t,e,r,i){void 0===e&&(e=1),void 0===r&&(r=o.MixBlend.replace),void 0===i&&(i=o.MixDirection.in);var n=this.slot;if(i!=o.MixDirection.out||r!=o.MixBlend.setup){var a=this.times;if(t<a[0].time){if(r==o.MixBlend.setup||r==o.MixBlend.first||r==o.MixBlend.replace){u=n.data.attachment;n.setAttachment(u?this.spine.getAttachment(this.spine.slots.indexOf(n),u):null)}}else{var s=a[t>=a[a.length-1].time?a.length-1:function(t,e){var r=0,i=t.length-2;if(0==i)return 1;var n=i>>>1;for(;;){if(t[n+1].time<=e?r=n+1:i=n,r==i)return r+1;n=r+i>>>1}}(a,t)-1].name;n.setAttachment(null==s?null:this.spine.getAttachment(this.spine.slots.indexOf(n),s))}}else{var u=n.data.attachment;n.setAttachment(u?this.spine.getAttachment(this.spine.slots.indexOf(n),u):null)}},e}(r(18).BaseTrack);e.AttachmentAniTrack=a},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.DrawOrderAniTrack=void 0;var o=r(18),a=r(11),s=function(t){function e(e,r,i){var n=t.call(this)||this;return n.slots=e,n.drawOrder=r,n.times=i,n._instanceType="DrawOrderAniTrack",n}return n(e,t),e.prototype.setValue=function(t,e,r,i){void 0===e&&(e=1),void 0===r&&(r=a.MixBlend.replace),void 0===i&&(i=a.MixDirection.in);var n=this.drawOrder,o=this.slots;if(i!=a.MixDirection.out||r!=a.MixBlend.setup){var s=this.times;if(t<s[0].time)r!=a.MixBlend.setup&&r!=a.MixBlend.first||a.arrayCopy(o,0,n,0,o.length);else{var u=s[t>=s[s.length-1].time?s.length-1:function(t,e){var r=0,i=t.length-2;if(0==i)return 1;var n=i>>>1;for(;;){if(t[n+1].time<=e?r=n+1:i=n,r==i)return r+1;n=r+i>>>1}}(s,t)-1].drawOrder;if(u)for(var h=0,l=u.length;h<l;h++)n[h]=o[u[h]];else a.arrayCopy(o,0,n,0,o.length)}}else a.arrayCopy(o,0,n,0,o.length)},e}(o.BaseTrack);e.DrawOrderAniTrack=s},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.SpineAniManager=e.SpineAniClip=void 0;var o=r(161),a=r(162),s=r(11),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.alpha=1,e.blend=s.MixBlend.replace,e.direction=s.MixDirection.in,e}return n(e,t),e.prototype.rectify=function(){if(this.tracks&&this.tracks.length){for(var t=0;t<this.tracks.length;t++)this.tracks[t].setValue(this.curTime,this.alpha,this.blend,this.direction);this.lastTime=this.curTime}},e}(a.AnimationClip);e.SpineAniClip=u;var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.showAni=function(e,r,i,n){if(void 0===r&&(r=1),void 0===n&&(n=0),!n||!this.currentClip)return t.prototype.showAni.call(this,e,r,i);var o=this.currentClip,a=this.getAniClipByName(e);return a?o==a?t.prototype.showAni.call(this,e,r,i):(o.fromClip&&(this.resetFrom(o.fromClip),o.fromClip=null),a.mixTime=0,a.mixDuration=n,a.fromClip=o,void(this.currentClip=a).startAniRange(0,void 0,r,i)):null},e.prototype.update=function(e){void 0===e&&(e=.0167),this.applyMixingFrom(this.currentClip,e,s.MixBlend.first),t.prototype.update.call(this,e)},e.prototype.applyMixingFrom=function(t,e,r){if(t){var i=t.fromClip;if(i){t.mixTime+=e;var n=0;0==t.mixDuration?(n=1,r==s.MixBlend.first&&(r=s.MixBlend.setup)):((n=t.mixTime/t.mixDuration)>1&&(n=1),r!=s.MixBlend.first&&(r=i.blend)),t.alpha=n,i.alpha=1-n,i.blend=r,0==i.alpha&&(this.resetFrom(i),t.fromClip.tracks.forEach((function(t){"AttachmentAniTrack"==t.instanceType&&t.resetValue()})),t.fromClip=null)}}},e.prototype.resetFrom=function(t){t._isPlaying=!1,t.alpha=1,t.blend=s.MixBlend.replace},e}(o.AnimationManager);e.SpineAniManager=h},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.AnimationManager=void 0;var o=function(t){function e(e){var r=t.call(this)||this;return r.animationClips=e,r._instanceType="AnimationManager",r.stop(),r}return n(e,t),e.prototype.getAniClipByName=function(t){for(var e=0;e<this.animationClips.length;e++)if(this.animationClips[e].name==t)return this.animationClips[e];return null},e.prototype.showAni=function(t,e,r){void 0===e&&(e=1);var i=this.getAniClipByName(t);return i?(this.currentClip&&this.currentClip.resetState(),this.currentClip=i,i.startAniRange(0,void 0,e,r),i):null},e.prototype.stop=function(){this.animationClips.forEach((function(t){t.stop()})),this.currentClip=null},e.prototype.reset=function(){this.animationClips.forEach((function(t){t.resetState()})),this.currentClip=null},e.prototype.update=function(t){void 0===t&&(t=.0167);for(var e=0;e<this.animationClips.length;e++)this.animationClips[e].update(t)},e.prototype.destroy=function(){this.animationClips=null,this.currentClip=null},e}(r(3).HashObject);e.AnimationManager=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.AnimationClip=void 0;var o=r(27),a=function(t){function e(e,r){var i=t.call(this)||this;return i._isPlaying=!0,i._isFront=!0,i.lastTime=null,i.curTime=0,i._endMark=!1,i._instanceType="AnimationClip",i.tracks=e,i._totalTime=r,i}return n(e,t),Object.defineProperty(e.prototype,"totalTime",{get:function(){return this._totalTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isPlaying",{get:function(){return this._isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isFront",{get:function(){return this._isFront},enumerable:!1,configurable:!0}),e.prototype.update=function(t){if(this.tracks&&this.tracks.length)return this.curTime!==this.lastTime?(this.rectify(),void(this._endMark=!1)):void(t<=0||!this._isPlaying||(this._endMark=!1,this._isFront?(this.curTime+=t,this.curTime>this._totalTime&&(this.curTime=0,this._endMark=!0)):(this.curTime-=t,this.curTime<0&&(this.curTime=this._totalTime,this._endMark=!0)),this.curTime!==this.lastTime&&(this.rectify(),this.dispatchEvent(o.Event.ENTER_FRAME),this._endMark&&this.hasEventListener(o.Event.END_FRAME)&&this.dispatchEvent(o.Event.END_FRAME))))},e.prototype.play=function(t){void 0===t&&(t=!0),this._isFront=t,this._isPlaying=!0},e.prototype.stop=function(){this._isPlaying=!1,this.lastTime=this.curTime},e.prototype.gotoAndPlay=function(t,e){void 0===e&&(e=!0);var r=this;r._isFront=e,r._isPlaying=!0,t>r._totalTime&&(t=r._totalTime),t<1&&(t=0),r.curTime=t},e.prototype.gotoAndStop=function(t){this._isPlaying=!1,t>this.totalTime&&(t=this.totalTime),t<0&&(t=0),this.curTime=t},e.prototype.startAniRange=function(t,e,r,i){var n=this;if(void 0===t&&(t=0),void 0===e&&(e=this._totalTime),void 0===r&&(r=1),t<0&&(t=0),t>this._totalTime&&(t=this._totalTime),e<0&&(e=0),e>this._totalTime&&(e=this._totalTime),t!==e){if(t<e)this._isFront=!0;else{this._isFront=!1;var a=t;t=e,e=a}this.startAniRangeFun&&this.removeEventListener(o.Event.ENTER_FRAME,this.startAniRangeFun,this),this.curTime=t,this._isPlaying=!0;var s=r?r+.5>>0:1/0;this.addEventListener(o.Event.ENTER_FRAME,this.startAniRangeFun=function(r){var a=r.target;a._isFront?(a.curTime>=e||a._endMark)&&(--s<=0?(a.gotoAndStop(e),a.removeEventListener(o.Event.ENTER_FRAME,n.startAniRangeFun,n),n.startAniRangeFun=null,i&&i(s)):a.gotoAndPlay(t)):(a.curTime<=t||a._endMark)&&(--s<=0?(a.gotoAndStop(t),a.removeEventListener(o.Event.ENTER_FRAME,n.startAniRangeFun,n),n.startAniRangeFun=null,i&&i(s)):a.gotoAndPlay(e,!1))},this)}else this.gotoAndStop(t)},e.prototype.rectify=function(){if(this.tracks&&this.tracks.length){for(var t=0;t<this.tracks.length;t++)this.tracks[t].setValue(this.curTime);this.lastTime=this.curTime}},e.prototype.resetState=function(){this.stop();for(var t=0;t<this.tracks.length;t++)this.tracks[t].resetValue()},e}(o.EventDispatcher);e.AnimationClip=a},function(t,e,r){"use strict";var i=this&&this.__awaiter||function(t,e,r,i){return new(r||(r=Promise))((function(n,o){function a(t){try{u(i.next(t))}catch(t){o(t)}}function s(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))},n=this&&this.__generator||function(t,e){var r,i,n,o,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(n=a.trys,(n=n.length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.loadSpine=void 0;var o=r(21),a=r(1),s=r(63),u=r(17),h=r(62);e.loadSpine=function(t,e,r){var l=this;o.GlobalLoader.loadAB((function(t,c){return i(l,void 0,void 0,(function(){var i,l,f,d,p,v,_;return n(this,(function(n){if(!t)return r&&r(c),[2];try{i=new DataView(c,0,12),l=i.getUint32(0,!0),f=i.getUint32(4,!0),d=i.getUint32(8,!0),p="data:image/png;base64,"+a.ArrayBufferToBase64(c.slice(12,l+12)),v=a.decodeText(new Uint8Array(c,12+l,f)),_=JSON.parse(a.decodeText(new Uint8Array(c,12+l+f,d))),o.GlobalLoader.loadImage((function(t,r){e&&e(new h.Spine(_,s.createTexturesByAtlas(u.BaseTexture.fromImage(r),v)))}),p)}catch(t){r&&r(t)}return[2]}))}))}),t)}}])}));
//# sourceMappingURL=fyge.min.js.map